{"version":3,"sources":["webpack:///./node_modules/chart.js/dist/chart.esm.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","_unsupportedIterableToArray","F","s","done","value","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","animator","Animator","_request","_charts","Map","_running","_lastDate","undefined","chart","anims","date","type","callbacks","listeners","numSteps","duration","fn","initial","currentStep","Math","min","start","me","window","_update","_refresh","Date","now","remaining","running","items","item","draw","_active","_total","tick","pop","_notify","charts","get","complete","progress","set","event","cb","_getAnims","_this$_getAnims$items","reduce","acc","cur","max","_duration","cancel","delete","interpolators","boolean","to","factor","color","c0","c1","valid","mix","hexString","number","Animation","cfg","prop","currentValue","_fn","_easing","easing","linear","_start","floor","delay","_loop","loop","_target","_prop","_from","_to","_promises","elapsed","remain","promises","Promise","res","rej","resolved","method","animationOptions","animation","describe","_fallback","_indexable","_scriptable","colors","properties","numbers","active","resize","show","animations","visible","hide","v","Animations","config","_chart","_properties","configure","animatedProps","getOwnPropertyNames","_step","_iterator","option","has","values","newOptions","options","$shared","assign","$animations","resolveTargetOptions","_createAnimations","anim","wait","all","awaitAll","then","props","charAt","update","_animateOptions","size","add","scaleClip","scale","allowedOverflow","opts","reverse","end","getSortedDatasetIndices","filterVisible","ilen","metasets","_getSortedDatasetMetas","index","_applyStack","stack","dsIndex","datasetIndex","otherValue","singleMode","mode","isStacked","meta","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","_step2","_iterator2","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","indexScale","valueScale","concat","id","getStackKey","_top","_bottom","getFirstScaleId","scales","shift","clearStacks","_step3","_iterator3","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","initialize","linkScales","_stacked","addElements","dataset","getDataset","chooseId","x","y","r","xid","xAxisID","yid","yAxisID","rid","rAxisID","indexAxis","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","data","datasets","getDatasetMeta","scaleID","adata","convertObjectDataToArray","isExtensible","_dataCheck","datasetElementType","resetNewElements","stackChanged","_resyncElements","scopeKeys","datasetScopeKeys","scopes","getOptionScopes","createResolver","getContext","parsing","count","sorted","_sorted","prev","parseArrayData","parseObjectData","parsePrimitiveData","labels","getLabels","singleScale","_parsed$i","parse","_this$_parsing","_this$_parsing$xAxisK","xAxisKey","_this$_parsing$yAxisK","yAxisKey","range","parsedValue","NaN","canStack","otherScale","_getOtherScale","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","_getUserBounds","_scale$getUserBounds","getUserBounds","minDefined","maxDefined","otherMin","otherMax","_skip","updateRangeFromParsed","getParsed","label","getLabelForValue","t","b","l","_clip","clip","top","right","bottom","left","defaultClip","getMaxOverflow","elements","area","chartArea","element","resolveDatasetElementOptions","resolveDataElementOptions","context","parent","create","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","cache","cacheKey","sharing","datasetElementScopeKeys","prefixes","names","resolveNamedOptions","freeze","transition","datasetAnimationScopeKeys","_cacheable","sharedOptions","_animationsDisabled","_resolveAnimations","getStyle","getSharedOptions","_setStyle","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","splice","computeMinSampleSize","curr","_cache","$bar","metas","getAllParsedValues","sort","a","getAllScaleValues","_length","updateMinAndPrev","abs","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","defaults","BarController","_DatasetController","_super","obj","_this$_parsing2","_this$_parsing2$xAxis","_this$_parsing2$yAxis","iAxisKey","vAxisKey","bars","reset","base","getBasePixel","horizontal","isHorizontal","ruler","_getRuler","firstOpts","includeOptions","updateSharedOptions","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","enableBorderRadius","center","height","width","updateElement","last","val","isNaN","indexOf","_getStacks","pixels","barThickness","_startPixel","_endPixel","stackCount","_getStackCount","grouped","ratio","categoryPercentage","barPercentage","_me$_cachedMeta","_me$options","baseValue","minBarLength","floating","applyStack","getDataVisibility","actualBase","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","_getStackIndex","rects","overrides","interaction","_index_","offset","grid","_value_","beginAtZero","BubbleController","_DatasetController2","_super2","_this$_parsing3","_this$_parsing3$xAxis","_this$_parsing3$yAxis","_this$_cachedMeta","points","_me$_cachedMeta2","point","getPixelForDecimal","skip","radius","plugins","tooltip","title","DoughnutController","_DatasetController3","_super3","_this","innerRadius","outerRadius","offsetX","offsetY","rotation","circumference","isDatasetVisible","_getRotation","_getCircumference","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","_me$_getRotationExten","_getRotationExtents","_getRatioAndOffset","ratioX","ratioY","startAngle","endAngle","startX","cos","startY","sin","endX","endY","calcMax","angle","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxWidth","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","_circumference","arc","metaData","locale","borderAlign","borderWidth","hoverBorderWidth","hoverOffset","ringWeightOffset","weight","aspectRatio","legend","generateLabels","map","style","text","fillStyle","backgroundColor","strokeStyle","borderColor","lineWidth","hidden","onClick","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_DatasetController4","_super4","line","_meta$data","_dataset","animationsDisabled","_getStartAndCountOfVi","pointCount","_iScale$getUserBounds","lo","hi","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_decimated","showLine","segment","animated","_me$_cachedMeta3","spanGaps","maxGapLength","directUpdate","prevParsed","nullData","stop","border","firstPoint","lastPoint","updateControlPoints","PolarAreaController","_DatasetController5","_super5","_this2","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","_this3","angleLines","display","circular","pointLabels","PieController","_DoughnutController","_super6","RadarController","_DatasetController6","_super7","_fullLoop","pointPosition","getPointPositionForValue","fill","ScatterController","_LineController","_super8","controllers","__proto__","abstract","Error","DateAdapter","format","timestamp","_format","amount","unit","weekday","override","members","adapters","_date","getRelativePosition","binarySearch","metaset","intersect","lookupMethod","_reversePixels","el","getRange","optimizedEvaluateItems","position","handler","getSortedVisibleDatasetMetas","_metasets$i2","_binarySearch","j","getIntersectItems","useFinalPosition","_minPadding","inRange","getNearestItems","distanceMetric","useX","useY","pt1","pt2","deltaX","deltaY","sqrt","pow","getDistanceMetricForAxis","minDistance","getCenterPoint","distance","getAxisItems","rangeMethod","intersectsItem","_metasets$i","jlen","evaluateAllVisibleItems","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","array","pos","filterDynamicPositionByAxis","box","sortByWeight","v0","v1","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","params","layout","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","w","heightChanged","h","same","other","getMargins","marginForPositions","positions","margin","fitBoxes","boxes","refit","refitBoxes","_updateDims","fullSize","placeBoxes","userPadding","padding","layouts","_layers","z","layoutItem","minPadding","availableWidth","availableHeight","layoutBoxes","wrapBoxes","wrap","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","vBoxMaxWidth","hBoxMaxHeight","setLayoutDims","updatePos","change","handleMaxPadding","BasePlatform","canvas","listener","BasicPlatform","_BasePlatform","_super9","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","passive","removeListener","removeEventListener","createAttachObserver","observer","MutationObserver","entries","addedNodes","added","observe","document","childList","subtree","createDetachObserver","container","removedNodes","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","devicePixelRatio","currentDevicePixelRatio","createResizeObserver","clientWidth","ResizeObserver","contentRect","addEventListener","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","proxy","_getRelativePosition$","native","fromNativeEvent","args","node","addListener","DomPlatform","_BasePlatform2","_super10","renderHeight","getAttribute","renderWidth","boxSizing","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","Element","_this$getProps","getProps","final","ret","defaultRoutes","formatters","numeric","tickValue","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","tickLength","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","majorIndices","major","enabled","getMajorIndices","numMajorIndices","first","newTicks","ceil","skipMajors","evenMajorSpacing","diff","getEvenSpacing","factors","calculateSpacing","avgMajorSpacing","round","majorStart","majorEnd","bounds","grace","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","borderDash","borderDashOffset","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","callback","minor","align","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","startsWith","offsetFromEdge","edge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","fallback","font","lineHeight","titleAlign","reverseAlign","Scale","_Element","_super11","_this4","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","setContext","suggestedMin","suggestedMax","_me$getUserBounds","getMinMax","xLabels","yLabels","beforeUpdate","margins","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","notifyPlugins","_callHooks","beforeTickToLabelConversion","afterTickToLabelConversion","maxLabelDiagonal","numTicks","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","_me$options2","titleOpts","gridOpts","titleHeight","_me$_getLabelSizes","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","_me$options3","_me$options3$ticks","isRotated","labelsBelowTicks","offsetLeft","offsetRight","_this$options","generateTickLabels","_computeLabelSizes","tickFont","fontString","nestedLabel","caches","widths","heights","widestLabelSize","highestLabelSize","_resolveTickFontOptions","string","gc","gcLen","garbageCollect","valueAt","idx","pixel","decimal","getBaseValue","createTickContext","optionTicks","rot","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","positionAxisID","_positionAxisID","_value","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","textAlign","lineCount","textOffset","tickAndPadding","hTickAndPadding","textBaseline","_getXAxisLabelAlignment","_getYAxisLabelAlignment","_ret","_positionAxisID2","_value2","halfCount","strokeColor","strokeWidth","backdrop","labelPadding","translation","_me$options4","_me$options5","_me$options5$ticks","save","fillRect","restore","findIndex","_computeGridLineItems","drawLine","p1","p2","setLineDash","lineDashOffset","beginPath","moveTo","lineTo","stroke","lastLineWidth","_computeLabelArea","_computeLabelItems","_this$options2","_titleArgs","titleX","titleY","titleArgs","drawBackground","drawGrid","drawTitle","drawLabels","tz","gz","axisID","fontSize","TypedRegistry","scope","isPrototypeOf","parentScope","proto","getPrototypeOf","isIChartComponent","register","itemDefaults","routes","property","propertyParts","split","sourceName","sourceScope","join","parts","targetName","targetScope","routeDefaults","descriptors","registerDefaults","registry","Registry","_typedRegistries","_len","_key","_each","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_get","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","typedRegistry","arg","reg","_getRegistryForType","isForType","_exec","itemReg","component","camelMethod","PluginService","_init","hook","_createDescriptors","_descriptors","_step4","_iterator4","descriptor","plugin","cancelable","_oldCache","_notifyStateChanges","getPlugin","local","_i","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","scriptable","indexable","allKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","toLowerCase","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","Set","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","mainScope","resetCache","keyLists","_cachedScopes","_getResolver","getResolver","resolver","subPrefixes","needContext","subResolver","_step5","_iterator5","descriptorDefaults","_getResolver2","resolverCache","p","includes","_step6","_descriptors2","isScriptable","isIndexable","_iterator6","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","isDomSupported","getCanvas","getElementById","instances","getChart","c","Chart","_this5","initialCanvas","existingChart","chartOptionScopes","platform","_initializePlatform","acquireContext","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","listen","_initialize","console","error","_this$options3","maintainAspectRatio","responsive","bindEvents","OffscreenCanvas","_resizeBeforeDraw","_resize","newSize","getMaximumSize","oldRatio","newRatio","getDevicePixelRatio","onResize","render","scalesOptions","axisOptions","scaleOpts","updated","isRadial","dposition","dtype","scaleType","getScale","init","hasUpdated","oldIndex","_destroyDatasetMeta","newControllers","_removeUnreferencedMetasets","order","_updateMetasetIndex","updateIndex","ControllerClass","getController","_defaults$datasets$ty","getElement","_updateMetasets","_resetElements","animsDisabled","ensureScalesHaveIDs","buildOrUpdateScales","existingEvents","newEvents","events","unbindEvents","invalidate","buildOrUpdateControllers","buildOrUpdateElements","_updateLayout","_updateDatasets","_eventHandler","noArea","_me$_layers","_idx","isFunction","_updateDataset","_me$_resizeBeforeDraw","layers","_drawDatasets","_drawDataset","setDatasetVisibility","_updateDatasetVisibility","_destroy","remove","releaseContext","_this$canvas","toDataURL","_add","_remove","detached","isAttached","prefix","activeElements","lastActive","_ref","_updateHoverStyles","notify","replay","hoverOptions","hover","deactivated","activated","updateHoverStyle","_this6","eventFilter","_handleEvent","_me$_active","lastEvent","getElementsAtEventForMode","onHover","invalidatePlugins","clipArc","pixelMargin","angleMargin","closePath","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","_parseBorderRadius$","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","_pCenter","PI","_pCenter2","p8","_pCenter3","inner","lineJoin","fullCircles","drawFullCircleBorders","version","unregister","ArcElement","_Element2","_super12","_this7","chartX","chartY","_getAngleFromPoint","_this$getProps2","_this$getProps3","halfAngle","halfRadius","translate","drawArc","setStyle","lineCap","borderCapStyle","borderJoinStyle","previous","pathVars","_params$start","paramsStart","_params$end","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","_pathVars","lineMethod","stepped","tension","cubicInterpolationMode","getLineMethod","_ref2","_ref2$move","fastPathSegment","prevX","lastY","_pathVars2","_ref3","_ref3$move","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","_draw","segments","path","_path","strokePathWithCache","_step7","segmentMethod","_iterator7","strokePathDirect","LineElement","_Element3","_super13","_this8","_points","_segments","_pointsUpdated","_interpolate","_getInterpolationMethod","_segments$i","interpolated","_step8","_iterator8","inRange$1","hitRadius","capBezierPoints","PointElement","_Element4","_super14","_this9","mouseX","mouseY","_this$getProps4","_this$getProps5","hoverRadius","getBarBounds","bar","half","_bar$getProps","parseBorderSkipped","borderSkipped","parseEdge","orig","v2","startEnd","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","topLeft","topRight","bottomLeft","bottomRight","parseBorderRadius","outer","_inRange","skipX","skipY","addNormalRectPath","rect","pointStyle","BarElement","_Element5","_super15","_this10","_boundingRects","addRectPath","_this$getProps6","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","_getStartAndCountOfVi2","_iScale$getUserBounds2","getStartAndCountOfVisiblePointsSimplified","decimated","configurable","d","samples","maxAreaPoint","maxArea","nextA","bucketWidth","sampledIndex","endIndex","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","_data$a","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","destroy","decodeFill","fillOption","parseFillOption","parseFloat","simpleArc","computeBoundary","computeCircularBoundary","_source$scale","computeLinearBoundary","buildStackLine","sourcePoints","linesBelow","below","isLineAndNotInHideAnimation","unshift","getLinesBelow","createBoundaryLine","addPointsBelow","sourcePoint","postponed","_findPoint","findPoint","interpolate","pointValue","linePoints","firstValue","lastValue","boundary","_ref4","_ref4$x","_ref4$y","pointsFromSegments","resolveTarget","sources","propagate","visited","clipY","getBounds","_getEdge","clipBounds","_scale$chart$chartAre","_ref5","interpolatedLineTo","interpolatedPoint","_fill","_step12","_step9","tpoints","_iterator9","_step10","_iterator10","_step11","tgt","subBounds","_iterator11","fillSource","_iterator12","_step12$value","src","_src$style","_src$style$background","lineLoop","targetLoop","drawfill","getLineByIndex","getTarget","lineOpts","_ref6","_ref6$above","above","_ref6$below","doFill","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","_labelOpts$boxHeight","boxHeight","_labelOpts$boxWidth","boxWidth","usePointStyle","itemHeight","Legend","_Element6","_super16","_this11","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_getBoxSize","_fitRows","_fitCols","hitboxes","totalHeight","row","itemWidth","measureText","heightLimit","totalWidth","currentColWidth","currentColHeight","col","_me$options6","_step13","_iterator13","hitbox","_step14","_iterator14","_hitbox","cursor","defaultColor","rtlHelper","rtl","fontColor","halfFontSize","_getBoxSize2","textDirection","textWidth","setWidth","lineDash","drawOptions","SQRT2","xPlus","yBoxTop","xBoxLeft","leftForLtr","drawLegendBox","strikethrough","fillText","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","onLeave","isListened","hoveredItem","_getLegendItemAt","sameItem","plugin_legend","_element","adjustHitBoxes","afterEvent","handleEvent","ci","_chart$legend$options","Title","_Element7","_super17","_this12","_padding","textSize","fontOpts","_me$_drawArgs","_drawArgs","plugin_title","titleBlock","createTitle","positioners","average","hasValue","tooltipPosition","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","str","String","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","lines","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","_chart$chartArea","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","cornerRadius","paddingAndSize","radiusAndPadding","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","_Element8","_super18","_this13","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","beforeTitle","afterTitle","bodyItems","scoped","beforeLabel","afterLabel","beforeFooter","afterFooter","_controller$getLabelA","getLabelAndValue","itemSort","labelColor","labelPointStyle","labelTextColor","_createItems","getTitle","getBeforeBody","getBody","getAfterBody","getFooter","positionAndSize","backgroundPoint","external","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","pt","titleColor","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","textColor","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","bodyColor","_drawColorBox","footerAlign","footerColor","tooltipSize","drawCaret","quadraticCurveTo","animX","animY","_updateAnimationTarget","hasTooltipContent","globalAlpha","drawBody","drawFooter","_ref7","positionChanged","_positionChanged","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","findOrAddLabel","addIfString","lastIndexOf","CategoryScale","_Scale","_super19","_this14","_startValue","_valueRange","isFinite","_me$getUserBounds2","_me$getMinMax","getDecimalForPixel","LinearScaleBase","_Scale2","_super20","_this15","_endValue","_me$options7","_me$getUserBounds3","setMin","setMax","minSign","maxSign","maxTicks","stepSize","computeTickLimit","getTickLimit","generationOptions","dataRange","niceMin","niceMax","numSpaces","precision","maxDigits","maxSpaces","rmin","rmax","countDefined","minSpacing","generateTicks$1","_maxDigits","LinearScale","_LinearScaleBase","_super21","_me$getMinMax2","handleTickRangeOptions","isMajor","tickVal","LogarithmicScale","_Scale3","_super22","_this16","_zero","_me$getMinMax3","_me$getUserBounds4","exp","m","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","getTextAlignForAngle","adjustPointPositionForLabelHeight","pathRadiusLine","getPointPosition","numberOrZero","param","RadialLinearScale","_LinearScaleBase2","_super23","_this17","drawingArea","_pointLabels","_pointLabelItems","_me$getMinMax4","furthestLimits","furthestAngles","valueCount","_opts","plFont","hLimits","vLimits","_setReductions","tickBackdropHeight","outerDistance","extra","pointLabelPosition","_angle","fitWithPointLabels","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","angleMultiplier","scalingFactor","scaledDistance","distanceFromCenter","_this$_pointLabelItem","_me$options8","_scale$_pointLabelIte","drawPointLabels","gridLineOpts","drawRadiusLine","rotate","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","_parse","input","adapter","_adapter","_scale$_parseOpts","_parseOpts","parser","isoWeekday","startOf","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","addTick","time","timestamps","_lookup2","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_Scale4","_super24","_this18","_unit","_majorUnit","_offsets","_normalized","displayFormats","formats","normalized","_me$getUserBounds5","_applyBounds","_getLabelBounds","endOf","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","getDecimalForValue","limit","hasWeekday","getDataTimestamps","tooltipFormat","datetime","minorFormat","majorFormat","formatter","_tickFormatFunction","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","_getLabelSize","normalize","table","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_TimeScale","_super25","_this19","_table","_maxIndex","_getTimestampsForTable","buildLookupTable","registerables"],"mappings":"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","file":"36bcf0ca-7b3a8004a3dfe461926e.js","sourcesContent":["import _assertThisInitialized from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/Juan Cocina/Desktop/471/349/temp/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*!\n * Chart.js v3.2.1\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as _color, i as isObject, b as isArray, d as defaults, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as isNullOrUndef, k as clipArea, m as unclipArea, _ as _arrayUnique, t as toRadians, n as toPercentage, o as toDimension, T as TAU, p as formatNumber, q as _angleBetween, H as HALF_PI, P as PI, w as isNumber, x as _limitValue, y as _lookupByKey, z as getRelativePosition$1, A as _isPointInArea, B as _rlookupByKey, C as toPadding, D as each, E as _getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as log10, L as _factorize, M as finiteOrDefault, N as callback, O as _addGrace, Q as toDegrees, R as _measureText, S as _int16Range, U as _alignPixel, V as renderText, W as toFont, X as _toLeftRightCenter, Y as _alignStartEnd, Z as overrides, $ as merge, a0 as _capitalize, a1 as descriptors, a2 as isFunction, a3 as _attachContext, a4 as _createResolver, a5 as _descriptors, a6 as mergeIf, a7 as uid, a8 as debounce, a9 as retinaScale, aa as clearCanvas, ab as setsEqual, ac as _elementsEqual, ad as getAngleFromPoint, ae as _readValueToProps, af as _updateBezierControlPoints, ag as _computeSegments, ah as _boundSegments, ai as _steppedInterpolation, aj as _bezierInterpolation, ak as _pointInLine, al as _steppedLineTo, am as _bezierCurveTo, an as drawPoint, ao as addRoundedRectPath, ap as toTRBL, aq as toTRBLCorners, ar as _boundSegment, as as _normalizeAngle, at as getRtlAdapter, au as overrideTextDirection, av as _textX, aw as restoreTextDirection, ax as noop, ay as distanceBetweenPoints, az as _setMinAndMaxByKey, aA as niceNum, aB as almostWhole, aC as almostEquals, aD as _decimalPlaces, aE as _longestText, aF as _filterBetween, aG as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nvar Animator = /*#__PURE__*/function () {\n  function Animator() {\n    _classCallCheck(this, Animator);\n\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  _createClass(Animator, [{\n    key: \"_notify\",\n    value: function _notify(chart, anims, date, type) {\n      var callbacks = anims.listeners[type];\n      var numSteps = anims.duration;\n      callbacks.forEach(function (fn) {\n        return fn({\n          chart: chart,\n          initial: anims.initial,\n          numSteps: numSteps,\n          currentStep: Math.min(date - anims.start, numSteps)\n        });\n      });\n    }\n  }, {\n    key: \"_refresh\",\n    value: function _refresh() {\n      var me = this;\n\n      if (me._request) {\n        return;\n      }\n\n      me._running = true;\n      me._request = requestAnimFrame.call(window, function () {\n        me._update();\n\n        me._request = null;\n\n        if (me._running) {\n          me._refresh();\n        }\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Date.now();\n      var me = this;\n      var remaining = 0;\n\n      me._charts.forEach(function (anims, chart) {\n        if (!anims.running || !anims.items.length) {\n          return;\n        }\n\n        var items = anims.items;\n        var i = items.length - 1;\n        var draw = false;\n        var item;\n\n        for (; i >= 0; --i) {\n          item = items[i];\n\n          if (item._active) {\n            if (item._total > anims.duration) {\n              anims.duration = item._total;\n            }\n\n            item.tick(date);\n            draw = true;\n          } else {\n            items[i] = items[items.length - 1];\n            items.pop();\n          }\n        }\n\n        if (draw) {\n          chart.draw();\n\n          me._notify(chart, anims, date, 'progress');\n        }\n\n        if (!items.length) {\n          anims.running = false;\n\n          me._notify(chart, anims, date, 'complete');\n\n          anims.initial = false;\n        }\n\n        remaining += items.length;\n      });\n\n      me._lastDate = date;\n\n      if (remaining === 0) {\n        me._running = false;\n      }\n    }\n  }, {\n    key: \"_getAnims\",\n    value: function _getAnims(chart) {\n      var charts = this._charts;\n      var anims = charts.get(chart);\n\n      if (!anims) {\n        anims = {\n          running: false,\n          initial: true,\n          items: [],\n          listeners: {\n            complete: [],\n            progress: []\n          }\n        };\n        charts.set(chart, anims);\n      }\n\n      return anims;\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(chart, event, cb) {\n      this._getAnims(chart).listeners[event].push(cb);\n    }\n  }, {\n    key: \"add\",\n    value: function add(chart, items) {\n      var _this$_getAnims$items;\n\n      if (!items || !items.length) {\n        return;\n      }\n\n      (_this$_getAnims$items = this._getAnims(chart).items).push.apply(_this$_getAnims$items, _toConsumableArray(items));\n    }\n  }, {\n    key: \"has\",\n    value: function has(chart) {\n      return this._getAnims(chart).items.length > 0;\n    }\n  }, {\n    key: \"start\",\n    value: function start(chart) {\n      var anims = this._charts.get(chart);\n\n      if (!anims) {\n        return;\n      }\n\n      anims.running = true;\n      anims.start = Date.now();\n      anims.duration = anims.items.reduce(function (acc, cur) {\n        return Math.max(acc, cur._duration);\n      }, 0);\n\n      this._refresh();\n    }\n  }, {\n    key: \"running\",\n    value: function running(chart) {\n      if (!this._running) {\n        return false;\n      }\n\n      var anims = this._charts.get(chart);\n\n      if (!anims || !anims.running || !anims.items.length) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(chart) {\n      var anims = this._charts.get(chart);\n\n      if (!anims || !anims.items.length) {\n        return;\n      }\n\n      var items = anims.items;\n      var i = items.length - 1;\n\n      for (; i >= 0; --i) {\n        items[i].cancel();\n      }\n\n      anims.items = [];\n\n      this._notify(chart, anims, Date.now(), 'complete');\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(chart) {\n      return this._charts.delete(chart);\n    }\n  }]);\n\n  return Animator;\n}();\n\nvar animator = new Animator();\nvar transparent = 'transparent';\nvar interpolators = {\n  boolean: function boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color: function color(from, to, factor) {\n    var c0 = _color(from || transparent);\n\n    var c1 = c0.valid && _color(to || transparent);\n\n    return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n  },\n  number: function number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nvar Animation = /*#__PURE__*/function () {\n  function Animation(cfg, target, prop, to) {\n    _classCallCheck(this, Animation);\n\n    var currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    var from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  _createClass(Animation, [{\n    key: \"active\",\n    value: function active() {\n      return this._active;\n    }\n  }, {\n    key: \"update\",\n    value: function update(cfg, to, date) {\n      var me = this;\n\n      if (me._active) {\n        me._notify(false);\n\n        var currentValue = me._target[me._prop];\n        var elapsed = date - me._start;\n        var remain = me._duration - elapsed;\n        me._start = date;\n        me._duration = Math.floor(Math.max(remain, cfg.duration));\n        me._total += elapsed;\n        me._loop = !!cfg.loop;\n        me._to = resolve([cfg.to, to, currentValue, cfg.from]);\n        me._from = resolve([cfg.from, currentValue, to]);\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      var me = this;\n\n      if (me._active) {\n        me.tick(Date.now());\n        me._active = false;\n\n        me._notify(false);\n      }\n    }\n  }, {\n    key: \"tick\",\n    value: function tick(date) {\n      var me = this;\n      var elapsed = date - me._start;\n      var duration = me._duration;\n      var prop = me._prop;\n      var from = me._from;\n      var loop = me._loop;\n      var to = me._to;\n      var factor;\n      me._active = from !== to && (loop || elapsed < duration);\n\n      if (!me._active) {\n        me._target[prop] = to;\n\n        me._notify(true);\n\n        return;\n      }\n\n      if (elapsed < 0) {\n        me._target[prop] = from;\n        return;\n      }\n\n      factor = elapsed / duration % 2;\n      factor = loop && factor > 1 ? 2 - factor : factor;\n      factor = me._easing(Math.min(1, Math.max(0, factor)));\n      me._target[prop] = me._fn(from, to, factor);\n    }\n  }, {\n    key: \"wait\",\n    value: function wait() {\n      var promises = this._promises || (this._promises = []);\n      return new Promise(function (res, rej) {\n        promises.push({\n          res: res,\n          rej: rej\n        });\n      });\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify(resolved) {\n      var method = resolved ? 'res' : 'rej';\n      var promises = this._promises || [];\n\n      for (var i = 0; i < promises.length; i++) {\n        promises[i][method]();\n      }\n    }\n  }]);\n\n  return Animation;\n}();\n\nvar numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nvar colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined\n});\nvar animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: function _scriptable(name) {\n    return name !== 'onProgress' && name !== 'onComplete' && name !== 'fn';\n  }\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  }\n});\ndefaults.describe('animations', {\n  _fallback: 'animation'\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      }\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: function fn(v) {\n          return v | 0;\n        }\n      }\n    }\n  }\n});\n\nvar Animations = /*#__PURE__*/function () {\n  function Animations(chart, config) {\n    _classCallCheck(this, Animations);\n\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  _createClass(Animations, [{\n    key: \"configure\",\n    value: function configure(config) {\n      if (!isObject(config)) {\n        return;\n      }\n\n      var animatedProps = this._properties;\n      Object.getOwnPropertyNames(config).forEach(function (key) {\n        var cfg = config[key];\n\n        if (!isObject(cfg)) {\n          return;\n        }\n\n        var resolved = {};\n\n        var _iterator = _createForOfIteratorHelper(animationOptions),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var option = _step.value;\n            resolved[option] = cfg[option];\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        (isArray(cfg.properties) && cfg.properties || [key]).forEach(function (prop) {\n          if (prop === key || !animatedProps.has(prop)) {\n            animatedProps.set(prop, resolved);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_animateOptions\",\n    value: function _animateOptions(target, values) {\n      var newOptions = values.options;\n      var options = resolveTargetOptions(target, newOptions);\n\n      if (!options) {\n        return [];\n      }\n\n      var animations = this._createAnimations(options, newOptions);\n\n      if (newOptions.$shared) {\n        awaitAll(target.options.$animations, newOptions).then(function () {\n          target.options = newOptions;\n        }, function () {});\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"_createAnimations\",\n    value: function _createAnimations(target, values) {\n      var animatedProps = this._properties;\n      var animations = [];\n      var running = target.$animations || (target.$animations = {});\n      var props = Object.keys(values);\n      var date = Date.now();\n      var i;\n\n      for (i = props.length - 1; i >= 0; --i) {\n        var prop = props[i];\n\n        if (prop.charAt(0) === '$') {\n          continue;\n        }\n\n        if (prop === 'options') {\n          animations.push.apply(animations, _toConsumableArray(this._animateOptions(target, values)));\n          continue;\n        }\n\n        var value = values[prop];\n        var animation = running[prop];\n        var cfg = animatedProps.get(prop);\n\n        if (animation) {\n          if (cfg && animation.active()) {\n            animation.update(cfg, value, date);\n            continue;\n          } else {\n            animation.cancel();\n          }\n        }\n\n        if (!cfg || !cfg.duration) {\n          target[prop] = value;\n          continue;\n        }\n\n        running[prop] = animation = new Animation(cfg, target, prop, value);\n        animations.push(animation);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"update\",\n    value: function update(target, values) {\n      if (this._properties.size === 0) {\n        Object.assign(target, values);\n        return;\n      }\n\n      var animations = this._createAnimations(target, values);\n\n      if (animations.length) {\n        animator.add(this._chart, animations);\n        return true;\n      }\n    }\n  }]);\n\n  return Animations;\n}();\n\nfunction awaitAll(animations, properties) {\n  var running = [];\n  var keys = Object.keys(properties);\n\n  for (var i = 0; i < keys.length; i++) {\n    var anim = animations[keys[i]];\n\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n\n  var options = target.options;\n\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {\n      $shared: false,\n      $animations: {}\n    });\n  }\n\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  var opts = scale && scale.options || {};\n  var reverse = opts.reverse;\n  var min = opts.min === undefined ? allowedOverflow : 0;\n  var max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n\n  var x = scaleClip(xScale, allowedOverflow);\n  var y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  var t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  var keys = [];\n\n  var metasets = chart._getSortedDatasetMetas(filterVisible);\n\n  var i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n\n  return keys;\n}\n\nfunction _applyStack(stack, value, dsIndex, options) {\n  var keys = stack.keys;\n  var singleMode = options.mode === 'single';\n  var i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n\n      break;\n    }\n\n    otherValue = stack.values[datasetIndex];\n\n    if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n      value += otherValue;\n    }\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data) {\n  var keys = Object.keys(data);\n  var adata = new Array(keys.length);\n  var i, ilen, key;\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  var stacked = scale && scale.options.stacked;\n  return stacked || stacked === undefined && meta.stack !== undefined;\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return \"\".concat(indexScale.id, \".\").concat(valueScale.id, \".\").concat(meta.stack || meta.type);\n}\n\nfunction getUserBounds(scale) {\n  var _scale$getUserBounds = scale.getUserBounds(),\n      min = _scale$getUserBounds.min,\n      max = _scale$getUserBounds.max,\n      minDefined = _scale$getUserBounds.minDefined,\n      maxDefined = _scale$getUserBounds.maxDefined;\n\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  var subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive) {\n  var _iterator2 = _createForOfIteratorHelper(vScale.getMatchingVisibleMetas('bar').reverse()),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var meta = _step2.value;\n      var value = stack[meta.index];\n\n      if (positive && value > 0 || !positive && value < 0) {\n        return meta.index;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  var chart = controller.chart,\n      meta = controller._cachedMeta;\n  var stacks = chart._stacks || (chart._stacks = {});\n  var iScale = meta.iScale,\n      vScale = meta.vScale,\n      datasetIndex = meta.index;\n  var iAxis = iScale.axis;\n  var vAxis = vScale.axis;\n  var key = getStackKey(iScale, vScale, meta);\n  var ilen = parsed.length;\n  var stack;\n\n  for (var i = 0; i < ilen; ++i) {\n    var item = parsed[i];\n    var index = item[iAxis],\n        value = item[vAxis];\n    var itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true);\n    stack._bottom = getLastIndexInStack(stack, vScale, false);\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  var scales = chart.scales;\n  return Object.keys(scales).filter(function (key) {\n    return scales[key].axis === axis;\n  }).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return Object.assign(Object.create(parent), {\n    active: false,\n    dataset: undefined,\n    datasetIndex: index,\n    index: index,\n    mode: 'default',\n    type: 'dataset'\n  });\n}\n\nfunction createDataContext(parent, index, element) {\n  return Object.assign(Object.create(parent), {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element: element,\n    index: index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  items = items || meta._parsed;\n\n  var _iterator3 = _createForOfIteratorHelper(items),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var parsed = _step3.value;\n      var stacks = parsed._stacks;\n\n      if (!stacks || stacks[meta.vScale.id] === undefined || stacks[meta.vScale.id][meta.index] === undefined) {\n        return;\n      }\n\n      delete stacks[meta.vScale.id][meta.index];\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n}\n\nvar isDirectUpdateMode = function isDirectUpdateMode(mode) {\n  return mode === 'reset' || mode === 'none';\n};\n\nvar cloneIfNotShared = function cloneIfNotShared(cached, shared) {\n  return shared ? cached : Object.assign({}, cached);\n};\n\nvar DatasetController = /*#__PURE__*/function () {\n  function DatasetController(chart, datasetIndex) {\n    _classCallCheck(this, DatasetController);\n\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this.initialize();\n  }\n\n  _createClass(DatasetController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var me = this;\n      var meta = me._cachedMeta;\n      me.configure();\n      me.linkScales();\n      meta._stacked = isStacked(meta.vScale, meta);\n      me.addElements();\n    }\n  }, {\n    key: \"updateIndex\",\n    value: function updateIndex(datasetIndex) {\n      this.index = datasetIndex;\n    }\n  }, {\n    key: \"linkScales\",\n    value: function linkScales() {\n      var me = this;\n      var chart = me.chart;\n      var meta = me._cachedMeta;\n      var dataset = me.getDataset();\n\n      var chooseId = function chooseId(axis, x, y, r) {\n        return axis === 'x' ? x : axis === 'r' ? r : y;\n      };\n\n      var xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n      var yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n      var rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n      var indexAxis = meta.indexAxis;\n      var iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n      var vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n      meta.xScale = me.getScaleForId(xid);\n      meta.yScale = me.getScaleForId(yid);\n      meta.rScale = me.getScaleForId(rid);\n      meta.iScale = me.getScaleForId(iid);\n      meta.vScale = me.getScaleForId(vid);\n    }\n  }, {\n    key: \"getDataset\",\n    value: function getDataset() {\n      return this.chart.data.datasets[this.index];\n    }\n  }, {\n    key: \"getMeta\",\n    value: function getMeta() {\n      return this.chart.getDatasetMeta(this.index);\n    }\n  }, {\n    key: \"getScaleForId\",\n    value: function getScaleForId(scaleID) {\n      return this.chart.scales[scaleID];\n    }\n  }, {\n    key: \"_getOtherScale\",\n    value: function _getOtherScale(scale) {\n      var meta = this._cachedMeta;\n      return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._update('reset');\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      var meta = this._cachedMeta;\n\n      if (this._data) {\n        unlistenArrayEvents(this._data, this);\n      }\n\n      if (meta._stacked) {\n        clearStacks(meta);\n      }\n    }\n  }, {\n    key: \"_dataCheck\",\n    value: function _dataCheck() {\n      var me = this;\n      var dataset = me.getDataset();\n      var data = dataset.data || (dataset.data = []);\n\n      if (isObject(data)) {\n        me._data = convertObjectDataToArray(data);\n      } else if (me._data !== data) {\n        if (me._data) {\n          unlistenArrayEvents(me._data, me);\n          clearStacks(me._cachedMeta);\n        }\n\n        if (data && Object.isExtensible(data)) {\n          listenArrayEvents(data, me);\n        }\n\n        me._data = data;\n      }\n    }\n  }, {\n    key: \"addElements\",\n    value: function addElements() {\n      var me = this;\n      var meta = me._cachedMeta;\n\n      me._dataCheck();\n\n      if (me.datasetElementType) {\n        meta.dataset = new me.datasetElementType();\n      }\n    }\n  }, {\n    key: \"buildOrUpdateElements\",\n    value: function buildOrUpdateElements(resetNewElements) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var dataset = me.getDataset();\n      var stackChanged = false;\n\n      me._dataCheck();\n\n      meta._stacked = isStacked(meta.vScale, meta);\n\n      if (meta.stack !== dataset.stack) {\n        stackChanged = true;\n        clearStacks(meta);\n        meta.stack = dataset.stack;\n      }\n\n      me._resyncElements(resetNewElements);\n\n      if (stackChanged) {\n        updateStacks(me, meta._parsed);\n      }\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n      var config = me.chart.config;\n      var scopeKeys = config.datasetScopeKeys(me._type);\n      var scopes = config.getOptionScopes(me.getDataset(), scopeKeys, true);\n      me.options = config.createResolver(scopes, me.getContext());\n      me._parsing = me.options.parsing;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(start, count) {\n      var me = this;\n      var meta = me._cachedMeta,\n          data = me._data;\n      var iScale = meta.iScale,\n          _stacked = meta._stacked;\n      var iAxis = iScale.axis;\n      var sorted = start === 0 && count === data.length ? true : meta._sorted;\n      var prev = start > 0 && meta._parsed[start - 1];\n      var i, cur, parsed;\n\n      if (me._parsing === false) {\n        meta._parsed = data;\n        meta._sorted = true;\n        parsed = data;\n      } else {\n        if (isArray(data[start])) {\n          parsed = me.parseArrayData(meta, data, start, count);\n        } else if (isObject(data[start])) {\n          parsed = me.parseObjectData(meta, data, start, count);\n        } else {\n          parsed = me.parsePrimitiveData(meta, data, start, count);\n        }\n\n        var isNotInOrderComparedToPrev = function isNotInOrderComparedToPrev() {\n          return cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n        };\n\n        for (i = 0; i < count; ++i) {\n          meta._parsed[i + start] = cur = parsed[i];\n\n          if (sorted) {\n            if (isNotInOrderComparedToPrev()) {\n              sorted = false;\n            }\n\n            prev = cur;\n          }\n        }\n\n        meta._sorted = sorted;\n      }\n\n      if (_stacked) {\n        updateStacks(me, parsed);\n      }\n    }\n  }, {\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var iAxis = iScale.axis;\n      var vAxis = vScale.axis;\n      var labels = iScale.getLabels();\n      var singleScale = iScale === vScale;\n      var parsed = new Array(count);\n      var i, ilen, index;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        var _parsed$i;\n\n        index = i + start;\n        parsed[i] = (_parsed$i = {}, _defineProperty(_parsed$i, iAxis, singleScale || iScale.parse(labels[index], index)), _defineProperty(_parsed$i, vAxis, vScale.parse(data[index], index)), _parsed$i);\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var parsed = new Array(count);\n      var i, ilen, index, item;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n          x: xScale.parse(item[0], index),\n          y: yScale.parse(item[1], index)\n        };\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var _this$_parsing = this._parsing,\n          _this$_parsing$xAxisK = _this$_parsing.xAxisKey,\n          xAxisKey = _this$_parsing$xAxisK === void 0 ? 'x' : _this$_parsing$xAxisK,\n          _this$_parsing$yAxisK = _this$_parsing.yAxisKey,\n          yAxisKey = _this$_parsing$yAxisK === void 0 ? 'y' : _this$_parsing$yAxisK;\n      var parsed = new Array(count);\n      var i, ilen, index, item;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n          x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n          y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n        };\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"getParsed\",\n    value: function getParsed(index) {\n      return this._cachedMeta._parsed[index];\n    }\n  }, {\n    key: \"getDataElement\",\n    value: function getDataElement(index) {\n      return this._cachedMeta.data[index];\n    }\n  }, {\n    key: \"applyStack\",\n    value: function applyStack(scale, parsed, mode) {\n      var chart = this.chart;\n      var meta = this._cachedMeta;\n      var value = parsed[scale.axis];\n      var stack = {\n        keys: getSortedDatasetIndices(chart, true),\n        values: parsed._stacks[scale.axis]\n      };\n      return _applyStack(stack, value, meta.index, {\n        mode: mode\n      });\n    }\n  }, {\n    key: \"updateRangeFromParsed\",\n    value: function updateRangeFromParsed(range, scale, parsed, stack) {\n      var parsedValue = parsed[scale.axis];\n      var value = parsedValue === null ? NaN : parsedValue;\n      var values = stack && parsed._stacks[scale.axis];\n\n      if (stack && values) {\n        stack.values = values;\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n        value = _applyStack(stack, parsedValue, this._cachedMeta.index, {\n          all: true\n        });\n      }\n\n      range.min = Math.min(range.min, value);\n      range.max = Math.max(range.max, value);\n    }\n  }, {\n    key: \"getMinMax\",\n    value: function getMinMax(scale, canStack) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var _parsed = meta._parsed;\n      var sorted = meta._sorted && scale === meta.iScale;\n      var ilen = _parsed.length;\n\n      var otherScale = me._getOtherScale(scale);\n\n      var stack = canStack && meta._stacked && {\n        keys: getSortedDatasetIndices(me.chart, true),\n        values: null\n      };\n      var range = {\n        min: Number.POSITIVE_INFINITY,\n        max: Number.NEGATIVE_INFINITY\n      };\n\n      var _getUserBounds = getUserBounds(otherScale),\n          otherMin = _getUserBounds.min,\n          otherMax = _getUserBounds.max;\n\n      var i, value, parsed, otherValue;\n\n      function _skip() {\n        parsed = _parsed[i];\n        value = parsed[scale.axis];\n        otherValue = parsed[otherScale.axis];\n        return !isNumberFinite(value) || otherMin > otherValue || otherMax < otherValue;\n      }\n\n      for (i = 0; i < ilen; ++i) {\n        if (_skip()) {\n          continue;\n        }\n\n        me.updateRangeFromParsed(range, scale, parsed, stack);\n\n        if (sorted) {\n          break;\n        }\n      }\n\n      if (sorted) {\n        for (i = ilen - 1; i >= 0; --i) {\n          if (_skip()) {\n            continue;\n          }\n\n          me.updateRangeFromParsed(range, scale, parsed, stack);\n          break;\n        }\n      }\n\n      return range;\n    }\n  }, {\n    key: \"getAllParsedValues\",\n    value: function getAllParsedValues(scale) {\n      var parsed = this._cachedMeta._parsed;\n      var values = [];\n      var i, ilen, value;\n\n      for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n        value = parsed[i][scale.axis];\n\n        if (isNumberFinite(value)) {\n          values.push(value);\n        }\n      }\n\n      return values;\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      return false;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var iScale = meta.iScale;\n      var vScale = meta.vScale;\n      var parsed = me.getParsed(index);\n      return {\n        label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n        value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n      };\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(mode) {\n      var me = this;\n      var meta = me._cachedMeta;\n      me.configure();\n      me._cachedDataOpts = {};\n      me.update(mode || 'default');\n      meta._clip = toClip(valueOrDefault(me.options.clip, defaultClip(meta.xScale, meta.yScale, me.getMaxOverflow())));\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {}\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n      var ctx = me._ctx;\n      var chart = me.chart;\n      var meta = me._cachedMeta;\n      var elements = meta.data || [];\n      var area = chart.chartArea;\n      var active = [];\n      var start = me._drawStart || 0;\n      var count = me._drawCount || elements.length - start;\n      var i;\n\n      if (meta.dataset) {\n        meta.dataset.draw(ctx, area, start, count);\n      }\n\n      for (i = start; i < start + count; ++i) {\n        var element = elements[i];\n\n        if (element.active) {\n          active.push(element);\n        } else {\n          element.draw(ctx, area);\n        }\n      }\n\n      for (i = 0; i < active.length; ++i) {\n        active[i].draw(ctx, area);\n      }\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle(index, active) {\n      var mode = active ? 'active' : 'default';\n      return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(index, active, mode) {\n      var me = this;\n      var dataset = me.getDataset();\n      var context;\n\n      if (index >= 0 && index < me._cachedMeta.data.length) {\n        var element = me._cachedMeta.data[index];\n        context = element.$context || (element.$context = createDataContext(me.getContext(), index, element));\n        context.parsed = me.getParsed(index);\n        context.raw = dataset.data[index];\n      } else {\n        context = me.$context || (me.$context = createDatasetContext(me.chart.getContext(), me.index));\n        context.dataset = dataset;\n      }\n\n      context.active = !!active;\n      context.mode = mode;\n      return context;\n    }\n  }, {\n    key: \"resolveDatasetElementOptions\",\n    value: function resolveDatasetElementOptions(mode) {\n      return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n  }, {\n    key: \"resolveDataElementOptions\",\n    value: function resolveDataElementOptions(index, mode) {\n      return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n  }, {\n    key: \"_resolveElementOptions\",\n    value: function _resolveElementOptions(elementType) {\n      var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n      var index = arguments.length > 2 ? arguments[2] : undefined;\n      var me = this;\n      var active = mode === 'active';\n      var cache = me._cachedDataOpts;\n      var cacheKey = elementType + '-' + mode;\n      var cached = cache[cacheKey];\n      var sharing = me.enableOptionSharing && defined(index);\n\n      if (cached) {\n        return cloneIfNotShared(cached, sharing);\n      }\n\n      var config = me.chart.config;\n      var scopeKeys = config.datasetElementScopeKeys(me._type, elementType);\n      var prefixes = active ? [\"\".concat(elementType, \"Hover\"), 'hover', elementType, ''] : [elementType, ''];\n      var scopes = config.getOptionScopes(me.getDataset(), scopeKeys);\n      var names = Object.keys(defaults.elements[elementType]);\n\n      var context = function context() {\n        return me.getContext(index, active);\n      };\n\n      var values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n      if (values.$shared) {\n        values.$shared = sharing;\n        cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n      }\n\n      return values;\n    }\n  }, {\n    key: \"_resolveAnimations\",\n    value: function _resolveAnimations(index, transition, active) {\n      var me = this;\n      var chart = me.chart;\n      var cache = me._cachedDataOpts;\n      var cacheKey = \"animation-\".concat(transition);\n      var cached = cache[cacheKey];\n\n      if (cached) {\n        return cached;\n      }\n\n      var options;\n\n      if (chart.options.animation !== false) {\n        var config = me.chart.config;\n        var scopeKeys = config.datasetAnimationScopeKeys(me._type, transition);\n        var scopes = config.getOptionScopes(me.getDataset(), scopeKeys);\n        options = config.createResolver(scopes, me.getContext(index, active, transition));\n      }\n\n      var animations = new Animations(chart, options && options.animations);\n\n      if (options && options._cacheable) {\n        cache[cacheKey] = Object.freeze(animations);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"getSharedOptions\",\n    value: function getSharedOptions(options) {\n      if (!options.$shared) {\n        return;\n      }\n\n      return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n  }, {\n    key: \"includeOptions\",\n    value: function includeOptions(mode, sharedOptions) {\n      return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n  }, {\n    key: \"updateElement\",\n    value: function updateElement(element, index, properties, mode) {\n      if (isDirectUpdateMode(mode)) {\n        Object.assign(element, properties);\n      } else {\n        this._resolveAnimations(index, mode).update(element, properties);\n      }\n    }\n  }, {\n    key: \"updateSharedOptions\",\n    value: function updateSharedOptions(sharedOptions, mode, newOptions) {\n      if (sharedOptions && !isDirectUpdateMode(mode)) {\n        this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n      }\n    }\n  }, {\n    key: \"_setStyle\",\n    value: function _setStyle(element, index, mode, active) {\n      element.active = active;\n      var options = this.getStyle(index, active);\n\n      this._resolveAnimations(index, mode, active).update(element, {\n        options: !active && this.getSharedOptions(options) || options\n      });\n    }\n  }, {\n    key: \"removeHoverStyle\",\n    value: function removeHoverStyle(element, datasetIndex, index) {\n      this._setStyle(element, index, 'active', false);\n    }\n  }, {\n    key: \"setHoverStyle\",\n    value: function setHoverStyle(element, datasetIndex, index) {\n      this._setStyle(element, index, 'active', true);\n    }\n  }, {\n    key: \"_removeDatasetHoverStyle\",\n    value: function _removeDatasetHoverStyle() {\n      var element = this._cachedMeta.dataset;\n\n      if (element) {\n        this._setStyle(element, undefined, 'active', false);\n      }\n    }\n  }, {\n    key: \"_setDatasetHoverStyle\",\n    value: function _setDatasetHoverStyle() {\n      var element = this._cachedMeta.dataset;\n\n      if (element) {\n        this._setStyle(element, undefined, 'active', true);\n      }\n    }\n  }, {\n    key: \"_resyncElements\",\n    value: function _resyncElements(resetNewElements) {\n      var me = this;\n      var numMeta = me._cachedMeta.data.length;\n      var numData = me._data.length;\n\n      if (numData > numMeta) {\n        me._insertElements(numMeta, numData - numMeta, resetNewElements);\n      } else if (numData < numMeta) {\n        me._removeElements(numData, numMeta - numData);\n      }\n\n      var count = Math.min(numData, numMeta);\n\n      if (count) {\n        me.parse(0, count);\n      }\n    }\n  }, {\n    key: \"_insertElements\",\n    value: function _insertElements(start, count) {\n      var resetNewElements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var me = this;\n      var meta = me._cachedMeta;\n      var data = meta.data;\n      var end = start + count;\n      var i;\n\n      var move = function move(arr) {\n        arr.length += count;\n\n        for (i = arr.length - 1; i >= end; i--) {\n          arr[i] = arr[i - count];\n        }\n      };\n\n      move(data);\n\n      for (i = start; i < end; ++i) {\n        data[i] = new me.dataElementType();\n      }\n\n      if (me._parsing) {\n        move(meta._parsed);\n      }\n\n      me.parse(start, count);\n\n      if (resetNewElements) {\n        me.updateElements(data, start, count, 'reset');\n      }\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(element, start, count, mode) {}\n  }, {\n    key: \"_removeElements\",\n    value: function _removeElements(start, count) {\n      var me = this;\n      var meta = me._cachedMeta;\n\n      if (me._parsing) {\n        var removed = meta._parsed.splice(start, count);\n\n        if (meta._stacked) {\n          clearStacks(meta, removed);\n        }\n      }\n\n      meta.data.splice(start, count);\n    }\n  }, {\n    key: \"_onDataPush\",\n    value: function _onDataPush() {\n      var count = arguments.length;\n\n      this._insertElements(this.getDataset().data.length - count, count);\n    }\n  }, {\n    key: \"_onDataPop\",\n    value: function _onDataPop() {\n      this._removeElements(this._cachedMeta.data.length - 1, 1);\n    }\n  }, {\n    key: \"_onDataShift\",\n    value: function _onDataShift() {\n      this._removeElements(0, 1);\n    }\n  }, {\n    key: \"_onDataSplice\",\n    value: function _onDataSplice(start, count) {\n      this._removeElements(start, count);\n\n      this._insertElements(start, arguments.length - 2);\n    }\n  }, {\n    key: \"_onDataUnshift\",\n    value: function _onDataUnshift() {\n      this._insertElements(0, arguments.length);\n    }\n  }]);\n\n  return DatasetController;\n}();\n\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale) {\n  if (!scale._cache.$bar) {\n    var metas = scale.getMatchingVisibleMetas('bar');\n    var values = [];\n\n    for (var i = 0, ilen = metas.length; i < ilen; i++) {\n      values = values.concat(metas[i].controller.getAllParsedValues(scale));\n    }\n\n    scale._cache.$bar = _arrayUnique(values.sort(function (a, b) {\n      return a - b;\n    }));\n  }\n\n  return scale._cache.$bar;\n}\n\nfunction computeMinSampleSize(scale) {\n  var values = getAllScaleValues(scale);\n  var min = scale._length;\n  var i, ilen, curr, prev;\n\n  var updateMinAndPrev = function updateMinAndPrev() {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  var thickness = options.barThickness;\n  var size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio: ratio,\n    start: ruler.pixels[index] - size / 2\n  };\n}\n\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  var pixels = ruler.pixels;\n  var curr = pixels[index];\n  var prev = index > 0 ? pixels[index - 1] : null;\n  var next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  var percent = options.categoryPercentage;\n\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n\n  var start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  var size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start: start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  var startValue = vScale.parse(entry[0], i);\n  var endValue = vScale.parse(entry[1], i);\n  var min = Math.min(startValue, endValue);\n  var max = Math.max(startValue, endValue);\n  var barStart = min;\n  var barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart: barStart,\n    barEnd: barEnd,\n    start: startValue,\n    end: endValue,\n    min: min,\n    max: max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  var iScale = meta.iScale;\n  var vScale = meta.vScale;\n  var labels = iScale.getLabels();\n  var singleScale = iScale === vScale;\n  var parsed = [];\n  var i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nvar BarController = /*#__PURE__*/function (_DatasetController) {\n  _inherits(BarController, _DatasetController);\n\n  var _super = _createSuper(BarController);\n\n  function BarController() {\n    _classCallCheck(this, BarController);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BarController, [{\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      return parseArrayOrPrimitive(meta, data, start, count);\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      return parseArrayOrPrimitive(meta, data, start, count);\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var _this$_parsing2 = this._parsing,\n          _this$_parsing2$xAxis = _this$_parsing2.xAxisKey,\n          xAxisKey = _this$_parsing2$xAxis === void 0 ? 'x' : _this$_parsing2$xAxis,\n          _this$_parsing2$yAxis = _this$_parsing2.yAxisKey,\n          yAxisKey = _this$_parsing2$yAxis === void 0 ? 'y' : _this$_parsing2$yAxis;\n      var iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n      var vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n      var parsed = [];\n      var i, ilen, item, obj;\n\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        obj = data[i];\n        item = {};\n        item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n        parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"updateRangeFromParsed\",\n    value: function updateRangeFromParsed(range, scale, parsed, stack) {\n      _get(_getPrototypeOf(BarController.prototype), \"updateRangeFromParsed\", this).call(this, range, scale, parsed, stack);\n\n      var custom = parsed._custom;\n\n      if (custom && scale === this._cachedMeta.vScale) {\n        range.min = Math.min(range.min, custom.min);\n        range.max = Math.max(range.max, custom.max);\n      }\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var parsed = me.getParsed(index);\n      var custom = parsed._custom;\n      var value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n      return {\n        label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n        value: value\n      };\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var me = this;\n      me.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(BarController.prototype), \"initialize\", this).call(this);\n\n      var meta = me._cachedMeta;\n      meta.stack = me.getDataset().stack;\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var meta = me._cachedMeta;\n      me.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(bars, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var vScale = me._cachedMeta.vScale;\n      var base = vScale.getBasePixel();\n      var horizontal = vScale.isHorizontal();\n\n      var ruler = me._getRuler();\n\n      var firstOpts = me.resolveDataElementOptions(start, mode);\n      var sharedOptions = me.getSharedOptions(firstOpts);\n      var includeOptions = me.includeOptions(mode, sharedOptions);\n      me.updateSharedOptions(sharedOptions, mode, firstOpts);\n\n      for (var i = start; i < start + count; i++) {\n        var parsed = me.getParsed(i);\n        var vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n          base: base,\n          head: base\n        } : me._calculateBarValuePixels(i);\n\n        var ipixels = me._calculateBarIndexPixels(i, ruler);\n\n        var stack = (parsed._stacks || {})[vScale.axis];\n        var properties = {\n          horizontal: horizontal,\n          base: vpixels.base,\n          enableBorderRadius: !stack || isFloatBar(parsed._custom) || me.index === stack._top || me.index === stack._bottom,\n          x: horizontal ? vpixels.head : ipixels.center,\n          y: horizontal ? ipixels.center : vpixels.head,\n          height: horizontal ? ipixels.size : undefined,\n          width: horizontal ? undefined : ipixels.size\n        };\n\n        if (includeOptions) {\n          properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n        }\n\n        me.updateElement(bars[i], i, properties, mode);\n      }\n    }\n  }, {\n    key: \"_getStacks\",\n    value: function _getStacks(last, dataIndex) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var iScale = meta.iScale;\n      var metasets = iScale.getMatchingVisibleMetas(me._type);\n      var stacked = iScale.options.stacked;\n      var ilen = metasets.length;\n      var stacks = [];\n      var i, item;\n\n      for (i = 0; i < ilen; ++i) {\n        item = metasets[i];\n\n        if (typeof dataIndex !== 'undefined') {\n          var val = item.controller.getParsed(dataIndex)[item.controller._cachedMeta.vScale.axis];\n\n          if (isNullOrUndef(val) || isNaN(val)) {\n            continue;\n          }\n        }\n\n        if (stacked === false || stacks.indexOf(item.stack) === -1 || stacked === undefined && item.stack === undefined) {\n          stacks.push(item.stack);\n        }\n\n        if (item.index === last) {\n          break;\n        }\n      }\n\n      if (!stacks.length) {\n        stacks.push(undefined);\n      }\n\n      return stacks;\n    }\n  }, {\n    key: \"_getStackCount\",\n    value: function _getStackCount(index) {\n      return this._getStacks(undefined, index).length;\n    }\n  }, {\n    key: \"_getStackIndex\",\n    value: function _getStackIndex(datasetIndex, name, dataIndex) {\n      var stacks = this._getStacks(datasetIndex, dataIndex);\n\n      var index = name !== undefined ? stacks.indexOf(name) : -1;\n      return index === -1 ? stacks.length - 1 : index;\n    }\n  }, {\n    key: \"_getRuler\",\n    value: function _getRuler() {\n      var me = this;\n      var opts = me.options;\n      var meta = me._cachedMeta;\n      var iScale = meta.iScale;\n      var pixels = [];\n      var i, ilen;\n\n      for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n        pixels.push(iScale.getPixelForValue(me.getParsed(i)[iScale.axis], i));\n      }\n\n      var barThickness = opts.barThickness;\n      var min = barThickness || computeMinSampleSize(iScale);\n      return {\n        min: min,\n        pixels: pixels,\n        start: iScale._startPixel,\n        end: iScale._endPixel,\n        stackCount: me._getStackCount(),\n        scale: iScale,\n        grouped: opts.grouped,\n        ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n      };\n    }\n  }, {\n    key: \"_calculateBarValuePixels\",\n    value: function _calculateBarValuePixels(index) {\n      var me = this;\n      var _me$_cachedMeta = me._cachedMeta,\n          vScale = _me$_cachedMeta.vScale,\n          _stacked = _me$_cachedMeta._stacked;\n      var _me$options = me.options,\n          baseValue = _me$options.base,\n          minBarLength = _me$options.minBarLength;\n      var parsed = me.getParsed(index);\n      var custom = parsed._custom;\n      var floating = isFloatBar(custom);\n      var value = parsed[vScale.axis];\n      var start = 0;\n      var length = _stacked ? me.applyStack(vScale, parsed, _stacked) : value;\n      var head, size;\n\n      if (length !== value) {\n        start = length - value;\n        length = value;\n      }\n\n      if (floating) {\n        value = custom.barStart;\n        length = custom.barEnd - custom.barStart;\n\n        if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n          start = 0;\n        }\n\n        start += value;\n      }\n\n      var startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n      var base = vScale.getPixelForValue(startValue);\n\n      if (this.chart.getDataVisibility(index)) {\n        head = vScale.getPixelForValue(start + length);\n      } else {\n        head = base;\n      }\n\n      size = head - base;\n\n      if (minBarLength !== undefined && Math.abs(size) < minBarLength) {\n        size = size < 0 ? -minBarLength : minBarLength;\n\n        if (value === 0) {\n          base -= size / 2;\n        }\n\n        head = base + size;\n      }\n\n      var actualBase = baseValue || 0;\n\n      if (base === vScale.getPixelForValue(actualBase)) {\n        var halfGrid = vScale.getLineWidthForValue(actualBase) / 2;\n\n        if (size > 0) {\n          base += halfGrid;\n          size -= halfGrid;\n        } else if (size < 0) {\n          base -= halfGrid;\n          size += halfGrid;\n        }\n      }\n\n      return {\n        size: size,\n        base: base,\n        head: head,\n        center: head + size / 2\n      };\n    }\n  }, {\n    key: \"_calculateBarIndexPixels\",\n    value: function _calculateBarIndexPixels(index, ruler) {\n      var me = this;\n      var scale = ruler.scale;\n      var options = me.options;\n      var skipNull = options.skipNull;\n      var maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n      var center, size;\n\n      if (ruler.grouped) {\n        var stackCount = skipNull ? me._getStackCount(index) : ruler.stackCount;\n        var range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n        var stackIndex = me._getStackIndex(me.index, me._cachedMeta.stack, skipNull ? index : undefined);\n\n        center = range.start + range.chunk * stackIndex + range.chunk / 2;\n        size = Math.min(maxBarThickness, range.chunk * range.ratio);\n      } else {\n        center = scale.getPixelForValue(me.getParsed(index)[scale.axis], index);\n        size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n      }\n\n      return {\n        base: center - size / 2,\n        head: center + size / 2,\n        center: center,\n        size: size\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n      var chart = me.chart;\n      var meta = me._cachedMeta;\n      var vScale = meta.vScale;\n      var rects = meta.data;\n      var ilen = rects.length;\n      var i = 0;\n      clipArea(chart.ctx, chart.chartArea);\n\n      for (; i < ilen; ++i) {\n        if (me.getParsed(i)[vScale.axis] !== null) {\n          rects[i].draw(me._ctx);\n        }\n      }\n\n      unclipArea(chart.ctx);\n    }\n  }]);\n\n  return BarController;\n}(DatasetController);\n\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  interaction: {\n    mode: 'index'\n  },\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true\n    }\n  }\n};\n\nvar BubbleController = /*#__PURE__*/function (_DatasetController2) {\n  _inherits(BubbleController, _DatasetController2);\n\n  var _super2 = _createSuper(BubbleController);\n\n  function BubbleController() {\n    _classCallCheck(this, BubbleController);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(BubbleController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(BubbleController.prototype), \"initialize\", this).call(this);\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var _this$_parsing3 = this._parsing,\n          _this$_parsing3$xAxis = _this$_parsing3.xAxisKey,\n          xAxisKey = _this$_parsing3$xAxis === void 0 ? 'x' : _this$_parsing3$xAxis,\n          _this$_parsing3$yAxis = _this$_parsing3.yAxisKey,\n          yAxisKey = _this$_parsing3$yAxis === void 0 ? 'y' : _this$_parsing3$yAxis;\n      var parsed = [];\n      var i, ilen, item;\n\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        item = data[i];\n        parsed.push({\n          x: xScale.parse(resolveObjectKey(item, xAxisKey), i),\n          y: yScale.parse(resolveObjectKey(item, yAxisKey), i),\n          _custom: item && item.r && +item.r\n        });\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      var _this$_cachedMeta = this._cachedMeta,\n          data = _this$_cachedMeta.data,\n          _parsed = _this$_cachedMeta._parsed;\n      var max = 0;\n\n      for (var i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size() / 2, _parsed[i]._custom);\n      }\n\n      return max > 0 && max;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var parsed = me.getParsed(index);\n      var x = xScale.getLabelForValue(parsed.x);\n      var y = yScale.getLabelForValue(parsed.y);\n      var r = parsed._custom;\n      return {\n        label: meta.label,\n        value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var points = me._cachedMeta.data;\n      me.updateElements(points, 0, points.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var _me$_cachedMeta2 = me._cachedMeta,\n          xScale = _me$_cachedMeta2.xScale,\n          yScale = _me$_cachedMeta2.yScale;\n      var firstOpts = me.resolveDataElementOptions(start, mode);\n      var sharedOptions = me.getSharedOptions(firstOpts);\n      var includeOptions = me.includeOptions(mode, sharedOptions);\n\n      for (var i = start; i < start + count; i++) {\n        var point = points[i];\n        var parsed = !reset && me.getParsed(i);\n        var x = reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(parsed.x);\n        var y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(parsed.y);\n        var properties = {\n          x: x,\n          y: y,\n          skip: isNaN(x) || isNaN(y)\n        };\n\n        if (includeOptions) {\n          properties.options = me.resolveDataElementOptions(i, mode);\n\n          if (reset) {\n            properties.options.radius = 0;\n          }\n        }\n\n        me.updateElement(point, i, properties, mode);\n      }\n\n      me.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"resolveDataElementOptions\",\n    value: function resolveDataElementOptions(index, mode) {\n      var parsed = this.getParsed(index);\n\n      var values = _get(_getPrototypeOf(BubbleController.prototype), \"resolveDataElementOptions\", this).call(this, index, mode);\n\n      if (values.$shared) {\n        values = Object.assign({}, values, {\n          $shared: false\n        });\n      }\n\n      var radius = values.radius;\n\n      if (mode !== 'active') {\n        values.radius = 0;\n      }\n\n      values.radius += valueOrDefault(parsed && parsed._custom, radius);\n      return values;\n    }\n  }]);\n\n  return BubbleController;\n}(DatasetController);\n\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  var ratioX = 1;\n  var ratioY = 1;\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (circumference < TAU) {\n    var startAngle = rotation;\n    var endAngle = startAngle + circumference;\n    var startX = Math.cos(startAngle);\n    var startY = Math.sin(startAngle);\n    var endX = Math.cos(endAngle);\n    var endY = Math.sin(endAngle);\n\n    var calcMax = function calcMax(angle, a, b) {\n      return _angleBetween(angle, startAngle, endAngle) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    };\n\n    var calcMin = function calcMin(angle, a, b) {\n      return _angleBetween(angle, startAngle, endAngle) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    };\n\n    var maxX = calcMax(0, startX, endX);\n    var maxY = calcMax(HALF_PI, startY, endY);\n    var minX = calcMin(PI, startX, endX);\n    var minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n\n  return {\n    ratioX: ratioX,\n    ratioY: ratioY,\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\n\nvar DoughnutController = /*#__PURE__*/function (_DatasetController3) {\n  _inherits(DoughnutController, _DatasetController3);\n\n  var _super3 = _createSuper(DoughnutController);\n\n  function DoughnutController(chart, datasetIndex) {\n    var _this;\n\n    _classCallCheck(this, DoughnutController);\n\n    _this = _super3.call(this, chart, datasetIndex);\n    _this.enableOptionSharing = true;\n    _this.innerRadius = undefined;\n    _this.outerRadius = undefined;\n    _this.offsetX = undefined;\n    _this.offsetY = undefined;\n    return _this;\n  }\n\n  _createClass(DoughnutController, [{\n    key: \"linkScales\",\n    value: function linkScales() {}\n  }, {\n    key: \"parse\",\n    value: function parse(start, count) {\n      var data = this.getDataset().data;\n      var meta = this._cachedMeta;\n      var i, ilen;\n\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = +data[i];\n      }\n    }\n  }, {\n    key: \"_getRotation\",\n    value: function _getRotation() {\n      return toRadians(this.options.rotation - 90);\n    }\n  }, {\n    key: \"_getCircumference\",\n    value: function _getCircumference() {\n      return toRadians(this.options.circumference);\n    }\n  }, {\n    key: \"_getRotationExtents\",\n    value: function _getRotationExtents() {\n      var min = TAU;\n      var max = -TAU;\n      var me = this;\n\n      for (var i = 0; i < me.chart.data.datasets.length; ++i) {\n        if (me.chart.isDatasetVisible(i)) {\n          var controller = me.chart.getDatasetMeta(i).controller;\n\n          var rotation = controller._getRotation();\n\n          var circumference = controller._getCircumference();\n\n          min = Math.min(min, rotation);\n          max = Math.max(max, rotation + circumference);\n        }\n      }\n\n      return {\n        rotation: min,\n        circumference: max - min\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var chart = me.chart;\n      var chartArea = chart.chartArea;\n      var meta = me._cachedMeta;\n      var arcs = meta.data;\n      var spacing = me.getMaxBorderWidth() + me.getMaxOffset(arcs);\n      var maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n      var cutout = Math.min(toPercentage(me.options.cutout, maxSize), 1);\n\n      var chartWeight = me._getRingWeight(me.index);\n\n      var _me$_getRotationExten = me._getRotationExtents(),\n          circumference = _me$_getRotationExten.circumference,\n          rotation = _me$_getRotationExten.rotation;\n\n      var _getRatioAndOffset = getRatioAndOffset(rotation, circumference, cutout),\n          ratioX = _getRatioAndOffset.ratioX,\n          ratioY = _getRatioAndOffset.ratioY,\n          offsetX = _getRatioAndOffset.offsetX,\n          offsetY = _getRatioAndOffset.offsetY;\n\n      var maxWidth = (chartArea.width - spacing) / ratioX;\n      var maxHeight = (chartArea.height - spacing) / ratioY;\n      var maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n      var outerRadius = toDimension(me.options.radius, maxRadius);\n      var innerRadius = Math.max(outerRadius * cutout, 0);\n\n      var radiusLength = (outerRadius - innerRadius) / me._getVisibleDatasetWeightTotal();\n\n      me.offsetX = offsetX * outerRadius;\n      me.offsetY = offsetY * outerRadius;\n      meta.total = me.calculateTotal();\n      me.outerRadius = outerRadius - radiusLength * me._getRingWeightOffset(me.index);\n      me.innerRadius = Math.max(me.outerRadius - radiusLength * chartWeight, 0);\n      me.updateElements(arcs, 0, arcs.length, mode);\n    }\n  }, {\n    key: \"_circumference\",\n    value: function _circumference(i, reset) {\n      var me = this;\n      var opts = me.options;\n      var meta = me._cachedMeta;\n\n      var circumference = me._getCircumference();\n\n      if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null) {\n        return 0;\n      }\n\n      return me.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(arcs, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var chart = me.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var centerX = (chartArea.left + chartArea.right) / 2;\n      var centerY = (chartArea.top + chartArea.bottom) / 2;\n      var animateScale = reset && animationOpts.animateScale;\n      var innerRadius = animateScale ? 0 : me.innerRadius;\n      var outerRadius = animateScale ? 0 : me.outerRadius;\n      var firstOpts = me.resolveDataElementOptions(start, mode);\n      var sharedOptions = me.getSharedOptions(firstOpts);\n      var includeOptions = me.includeOptions(mode, sharedOptions);\n\n      var startAngle = me._getRotation();\n\n      var i;\n\n      for (i = 0; i < start; ++i) {\n        startAngle += me._circumference(i, reset);\n      }\n\n      for (i = start; i < start + count; ++i) {\n        var circumference = me._circumference(i, reset);\n\n        var arc = arcs[i];\n        var properties = {\n          x: centerX + me.offsetX,\n          y: centerY + me.offsetY,\n          startAngle: startAngle,\n          endAngle: startAngle + circumference,\n          circumference: circumference,\n          outerRadius: outerRadius,\n          innerRadius: innerRadius\n        };\n\n        if (includeOptions) {\n          properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n        }\n\n        startAngle += circumference;\n        me.updateElement(arc, i, properties, mode);\n      }\n\n      me.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"calculateTotal\",\n    value: function calculateTotal() {\n      var meta = this._cachedMeta;\n      var metaData = meta.data;\n      var total = 0;\n      var i;\n\n      for (i = 0; i < metaData.length; i++) {\n        var value = meta._parsed[i];\n\n        if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i)) {\n          total += Math.abs(value);\n        }\n      }\n\n      return total;\n    }\n  }, {\n    key: \"calculateCircumference\",\n    value: function calculateCircumference(value) {\n      var total = this._cachedMeta.total;\n\n      if (total > 0 && !isNaN(value)) {\n        return TAU * (Math.abs(value) / total);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var chart = me.chart;\n      var labels = chart.data.labels || [];\n      var value = formatNumber(meta._parsed[index], chart.options.locale);\n      return {\n        label: labels[index] || '',\n        value: value\n      };\n    }\n  }, {\n    key: \"getMaxBorderWidth\",\n    value: function getMaxBorderWidth(arcs) {\n      var me = this;\n      var max = 0;\n      var chart = me.chart;\n      var i, ilen, meta, controller, options;\n\n      if (!arcs) {\n        for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n          if (chart.isDatasetVisible(i)) {\n            meta = chart.getDatasetMeta(i);\n            arcs = meta.data;\n            controller = meta.controller;\n\n            if (controller !== me) {\n              controller.configure();\n            }\n\n            break;\n          }\n        }\n      }\n\n      if (!arcs) {\n        return 0;\n      }\n\n      for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n        options = controller.resolveDataElementOptions(i);\n\n        if (options.borderAlign !== 'inner') {\n          max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n        }\n      }\n\n      return max;\n    }\n  }, {\n    key: \"getMaxOffset\",\n    value: function getMaxOffset(arcs) {\n      var max = 0;\n\n      for (var i = 0, ilen = arcs.length; i < ilen; ++i) {\n        var options = this.resolveDataElementOptions(i);\n        max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n      }\n\n      return max;\n    }\n  }, {\n    key: \"_getRingWeightOffset\",\n    value: function _getRingWeightOffset(datasetIndex) {\n      var ringWeightOffset = 0;\n\n      for (var i = 0; i < datasetIndex; ++i) {\n        if (this.chart.isDatasetVisible(i)) {\n          ringWeightOffset += this._getRingWeight(i);\n        }\n      }\n\n      return ringWeightOffset;\n    }\n  }, {\n    key: \"_getRingWeight\",\n    value: function _getRingWeight(datasetIndex) {\n      return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n  }, {\n    key: \"_getVisibleDatasetWeightTotal\",\n    value: function _getVisibleDatasetWeightTotal() {\n      return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n  }]);\n\n  return DoughnutController;\n}(DatasetController);\n\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth']\n    }\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  indexAxis: 'r'\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels: function generateLabels(chart) {\n          var data = chart.data;\n\n          if (data.labels.length && data.datasets.length) {\n            return data.labels.map(function (label, i) {\n              var meta = chart.getDatasetMeta(0);\n              var style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n\n          return [];\n        }\n      },\n      onClick: function onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(tooltipItem) {\n          var dataLabel = tooltipItem.label;\n          var value = ': ' + tooltipItem.formattedValue;\n\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nvar LineController = /*#__PURE__*/function (_DatasetController4) {\n  _inherits(LineController, _DatasetController4);\n\n  var _super4 = _createSuper(LineController);\n\n  function LineController() {\n    _classCallCheck(this, LineController);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(LineController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(LineController.prototype), \"initialize\", this).call(this);\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var line = meta.dataset,\n          _meta$data = meta.data,\n          points = _meta$data === void 0 ? [] : _meta$data,\n          _dataset = meta._dataset;\n      var animationsDisabled = me.chart._animationsDisabled;\n\n      var _getStartAndCountOfVi = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled),\n          start = _getStartAndCountOfVi.start,\n          count = _getStartAndCountOfVi.count;\n\n      me._drawStart = start;\n      me._drawCount = count;\n\n      if (scaleRangesChanged(meta)) {\n        start = 0;\n        count = points.length;\n      }\n\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n      var options = me.resolveDatasetElementOptions(mode);\n\n      if (!me.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      options.segment = me.options.segment;\n      me.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options: options\n      }, mode);\n      me.updateElements(points, start, count, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var _me$_cachedMeta3 = me._cachedMeta,\n          xScale = _me$_cachedMeta3.xScale,\n          yScale = _me$_cachedMeta3.yScale,\n          _stacked = _me$_cachedMeta3._stacked;\n      var firstOpts = me.resolveDataElementOptions(start, mode);\n      var sharedOptions = me.getSharedOptions(firstOpts);\n      var includeOptions = me.includeOptions(mode, sharedOptions);\n      var spanGaps = me.options.spanGaps;\n      var maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n      var directUpdate = me.chart._animationsDisabled || reset || mode === 'none';\n      var prevParsed = start > 0 && me.getParsed(start - 1);\n\n      for (var i = start; i < start + count; ++i) {\n        var point = points[i];\n        var parsed = me.getParsed(i);\n        var properties = directUpdate ? point : {};\n        var nullData = isNullOrUndef(parsed.y);\n        var x = properties.x = xScale.getPixelForValue(parsed.x, i);\n        var y = properties.y = reset || nullData ? yScale.getBasePixel() : yScale.getPixelForValue(_stacked ? me.applyStack(yScale, parsed, _stacked) : parsed.y, i);\n        properties.skip = isNaN(x) || isNaN(y) || nullData;\n        properties.stop = i > 0 && parsed.x - prevParsed.x > maxGapLength;\n        properties.parsed = parsed;\n\n        if (includeOptions) {\n          properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n        }\n\n        if (!directUpdate) {\n          me.updateElement(point, i, properties, mode);\n        }\n\n        prevParsed = parsed;\n      }\n\n      me.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      var me = this;\n      var meta = me._cachedMeta;\n      var dataset = meta.dataset;\n      var border = dataset.options && dataset.options.borderWidth || 0;\n      var data = meta.data || [];\n\n      if (!data.length) {\n        return border;\n      }\n\n      var firstPoint = data[0].size(me.resolveDataElementOptions(0));\n      var lastPoint = data[data.length - 1].size(me.resolveDataElementOptions(data.length - 1));\n      return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea);\n\n      _get(_getPrototypeOf(LineController.prototype), \"draw\", this).call(this);\n    }\n  }]);\n\n  return LineController;\n}(DatasetController);\n\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category'\n    },\n    _value_: {\n      type: 'linear'\n    }\n  }\n};\n\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  var pointCount = points.length;\n  var start = 0;\n  var count = pointCount;\n\n  if (meta._sorted) {\n    var iScale = meta.iScale,\n        _parsed = meta._parsed;\n    var axis = iScale.axis;\n\n    var _iScale$getUserBounds = iScale.getUserBounds(),\n        min = _iScale$getUserBounds.min,\n        max = _iScale$getUserBounds.max,\n        minDefined = _iScale$getUserBounds.minDefined,\n        maxDefined = _iScale$getUserBounds.maxDefined;\n\n    if (minDefined) {\n      start = _limitValue(Math.min(_lookupByKey(_parsed, iScale.axis, min).lo, animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n    }\n\n    if (maxDefined) {\n      count = _limitValue(Math.max(_lookupByKey(_parsed, iScale.axis, max).hi + 1, animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1), start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {\n    start: start,\n    count: count\n  };\n}\n\nfunction scaleRangesChanged(meta) {\n  var xScale = meta.xScale,\n      yScale = meta.yScale,\n      _scaleRanges = meta._scaleRanges;\n  var newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n\n  var changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nvar PolarAreaController = /*#__PURE__*/function (_DatasetController5) {\n  _inherits(PolarAreaController, _DatasetController5);\n\n  var _super5 = _createSuper(PolarAreaController);\n\n  function PolarAreaController(chart, datasetIndex) {\n    var _this2;\n\n    _classCallCheck(this, PolarAreaController);\n\n    _this2 = _super5.call(this, chart, datasetIndex);\n    _this2.innerRadius = undefined;\n    _this2.outerRadius = undefined;\n    return _this2;\n  }\n\n  _createClass(PolarAreaController, [{\n    key: \"update\",\n    value: function update(mode) {\n      var arcs = this._cachedMeta.data;\n\n      this._updateRadius();\n\n      this.updateElements(arcs, 0, arcs.length, mode);\n    }\n  }, {\n    key: \"_updateRadius\",\n    value: function _updateRadius() {\n      var me = this;\n      var chart = me.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n      var outerRadius = Math.max(minSize / 2, 0);\n      var innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n      var radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n      me.outerRadius = outerRadius - radiusLength * me.index;\n      me.innerRadius = me.outerRadius - radiusLength;\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(arcs, start, count, mode) {\n      var me = this;\n      var reset = mode === 'reset';\n      var chart = me.chart;\n      var dataset = me.getDataset();\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var scale = me._cachedMeta.rScale;\n      var centerX = scale.xCenter;\n      var centerY = scale.yCenter;\n      var datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n      var angle = datasetStartAngle;\n      var i;\n      var defaultAngle = 360 / me.countVisibleElements();\n\n      for (i = 0; i < start; ++i) {\n        angle += me._computeAngle(i, mode, defaultAngle);\n      }\n\n      for (i = start; i < start + count; i++) {\n        var arc = arcs[i];\n        var startAngle = angle;\n\n        var endAngle = angle + me._computeAngle(i, mode, defaultAngle);\n\n        var outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n        angle = endAngle;\n\n        if (reset) {\n          if (animationOpts.animateScale) {\n            outerRadius = 0;\n          }\n\n          if (animationOpts.animateRotate) {\n            startAngle = endAngle = datasetStartAngle;\n          }\n        }\n\n        var properties = {\n          x: centerX,\n          y: centerY,\n          innerRadius: 0,\n          outerRadius: outerRadius,\n          startAngle: startAngle,\n          endAngle: endAngle,\n          options: me.resolveDataElementOptions(i, mode)\n        };\n        me.updateElement(arc, i, properties, mode);\n      }\n    }\n  }, {\n    key: \"countVisibleElements\",\n    value: function countVisibleElements() {\n      var _this3 = this;\n\n      var dataset = this.getDataset();\n      var meta = this._cachedMeta;\n      var count = 0;\n      meta.data.forEach(function (element, index) {\n        if (!isNaN(dataset.data[index]) && _this3.chart.getDataVisibility(index)) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"_computeAngle\",\n    value: function _computeAngle(index, mode, defaultAngle) {\n      return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n  }]);\n\n  return PolarAreaController;\n}(DatasetController);\n\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    }\n  },\n  indexAxis: 'r',\n  startAngle: 0\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels: function generateLabels(chart) {\n          var data = chart.data;\n\n          if (data.labels.length && data.datasets.length) {\n            return data.labels.map(function (label, i) {\n              var meta = chart.getDatasetMeta(0);\n              var style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n\n          return [];\n        }\n      },\n      onClick: function onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nvar PieController = /*#__PURE__*/function (_DoughnutController) {\n  _inherits(PieController, _DoughnutController);\n\n  var _super6 = _createSuper(PieController);\n\n  function PieController() {\n    _classCallCheck(this, PieController);\n\n    return _super6.apply(this, arguments);\n  }\n\n  return PieController;\n}(DoughnutController);\n\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nvar RadarController = /*#__PURE__*/function (_DatasetController6) {\n  _inherits(RadarController, _DatasetController6);\n\n  var _super7 = _createSuper(RadarController);\n\n  function RadarController() {\n    _classCallCheck(this, RadarController);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(RadarController, [{\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var me = this;\n      var vScale = me._cachedMeta.vScale;\n      var parsed = me.getParsed(index);\n      return {\n        label: vScale.getLabels()[index],\n        value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var meta = me._cachedMeta;\n      var line = meta.dataset;\n      var points = meta.data || [];\n      var labels = meta.iScale.getLabels();\n      line.points = points;\n\n      if (mode !== 'resize') {\n        var options = me.resolveDatasetElementOptions(mode);\n\n        if (!me.options.showLine) {\n          options.borderWidth = 0;\n        }\n\n        var properties = {\n          _loop: true,\n          _fullLoop: labels.length === points.length,\n          options: options\n        };\n        me.updateElement(line, undefined, properties, mode);\n      }\n\n      me.updateElements(points, 0, points.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var me = this;\n      var dataset = me.getDataset();\n      var scale = me._cachedMeta.rScale;\n      var reset = mode === 'reset';\n\n      for (var i = start; i < start + count; i++) {\n        var point = points[i];\n        var options = me.resolveDataElementOptions(i, mode);\n        var pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n        var x = reset ? scale.xCenter : pointPosition.x;\n        var y = reset ? scale.yCenter : pointPosition.y;\n        var properties = {\n          x: x,\n          y: y,\n          angle: pointPosition.angle,\n          skip: isNaN(x) || isNaN(y),\n          options: options\n        };\n        me.updateElement(point, i, properties, mode);\n      }\n    }\n  }]);\n\n  return RadarController;\n}(DatasetController);\n\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  }\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear'\n    }\n  }\n};\n\nvar ScatterController = /*#__PURE__*/function (_LineController) {\n  _inherits(ScatterController, _LineController);\n\n  var _super8 = _createSuper(ScatterController);\n\n  function ScatterController() {\n    _classCallCheck(this, ScatterController);\n\n    return _super8.apply(this, arguments);\n  }\n\n  return ScatterController;\n}(LineController);\n\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\nvar controllers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  BarController: BarController,\n  BubbleController: BubbleController,\n  DoughnutController: DoughnutController,\n  LineController: LineController,\n  PolarAreaController: PolarAreaController,\n  PieController: PieController,\n  RadarController: RadarController,\n  ScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: either no adapter can be found or an incomplete integration was provided.');\n}\n\nvar DateAdapter = /*#__PURE__*/function () {\n  function DateAdapter(options) {\n    _classCallCheck(this, DateAdapter);\n\n    this.options = options || {};\n  }\n\n  _createClass(DateAdapter, [{\n    key: \"formats\",\n    value: function formats() {\n      return abstract();\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(value, format) {\n      return abstract();\n    }\n  }, {\n    key: \"format\",\n    value: function format(timestamp, _format) {\n      return abstract();\n    }\n  }, {\n    key: \"add\",\n    value: function add(timestamp, amount, unit) {\n      return abstract();\n    }\n  }, {\n    key: \"diff\",\n    value: function diff(a, b, unit) {\n      return abstract();\n    }\n  }, {\n    key: \"startOf\",\n    value: function startOf(timestamp, unit, weekday) {\n      return abstract();\n    }\n  }, {\n    key: \"endOf\",\n    value: function endOf(timestamp, unit) {\n      return abstract();\n    }\n  }]);\n\n  return DateAdapter;\n}();\n\nDateAdapter.override = function (members) {\n  Object.assign(DateAdapter.prototype, members);\n};\n\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n\n  return getRelativePosition$1(e, chart);\n}\n\nfunction evaluateAllVisibleItems(chart, handler) {\n  var metasets = chart.getSortedVisibleDatasetMetas();\n  var index, data, element;\n\n  for (var i = 0, ilen = metasets.length; i < ilen; ++i) {\n    var _metasets$i = metasets[i];\n    index = _metasets$i.index;\n    data = _metasets$i.data;\n\n    for (var j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\nfunction binarySearch(metaset, axis, value, intersect) {\n  var controller = metaset.controller,\n      data = metaset.data,\n      _sorted = metaset._sorted;\n  var iScale = controller._cachedMeta.iScale;\n\n  if (iScale && axis === iScale.axis && _sorted && data.length) {\n    var lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      var el = data[0];\n      var range = typeof el.getRange === 'function' && el.getRange(axis);\n\n      if (range) {\n        var start = lookupMethod(data, axis, value - range);\n        var end = lookupMethod(data, axis, value + range);\n        return {\n          lo: start.lo,\n          hi: end.hi\n        };\n      }\n    }\n  }\n\n  return {\n    lo: 0,\n    hi: data.length - 1\n  };\n}\n\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  var metasets = chart.getSortedVisibleDatasetMetas();\n  var value = position[axis];\n\n  for (var i = 0, ilen = metasets.length; i < ilen; ++i) {\n    var _metasets$i2 = metasets[i],\n        index = _metasets$i2.index,\n        data = _metasets$i2.data;\n\n    var _binarySearch = binarySearch(metasets[i], axis, value, intersect),\n        lo = _binarySearch.lo,\n        hi = _binarySearch.hi;\n\n    for (var j = lo; j <= hi; ++j) {\n      var element = data[j];\n\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\nfunction getDistanceMetricForAxis(axis) {\n  var useX = axis.indexOf('x') !== -1;\n  var useY = axis.indexOf('y') !== -1;\n  return function (pt1, pt2) {\n    var deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    var deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  var items = [];\n\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n\n  var evaluationFunc = function evaluationFunc(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  };\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  var distanceMetric = getDistanceMetricForAxis(axis);\n  var minDistance = Number.POSITIVE_INFINITY;\n  var items = [];\n\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n\n  var evaluationFunc = function evaluationFunc(element, datasetIndex, index) {\n    if (intersect && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n\n    var center = element.getCenterPoint(useFinalPosition);\n    var distance = distanceMetric(position, center);\n\n    if (distance < minDistance) {\n      items = [{\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      }];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  };\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  var position = getRelativePosition(e, chart);\n  var items = [];\n  var axis = options.axis;\n  var rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  var intersectsItem = false;\n  evaluateAllVisibleItems(chart, function (element, datasetIndex, index) {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n\n  return items;\n}\n\nvar Interaction = {\n  modes: {\n    index: function index(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'x';\n      var items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition) : getNearestItems(chart, position, axis, false, useFinalPosition);\n      var elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach(function (meta) {\n        var index = items[0].index;\n        var element = meta.data[index];\n\n        if (element && !element.skip) {\n          elements.push({\n            element: element,\n            datasetIndex: meta.index,\n            index: index\n          });\n        }\n      });\n      return elements;\n    },\n    dataset: function dataset(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      var items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition) : getNearestItems(chart, position, axis, false, useFinalPosition);\n\n      if (items.length > 0) {\n        var datasetIndex = items[0].datasetIndex;\n        var data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n\n        for (var i = 0; i < data.length; ++i) {\n          items.push({\n            element: data[i],\n            datasetIndex: datasetIndex,\n            index: i\n          });\n        }\n      }\n\n      return items;\n    },\n    point: function point(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest: function nearest(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x: function x(chart, e, options, useFinalPosition) {\n      options.axis = 'x';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    },\n    y: function y(chart, e, options, useFinalPosition) {\n      options.axis = 'y';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    }\n  }\n};\nvar STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(function (v) {\n    return v.pos === position;\n  });\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(function (v) {\n    return STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis;\n  });\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort(function (a, b) {\n    var v0 = reverse ? b : a;\n    var v1 = reverse ? a : b;\n    return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  var layoutBoxes = [];\n  var i, ilen, box;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    layoutBoxes.push({\n      index: i,\n      box: box,\n      pos: box.position,\n      horizontal: box.isHorizontal(),\n      weight: box.weight\n    });\n  }\n\n  return layoutBoxes;\n}\n\nfunction setLayoutDims(layouts, params) {\n  var i, ilen, layout;\n\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n\n    if (layout.horizontal) {\n      layout.width = layout.box.fullSize && params.availableWidth;\n      layout.height = params.hBoxMaxHeight;\n    } else {\n      layout.width = params.vBoxMaxWidth;\n      layout.height = layout.box.fullSize && params.availableHeight;\n    }\n  }\n}\n\nfunction buildLayoutBoxes(boxes) {\n  var layoutBoxes = wrapBoxes(boxes);\n  var fullSize = sortByWeight(layoutBoxes.filter(function (wrap) {\n    return wrap.box.fullSize;\n  }), true);\n  var left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  var right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  var top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  var bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  var centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  var centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize: fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout) {\n  var box = layout.box;\n  var maxPadding = chartArea.maxPadding;\n\n  if (!isObject(layout.pos)) {\n    if (layout.size) {\n      chartArea[layout.pos] -= layout.size;\n    }\n\n    layout.size = layout.horizontal ? box.height : box.width;\n    chartArea[layout.pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  var newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  var newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  var widthChanged = newWidth !== chartArea.w;\n  var heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal ? {\n    same: widthChanged,\n    other: heightChanged\n  } : {\n    same: heightChanged,\n    other: widthChanged\n  };\n}\n\nfunction handleMaxPadding(chartArea) {\n  var maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    var change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  var maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    var margin = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n    positions.forEach(function (pos) {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal ? marginForPositions(['left', 'right']) : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params) {\n  var refitBoxes = [];\n  var i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n\n    var _updateDims = updateDims(chartArea, params, layout),\n        same = _updateDims.same,\n        other = _updateDims.other;\n\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params) || changed;\n}\n\nfunction placeBoxes(boxes, chartArea, params) {\n  var userPadding = params.padding;\n  var x = chartArea.x;\n  var y = chartArea.y;\n  var i, ilen, layout, box;\n\n  for (i = 0, ilen = boxes.length; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    if (layout.horizontal) {\n      box.left = box.fullSize ? userPadding.left : chartArea.left;\n      box.right = box.fullSize ? params.outerWidth - userPadding.right : chartArea.left + chartArea.w;\n      box.top = y;\n      box.bottom = y + box.height;\n      box.width = box.right - box.left;\n      y = box.bottom;\n    } else {\n      box.left = x;\n      box.right = x + box.width;\n      box.top = box.fullSize ? userPadding.top : chartArea.top;\n      box.bottom = box.fullSize ? params.outerHeight - userPadding.right : chartArea.top + chartArea.h;\n      box.height = box.bottom - box.top;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\ndefaults.set('layout', {\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox: function addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n\n    item._layers = item._layers || function () {\n      return [{\n        z: 0,\n        draw: function draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n  removeBox: function removeBox(chart, layoutItem) {\n    var index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure: function configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update: function update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    var padding = toPadding(chart.options.layout.padding);\n    var availableWidth = width - padding.width;\n    var availableHeight = height - padding.height;\n    var boxes = buildLayoutBoxes(chart.boxes);\n    var verticalBoxes = boxes.vertical;\n    var horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, function (box) {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    var visibleVerticalBoxCount = verticalBoxes.reduce(function (total, wrap) {\n      return wrap.box.options && wrap.box.options.display === false ? total : total + 1;\n    }, 0) || 1;\n    var params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding: padding,\n      availableWidth: availableWidth,\n      availableHeight: availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    var maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    var chartArea = Object.assign({\n      maxPadding: maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params);\n    fitBoxes(verticalBoxes, chartArea, params);\n\n    if (fitBoxes(horizontalBoxes, chartArea, params)) {\n      fitBoxes(verticalBoxes, chartArea, params);\n    }\n\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w\n    };\n    each(boxes.chartArea, function (layout) {\n      var box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h);\n    });\n  }\n};\n\nvar BasePlatform = /*#__PURE__*/function () {\n  function BasePlatform() {\n    _classCallCheck(this, BasePlatform);\n  }\n\n  _createClass(BasePlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(canvas, aspectRatio) {}\n  }, {\n    key: \"releaseContext\",\n    value: function releaseContext(context) {\n      return false;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(chart, type, listener) {}\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(chart, type, listener) {}\n  }, {\n    key: \"getDevicePixelRatio\",\n    value: function getDevicePixelRatio() {\n      return 1;\n    }\n  }, {\n    key: \"getMaximumSize\",\n    value: function getMaximumSize(element, width, height, aspectRatio) {\n      width = Math.max(0, width || element.width);\n      height = height || element.height;\n      return {\n        width: width,\n        height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n      };\n    }\n  }, {\n    key: \"isAttached\",\n    value: function isAttached(canvas) {\n      return true;\n    }\n  }]);\n\n  return BasePlatform;\n}();\n\nvar BasicPlatform = /*#__PURE__*/function (_BasePlatform) {\n  _inherits(BasicPlatform, _BasePlatform);\n\n  var _super9 = _createSuper(BasicPlatform);\n\n  function BasicPlatform() {\n    _classCallCheck(this, BasicPlatform);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(BasicPlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(item) {\n      return item && item.getContext && item.getContext('2d') || null;\n    }\n  }]);\n\n  return BasicPlatform;\n}(BasePlatform);\n\nvar EXPANDO_KEY = '$chartjs';\nvar EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nvar isNullOrEmpty = function isNullOrEmpty(value) {\n  return value === null || value === '';\n};\n\nfunction initCanvas(canvas, aspectRatio) {\n  var style = canvas.style;\n  var renderHeight = canvas.getAttribute('height');\n  var renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    var displayWidth = readUsedSize(canvas, 'width');\n\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      var displayHeight = readUsedSize(canvas, 'height');\n\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\nvar eventListenerOptions = supportsEventListenerOptions ? {\n  passive: true\n} : false;\n\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\n\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\n\nfunction fromNativeEvent(event, chart) {\n  var type = EVENT_TYPES[event.type] || event.type;\n\n  var _getRelativePosition$ = getRelativePosition$1(event, chart),\n      x = _getRelativePosition$.x,\n      y = _getRelativePosition$.y;\n\n  return {\n    type: type,\n    chart: chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null\n  };\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n\n  var container = canvas && _getParentNode(canvas);\n\n  var element = container || canvas;\n  var observer = new MutationObserver(function (entries) {\n    var parent = _getParentNode(element);\n\n    entries.forEach(function (entry) {\n      for (var i = 0; i < entry.addedNodes.length; i++) {\n        var added = entry.addedNodes[i];\n\n        if (added === element || added === parent) {\n          listener(entry.target);\n        }\n      }\n    });\n  });\n  observer.observe(document, {\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n\n  var container = canvas && _getParentNode(canvas);\n\n  if (!container) {\n    return;\n  }\n\n  var observer = new MutationObserver(function (entries) {\n    entries.forEach(function (entry) {\n      for (var i = 0; i < entry.removedNodes.length; i++) {\n        if (entry.removedNodes[i] === canvas) {\n          listener();\n          break;\n        }\n      }\n    });\n  });\n  observer.observe(container, {\n    childList: true\n  });\n  return observer;\n}\n\nvar drpListeningCharts = new Map();\nvar oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  var dpr = window.devicePixelRatio;\n\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach(function (resize, chart) {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n\n  var container = canvas && _getParentNode(canvas);\n\n  if (!container) {\n    return;\n  }\n\n  var resize = throttled(function (width, height) {\n    var w = container.clientWidth;\n    listener(width, height);\n\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  var observer = new ResizeObserver(function (entries) {\n    var entry = entries[0];\n    var width = entry.contentRect.width;\n    var height = entry.contentRect.height;\n\n    if (width === 0 && height === 0) {\n      return;\n    }\n\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  var canvas = chart.canvas;\n  var proxy = throttled(function (event) {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, function (args) {\n    var event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\n\nvar DomPlatform = /*#__PURE__*/function (_BasePlatform2) {\n  _inherits(DomPlatform, _BasePlatform2);\n\n  var _super10 = _createSuper(DomPlatform);\n\n  function DomPlatform() {\n    _classCallCheck(this, DomPlatform);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(DomPlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(canvas, aspectRatio) {\n      var context = canvas && canvas.getContext && canvas.getContext('2d');\n\n      if (context && context.canvas === canvas) {\n        initCanvas(canvas, aspectRatio);\n        return context;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"releaseContext\",\n    value: function releaseContext(context) {\n      var canvas = context.canvas;\n\n      if (!canvas[EXPANDO_KEY]) {\n        return false;\n      }\n\n      var initial = canvas[EXPANDO_KEY].initial;\n      ['height', 'width'].forEach(function (prop) {\n        var value = initial[prop];\n\n        if (isNullOrUndef(value)) {\n          canvas.removeAttribute(prop);\n        } else {\n          canvas.setAttribute(prop, value);\n        }\n      });\n      var style = initial.style || {};\n      Object.keys(style).forEach(function (key) {\n        canvas.style[key] = style[key];\n      });\n      canvas.width = canvas.width;\n      delete canvas[EXPANDO_KEY];\n      return true;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(chart, type, listener) {\n      this.removeEventListener(chart, type);\n      var proxies = chart.$proxies || (chart.$proxies = {});\n      var handlers = {\n        attach: createAttachObserver,\n        detach: createDetachObserver,\n        resize: createResizeObserver\n      };\n      var handler = handlers[type] || createProxyAndListen;\n      proxies[type] = handler(chart, type, listener);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(chart, type) {\n      var proxies = chart.$proxies || (chart.$proxies = {});\n      var proxy = proxies[type];\n\n      if (!proxy) {\n        return;\n      }\n\n      var handlers = {\n        attach: releaseObserver,\n        detach: releaseObserver,\n        resize: releaseObserver\n      };\n      var handler = handlers[type] || removeListener;\n      handler(chart, type, proxy);\n      proxies[type] = undefined;\n    }\n  }, {\n    key: \"getDevicePixelRatio\",\n    value: function getDevicePixelRatio() {\n      return window.devicePixelRatio;\n    }\n  }, {\n    key: \"getMaximumSize\",\n    value: function getMaximumSize(canvas, width, height, aspectRatio) {\n      return _getMaximumSize(canvas, width, height, aspectRatio);\n    }\n  }, {\n    key: \"isAttached\",\n    value: function isAttached(canvas) {\n      var container = _getParentNode(canvas);\n\n      return !!(container && _getParentNode(container));\n    }\n  }]);\n\n  return DomPlatform;\n}(BasePlatform);\n\nvar Element = /*#__PURE__*/function () {\n  function Element() {\n    _classCallCheck(this, Element);\n\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n\n  _createClass(Element, [{\n    key: \"tooltipPosition\",\n    value: function tooltipPosition(useFinalPosition) {\n      var _this$getProps = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps.x,\n          y = _this$getProps.y;\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"hasValue\",\n    value: function hasValue() {\n      return isNumber(this.x) && isNumber(this.y);\n    }\n  }, {\n    key: \"getProps\",\n    value: function getProps(props, final) {\n      var me = this;\n      var anims = this.$animations;\n\n      if (!final || !anims) {\n        return me;\n      }\n\n      var ret = {};\n      props.forEach(function (prop) {\n        ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : me[prop];\n      });\n      return ret;\n    }\n  }]);\n\n  return Element;\n}();\n\nElement.defaults = {};\nElement.defaultRoutes = undefined;\nvar formatters = {\n  values: function values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric: function numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n\n    var locale = this.chart.options.locale;\n    var notation;\n    var delta = tickValue;\n\n    if (ticks.length > 1) {\n      var maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    var logDelta = log10(Math.abs(delta));\n    var numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    var options = {\n      notation: notation,\n      minimumFractionDigits: numDecimal,\n      maximumFractionDigits: numDecimal\n    };\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic: function logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n\n    var remain = tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n\n    return '';\n  }\n};\n\nfunction calculateDelta(tickValue, ticks) {\n  var delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  if (Math.abs(delta) > 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n\n  return delta;\n}\n\nvar Ticks = {\n  formatters: formatters\n};\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: function tickWidth(_ctx, options) {\n      return options.lineWidth;\n    },\n    tickColor: function tickColor(_ctx, options) {\n      return options.color;\n    },\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: function _scriptable(name) {\n    return !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser';\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'borderDash' && name !== 'tickBorderDash';\n  }\n});\ndefaults.describe('scales', {\n  _fallback: 'scale'\n});\n\nfunction autoSkip(scale, ticks) {\n  var tickOpts = scale.options.ticks;\n  var ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  var majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  var numMajorIndices = majorIndices.length;\n  var first = majorIndices[0];\n  var last = majorIndices[numMajorIndices - 1];\n  var newTicks = [];\n\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  var spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    var i, ilen;\n    var avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  var offset = scale.options.offset;\n\n  var tickLength = scale._tickSize();\n\n  var maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  var maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  var evenMajorSpacing = getEvenSpacing(majorIndices);\n  var spacing = ticks.length / ticksLimit;\n\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  var factors = _factorize(evenMajorSpacing);\n\n  for (var i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    var factor = factors[i];\n\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n\n  return Math.max(spacing, 1);\n}\n\nfunction getMajorIndices(ticks) {\n  var result = [];\n  var i, ilen;\n\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n\n  return result;\n}\n\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  var count = 0;\n  var next = majorIndices[0];\n  var i;\n  spacing = Math.ceil(spacing);\n\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  var start = valueOrDefault(majorStart, 0);\n  var end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  var count = 0;\n  var length, i, next;\n  spacing = Math.ceil(spacing);\n\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\nfunction getEvenSpacing(arr) {\n  var len = arr.length;\n  var i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n\n  return diff;\n}\n\nvar reverseAlign = function reverseAlign(align) {\n  return align === 'left' ? 'right' : align === 'right' ? 'left' : align;\n};\n\nvar offsetFromEdge = function offsetFromEdge(scale, edge, offset) {\n  return edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\n};\n\nfunction sample(arr, numItems) {\n  var result = [];\n  var increment = arr.length / numItems;\n  var len = arr.length;\n  var i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n\n  return result;\n}\n\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  var length = scale.ticks.length;\n  var validIndex = Math.min(index, length - 1);\n  var start = scale._startPixel;\n  var end = scale._endPixel;\n  var epsilon = 1e-6;\n  var lineValue = scale.getPixelForTick(validIndex);\n  var offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n\n    lineValue += validIndex < index ? offset : -offset;\n\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n\n  return lineValue;\n}\n\nfunction garbageCollect(caches, length) {\n  each(caches, function (cache) {\n    var gc = cache.gc;\n    var gcLen = gc.length / 2;\n    var i;\n\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  var font = toFont(options.font, fallback);\n  var padding = toPadding(options.padding);\n  var lines = isArray(options.text) ? options.text.length : 1;\n  return lines * font.lineHeight + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return Object.assign(Object.create(parent), {\n    scale: scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return Object.assign(Object.create(parent), {\n    tick: tick,\n    index: index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  var ret = _toLeftRightCenter(align);\n\n  if (reverse && position !== 'right' || !reverse && position === 'right') {\n    ret = reverseAlign(ret);\n  }\n\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  var top = scale.top,\n      left = scale.left,\n      bottom = scale.bottom,\n      right = scale.right;\n  var rotation = 0;\n  var maxWidth, titleX, titleY;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    titleY = offsetFromEdge(scale, position, offset);\n    maxWidth = right - left;\n  } else {\n    titleX = offsetFromEdge(scale, position, offset);\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n\n  return {\n    titleX: titleX,\n    titleY: titleY,\n    maxWidth: maxWidth,\n    rotation: rotation\n  };\n}\n\nvar Scale = /*#__PURE__*/function (_Element) {\n  _inherits(Scale, _Element);\n\n  var _super11 = _createSuper(Scale);\n\n  function Scale(cfg) {\n    var _this4;\n\n    _classCallCheck(this, Scale);\n\n    _this4 = _super11.call(this);\n    _this4.id = cfg.id;\n    _this4.type = cfg.type;\n    _this4.options = undefined;\n    _this4.ctx = cfg.ctx;\n    _this4.chart = cfg.chart;\n    _this4.top = undefined;\n    _this4.bottom = undefined;\n    _this4.left = undefined;\n    _this4.right = undefined;\n    _this4.width = undefined;\n    _this4.height = undefined;\n    _this4._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    _this4.maxWidth = undefined;\n    _this4.maxHeight = undefined;\n    _this4.paddingTop = undefined;\n    _this4.paddingBottom = undefined;\n    _this4.paddingLeft = undefined;\n    _this4.paddingRight = undefined;\n    _this4.axis = undefined;\n    _this4.labelRotation = undefined;\n    _this4.min = undefined;\n    _this4.max = undefined;\n    _this4._range = undefined;\n    _this4.ticks = [];\n    _this4._gridLineItems = null;\n    _this4._labelItems = null;\n    _this4._labelSizes = null;\n    _this4._length = 0;\n    _this4._maxLength = 0;\n    _this4._longestTextCache = {};\n    _this4._startPixel = undefined;\n    _this4._endPixel = undefined;\n    _this4._reversePixels = false;\n    _this4._userMax = undefined;\n    _this4._userMin = undefined;\n    _this4._suggestedMax = undefined;\n    _this4._suggestedMin = undefined;\n    _this4._ticksLength = 0;\n    _this4._borderValue = 0;\n    _this4._cache = {};\n    _this4._dataLimitsCached = false;\n    _this4.$context = undefined;\n    return _this4;\n  }\n\n  _createClass(Scale, [{\n    key: \"init\",\n    value: function init(options) {\n      var me = this;\n      me.options = options.setContext(me.getContext());\n      me.axis = options.axis;\n      me._userMin = me.parse(options.min);\n      me._userMax = me.parse(options.max);\n      me._suggestedMin = me.parse(options.suggestedMin);\n      me._suggestedMax = me.parse(options.suggestedMax);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      return raw;\n    }\n  }, {\n    key: \"getUserBounds\",\n    value: function getUserBounds() {\n      var _userMin = this._userMin,\n          _userMax = this._userMax,\n          _suggestedMin = this._suggestedMin,\n          _suggestedMax = this._suggestedMax;\n      _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n      _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n      _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n      _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n      return {\n        min: finiteOrDefault(_userMin, _suggestedMin),\n        max: finiteOrDefault(_userMax, _suggestedMax),\n        minDefined: isNumberFinite(_userMin),\n        maxDefined: isNumberFinite(_userMax)\n      };\n    }\n  }, {\n    key: \"getMinMax\",\n    value: function getMinMax(canStack) {\n      var me = this;\n\n      var _me$getUserBounds = me.getUserBounds(),\n          min = _me$getUserBounds.min,\n          max = _me$getUserBounds.max,\n          minDefined = _me$getUserBounds.minDefined,\n          maxDefined = _me$getUserBounds.maxDefined;\n\n      var range;\n\n      if (minDefined && maxDefined) {\n        return {\n          min: min,\n          max: max\n        };\n      }\n\n      var metas = me.getMatchingVisibleMetas();\n\n      for (var i = 0, ilen = metas.length; i < ilen; ++i) {\n        range = metas[i].controller.getMinMax(me, canStack);\n\n        if (!minDefined) {\n          min = Math.min(min, range.min);\n        }\n\n        if (!maxDefined) {\n          max = Math.max(max, range.max);\n        }\n      }\n\n      return {\n        min: finiteOrDefault(min, finiteOrDefault(max, min)),\n        max: finiteOrDefault(max, finiteOrDefault(min, max))\n      };\n    }\n  }, {\n    key: \"getPadding\",\n    value: function getPadding() {\n      var me = this;\n      return {\n        left: me.paddingLeft || 0,\n        top: me.paddingTop || 0,\n        right: me.paddingRight || 0,\n        bottom: me.paddingBottom || 0\n      };\n    }\n  }, {\n    key: \"getTicks\",\n    value: function getTicks() {\n      return this.ticks;\n    }\n  }, {\n    key: \"getLabels\",\n    value: function getLabels() {\n      var data = this.chart.data;\n      return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n  }, {\n    key: \"beforeLayout\",\n    value: function beforeLayout() {\n      this._cache = {};\n      this._dataLimitsCached = false;\n    }\n  }, {\n    key: \"beforeUpdate\",\n    value: function beforeUpdate() {\n      callback(this.options.beforeUpdate, [this]);\n    }\n  }, {\n    key: \"update\",\n    value: function update(maxWidth, maxHeight, margins) {\n      var me = this;\n      var tickOpts = me.options.ticks;\n      var sampleSize = tickOpts.sampleSize;\n      me.beforeUpdate();\n      me.maxWidth = maxWidth;\n      me.maxHeight = maxHeight;\n      me._margins = margins = Object.assign({\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n      }, margins);\n      me.ticks = null;\n      me._labelSizes = null;\n      me._gridLineItems = null;\n      me._labelItems = null;\n      me.beforeSetDimensions();\n      me.setDimensions();\n      me.afterSetDimensions();\n      me._maxLength = me.isHorizontal() ? me.width + margins.left + margins.right : me.height + margins.top + margins.bottom;\n\n      if (!me._dataLimitsCached) {\n        me.beforeDataLimits();\n        me.determineDataLimits();\n        me.afterDataLimits();\n        me._range = _addGrace(me, me.options.grace);\n        me._dataLimitsCached = true;\n      }\n\n      me.beforeBuildTicks();\n      me.ticks = me.buildTicks() || [];\n      me.afterBuildTicks();\n      var samplingEnabled = sampleSize < me.ticks.length;\n\n      me._convertTicksToLabels(samplingEnabled ? sample(me.ticks, sampleSize) : me.ticks);\n\n      me.configure();\n      me.beforeCalculateLabelRotation();\n      me.calculateLabelRotation();\n      me.afterCalculateLabelRotation();\n\n      if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n        me.ticks = autoSkip(me, me.ticks);\n        me._labelSizes = null;\n      }\n\n      if (samplingEnabled) {\n        me._convertTicksToLabels(me.ticks);\n      }\n\n      me.beforeFit();\n      me.fit();\n      me.afterFit();\n      me.afterUpdate();\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n      var reversePixels = me.options.reverse;\n      var startPixel, endPixel;\n\n      if (me.isHorizontal()) {\n        startPixel = me.left;\n        endPixel = me.right;\n      } else {\n        startPixel = me.top;\n        endPixel = me.bottom;\n        reversePixels = !reversePixels;\n      }\n\n      me._startPixel = startPixel;\n      me._endPixel = endPixel;\n      me._reversePixels = reversePixels;\n      me._length = endPixel - startPixel;\n      me._alignToPixels = me.options.alignToPixels;\n    }\n  }, {\n    key: \"afterUpdate\",\n    value: function afterUpdate() {\n      callback(this.options.afterUpdate, [this]);\n    }\n  }, {\n    key: \"beforeSetDimensions\",\n    value: function beforeSetDimensions() {\n      callback(this.options.beforeSetDimensions, [this]);\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      var me = this;\n\n      if (me.isHorizontal()) {\n        me.width = me.maxWidth;\n        me.left = 0;\n        me.right = me.width;\n      } else {\n        me.height = me.maxHeight;\n        me.top = 0;\n        me.bottom = me.height;\n      }\n\n      me.paddingLeft = 0;\n      me.paddingTop = 0;\n      me.paddingRight = 0;\n      me.paddingBottom = 0;\n    }\n  }, {\n    key: \"afterSetDimensions\",\n    value: function afterSetDimensions() {\n      callback(this.options.afterSetDimensions, [this]);\n    }\n  }, {\n    key: \"_callHooks\",\n    value: function _callHooks(name) {\n      var me = this;\n      me.chart.notifyPlugins(name, me.getContext());\n      callback(me.options[name], [me]);\n    }\n  }, {\n    key: \"beforeDataLimits\",\n    value: function beforeDataLimits() {\n      this._callHooks('beforeDataLimits');\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {}\n  }, {\n    key: \"afterDataLimits\",\n    value: function afterDataLimits() {\n      this._callHooks('afterDataLimits');\n    }\n  }, {\n    key: \"beforeBuildTicks\",\n    value: function beforeBuildTicks() {\n      this._callHooks('beforeBuildTicks');\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      return [];\n    }\n  }, {\n    key: \"afterBuildTicks\",\n    value: function afterBuildTicks() {\n      this._callHooks('afterBuildTicks');\n    }\n  }, {\n    key: \"beforeTickToLabelConversion\",\n    value: function beforeTickToLabelConversion() {\n      callback(this.options.beforeTickToLabelConversion, [this]);\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var me = this;\n      var tickOpts = me.options.ticks;\n      var i, ilen, tick;\n\n      for (i = 0, ilen = ticks.length; i < ilen; i++) {\n        tick = ticks[i];\n        tick.label = callback(tickOpts.callback, [tick.value, i, ticks], me);\n      }\n\n      for (i = 0; i < ilen; i++) {\n        if (isNullOrUndef(ticks[i].label)) {\n          ticks.splice(i, 1);\n          ilen--;\n          i--;\n        }\n      }\n    }\n  }, {\n    key: \"afterTickToLabelConversion\",\n    value: function afterTickToLabelConversion() {\n      callback(this.options.afterTickToLabelConversion, [this]);\n    }\n  }, {\n    key: \"beforeCalculateLabelRotation\",\n    value: function beforeCalculateLabelRotation() {\n      callback(this.options.beforeCalculateLabelRotation, [this]);\n    }\n  }, {\n    key: \"calculateLabelRotation\",\n    value: function calculateLabelRotation() {\n      var me = this;\n      var options = me.options;\n      var tickOpts = options.ticks;\n      var numTicks = me.ticks.length;\n      var minRotation = tickOpts.minRotation || 0;\n      var maxRotation = tickOpts.maxRotation;\n      var labelRotation = minRotation;\n      var tickWidth, maxHeight, maxLabelDiagonal;\n\n      if (!me._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !me.isHorizontal()) {\n        me.labelRotation = minRotation;\n        return;\n      }\n\n      var labelSizes = me._getLabelSizes();\n\n      var maxLabelWidth = labelSizes.widest.width;\n      var maxLabelHeight = labelSizes.highest.height;\n\n      var maxWidth = _limitValue(me.chart.width - maxLabelWidth, 0, me.maxWidth);\n\n      tickWidth = options.offset ? me.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n      if (maxLabelWidth + 6 > tickWidth) {\n        tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n        maxHeight = me.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, me.chart.options.font);\n        maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n        labelRotation = toDegrees(Math.min(Math.asin(Math.min((labelSizes.highest.height + 6) / tickWidth, 1)), Math.asin(Math.min(maxHeight / maxLabelDiagonal, 1)) - Math.asin(maxLabelHeight / maxLabelDiagonal)));\n        labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n      }\n\n      me.labelRotation = labelRotation;\n    }\n  }, {\n    key: \"afterCalculateLabelRotation\",\n    value: function afterCalculateLabelRotation() {\n      callback(this.options.afterCalculateLabelRotation, [this]);\n    }\n  }, {\n    key: \"beforeFit\",\n    value: function beforeFit() {\n      callback(this.options.beforeFit, [this]);\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var me = this;\n      var minSize = {\n        width: 0,\n        height: 0\n      };\n      var chart = me.chart,\n          _me$options2 = me.options,\n          tickOpts = _me$options2.ticks,\n          titleOpts = _me$options2.title,\n          gridOpts = _me$options2.grid;\n\n      var display = me._isVisible();\n\n      var isHorizontal = me.isHorizontal();\n\n      if (display) {\n        var titleHeight = getTitleHeight(titleOpts, chart.options.font);\n\n        if (isHorizontal) {\n          minSize.width = me.maxWidth;\n          minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n        } else {\n          minSize.height = me.maxHeight;\n          minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n        }\n\n        if (tickOpts.display && me.ticks.length) {\n          var _me$_getLabelSizes = me._getLabelSizes(),\n              first = _me$_getLabelSizes.first,\n              last = _me$_getLabelSizes.last,\n              widest = _me$_getLabelSizes.widest,\n              highest = _me$_getLabelSizes.highest;\n\n          var tickPadding = tickOpts.padding * 2;\n          var angleRadians = toRadians(me.labelRotation);\n          var cos = Math.cos(angleRadians);\n          var sin = Math.sin(angleRadians);\n\n          if (isHorizontal) {\n            var labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n            minSize.height = Math.min(me.maxHeight, minSize.height + labelHeight + tickPadding);\n          } else {\n            var labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n            minSize.width = Math.min(me.maxWidth, minSize.width + labelWidth + tickPadding);\n          }\n\n          me._calculatePadding(first, last, sin, cos);\n        }\n      }\n\n      me._handleMargins();\n\n      if (isHorizontal) {\n        me.width = me._length = chart.width - me._margins.left - me._margins.right;\n        me.height = minSize.height;\n      } else {\n        me.width = minSize.width;\n        me.height = me._length = chart.height - me._margins.top - me._margins.bottom;\n      }\n    }\n  }, {\n    key: \"_calculatePadding\",\n    value: function _calculatePadding(first, last, sin, cos) {\n      var me = this;\n      var _me$options3 = me.options,\n          _me$options3$ticks = _me$options3.ticks,\n          align = _me$options3$ticks.align,\n          padding = _me$options3$ticks.padding,\n          position = _me$options3.position;\n      var isRotated = me.labelRotation !== 0;\n      var labelsBelowTicks = position !== 'top' && me.axis === 'x';\n\n      if (me.isHorizontal()) {\n        var offsetLeft = me.getPixelForTick(0) - me.left;\n        var offsetRight = me.right - me.getPixelForTick(me.ticks.length - 1);\n        var paddingLeft = 0;\n        var paddingRight = 0;\n\n        if (isRotated) {\n          if (labelsBelowTicks) {\n            paddingLeft = cos * first.width;\n            paddingRight = sin * last.height;\n          } else {\n            paddingLeft = sin * first.height;\n            paddingRight = cos * last.width;\n          }\n        } else if (align === 'start') {\n          paddingRight = last.width;\n        } else if (align === 'end') {\n          paddingLeft = first.width;\n        } else {\n          paddingLeft = first.width / 2;\n          paddingRight = last.width / 2;\n        }\n\n        me.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * me.width / (me.width - offsetLeft), 0);\n        me.paddingRight = Math.max((paddingRight - offsetRight + padding) * me.width / (me.width - offsetRight), 0);\n      } else {\n        var paddingTop = last.height / 2;\n        var paddingBottom = first.height / 2;\n\n        if (align === 'start') {\n          paddingTop = 0;\n          paddingBottom = first.height;\n        } else if (align === 'end') {\n          paddingTop = last.height;\n          paddingBottom = 0;\n        }\n\n        me.paddingTop = paddingTop + padding;\n        me.paddingBottom = paddingBottom + padding;\n      }\n    }\n  }, {\n    key: \"_handleMargins\",\n    value: function _handleMargins() {\n      var me = this;\n\n      if (me._margins) {\n        me._margins.left = Math.max(me.paddingLeft, me._margins.left);\n        me._margins.top = Math.max(me.paddingTop, me._margins.top);\n        me._margins.right = Math.max(me.paddingRight, me._margins.right);\n        me._margins.bottom = Math.max(me.paddingBottom, me._margins.bottom);\n      }\n    }\n  }, {\n    key: \"afterFit\",\n    value: function afterFit() {\n      callback(this.options.afterFit, [this]);\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      var _this$options = this.options,\n          axis = _this$options.axis,\n          position = _this$options.position;\n      return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n  }, {\n    key: \"isFullSize\",\n    value: function isFullSize() {\n      return this.options.fullSize;\n    }\n  }, {\n    key: \"_convertTicksToLabels\",\n    value: function _convertTicksToLabels(ticks) {\n      var me = this;\n      me.beforeTickToLabelConversion();\n      me.generateTickLabels(ticks);\n      me.afterTickToLabelConversion();\n    }\n  }, {\n    key: \"_getLabelSizes\",\n    value: function _getLabelSizes() {\n      var me = this;\n      var labelSizes = me._labelSizes;\n\n      if (!labelSizes) {\n        var sampleSize = me.options.ticks.sampleSize;\n        var ticks = me.ticks;\n\n        if (sampleSize < ticks.length) {\n          ticks = sample(ticks, sampleSize);\n        }\n\n        me._labelSizes = labelSizes = me._computeLabelSizes(ticks, ticks.length);\n      }\n\n      return labelSizes;\n    }\n  }, {\n    key: \"_computeLabelSizes\",\n    value: function _computeLabelSizes(ticks, length) {\n      var ctx = this.ctx,\n          caches = this._longestTextCache;\n      var widths = [];\n      var heights = [];\n      var widestLabelSize = 0;\n      var highestLabelSize = 0;\n      var i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n      for (i = 0; i < length; ++i) {\n        label = ticks[i].label;\n        tickFont = this._resolveTickFontOptions(i);\n        ctx.font = fontString = tickFont.string;\n        cache = caches[fontString] = caches[fontString] || {\n          data: {},\n          gc: []\n        };\n        lineHeight = tickFont.lineHeight;\n        width = height = 0;\n\n        if (!isNullOrUndef(label) && !isArray(label)) {\n          width = _measureText(ctx, cache.data, cache.gc, width, label);\n          height = lineHeight;\n        } else if (isArray(label)) {\n          for (j = 0, jlen = label.length; j < jlen; ++j) {\n            nestedLabel = label[j];\n\n            if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n              width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n              height += lineHeight;\n            }\n          }\n        }\n\n        widths.push(width);\n        heights.push(height);\n        widestLabelSize = Math.max(width, widestLabelSize);\n        highestLabelSize = Math.max(height, highestLabelSize);\n      }\n\n      garbageCollect(caches, length);\n      var widest = widths.indexOf(widestLabelSize);\n      var highest = heights.indexOf(highestLabelSize);\n\n      var valueAt = function valueAt(idx) {\n        return {\n          width: widths[idx] || 0,\n          height: heights[idx] || 0\n        };\n      };\n\n      return {\n        first: valueAt(0),\n        last: valueAt(length - 1),\n        widest: valueAt(widest),\n        highest: valueAt(highest),\n        widths: widths,\n        heights: heights\n      };\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return value;\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value, index) {\n      return NaN;\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {}\n  }, {\n    key: \"getPixelForTick\",\n    value: function getPixelForTick(index) {\n      var ticks = this.ticks;\n\n      if (index < 0 || index > ticks.length - 1) {\n        return null;\n      }\n\n      return this.getPixelForValue(ticks[index].value);\n    }\n  }, {\n    key: \"getPixelForDecimal\",\n    value: function getPixelForDecimal(decimal) {\n      var me = this;\n\n      if (me._reversePixels) {\n        decimal = 1 - decimal;\n      }\n\n      var pixel = me._startPixel + decimal * me._length;\n      return _int16Range(me._alignToPixels ? _alignPixel(me.chart, pixel, 0) : pixel);\n    }\n  }, {\n    key: \"getDecimalForPixel\",\n    value: function getDecimalForPixel(pixel) {\n      var decimal = (pixel - this._startPixel) / this._length;\n      return this._reversePixels ? 1 - decimal : decimal;\n    }\n  }, {\n    key: \"getBasePixel\",\n    value: function getBasePixel() {\n      return this.getPixelForValue(this.getBaseValue());\n    }\n  }, {\n    key: \"getBaseValue\",\n    value: function getBaseValue() {\n      var min = this.min,\n          max = this.max;\n      return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(index) {\n      var me = this;\n      var ticks = me.ticks || [];\n\n      if (index >= 0 && index < ticks.length) {\n        var tick = ticks[index];\n        return tick.$context || (tick.$context = createTickContext(me.getContext(), index, tick));\n      }\n\n      return me.$context || (me.$context = createScaleContext(me.chart.getContext(), me));\n    }\n  }, {\n    key: \"_tickSize\",\n    value: function _tickSize() {\n      var me = this;\n      var optionTicks = me.options.ticks;\n      var rot = toRadians(me.labelRotation);\n      var cos = Math.abs(Math.cos(rot));\n      var sin = Math.abs(Math.sin(rot));\n\n      var labelSizes = me._getLabelSizes();\n\n      var padding = optionTicks.autoSkipPadding || 0;\n      var w = labelSizes ? labelSizes.widest.width + padding : 0;\n      var h = labelSizes ? labelSizes.highest.height + padding : 0;\n      return me.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n  }, {\n    key: \"_isVisible\",\n    value: function _isVisible() {\n      var display = this.options.display;\n\n      if (display !== 'auto') {\n        return !!display;\n      }\n\n      return this.getMatchingVisibleMetas().length > 0;\n    }\n  }, {\n    key: \"_computeGridLineItems\",\n    value: function _computeGridLineItems(chartArea) {\n      var me = this;\n      var axis = me.axis;\n      var chart = me.chart;\n      var options = me.options;\n      var grid = options.grid,\n          position = options.position;\n      var offset = grid.offset;\n      var isHorizontal = me.isHorizontal();\n      var ticks = me.ticks;\n      var ticksLength = ticks.length + (offset ? 1 : 0);\n      var tl = getTickMarkLength(grid);\n      var items = [];\n      var borderOpts = grid.setContext(me.getContext());\n      var axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n      var axisHalfWidth = axisWidth / 2;\n\n      var alignBorderValue = function alignBorderValue(pixel) {\n        return _alignPixel(chart, pixel, axisWidth);\n      };\n\n      var borderValue, i, lineValue, alignedLineValue;\n      var tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n      if (position === 'top') {\n        borderValue = alignBorderValue(me.bottom);\n        ty1 = me.bottom - tl;\n        ty2 = borderValue - axisHalfWidth;\n        y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n        y2 = chartArea.bottom;\n      } else if (position === 'bottom') {\n        borderValue = alignBorderValue(me.top);\n        y1 = chartArea.top;\n        y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n        ty1 = borderValue + axisHalfWidth;\n        ty2 = me.top + tl;\n      } else if (position === 'left') {\n        borderValue = alignBorderValue(me.right);\n        tx1 = me.right - tl;\n        tx2 = borderValue - axisHalfWidth;\n        x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n        x2 = chartArea.right;\n      } else if (position === 'right') {\n        borderValue = alignBorderValue(me.left);\n        x1 = chartArea.left;\n        x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n        tx1 = borderValue + axisHalfWidth;\n        tx2 = me.left + tl;\n      } else if (axis === 'x') {\n        if (position === 'center') {\n          borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n        } else if (isObject(position)) {\n          var positionAxisID = Object.keys(position)[0];\n          var value = position[positionAxisID];\n          borderValue = alignBorderValue(me.chart.scales[positionAxisID].getPixelForValue(value));\n        }\n\n        y1 = chartArea.top;\n        y2 = chartArea.bottom;\n        ty1 = borderValue + axisHalfWidth;\n        ty2 = ty1 + tl;\n      } else if (axis === 'y') {\n        if (position === 'center') {\n          borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n        } else if (isObject(position)) {\n          var _positionAxisID = Object.keys(position)[0];\n          var _value = position[_positionAxisID];\n          borderValue = alignBorderValue(me.chart.scales[_positionAxisID].getPixelForValue(_value));\n        }\n\n        tx1 = borderValue - axisHalfWidth;\n        tx2 = tx1 - tl;\n        x1 = chartArea.left;\n        x2 = chartArea.right;\n      }\n\n      for (i = 0; i < ticksLength; ++i) {\n        var optsAtIndex = grid.setContext(me.getContext(i));\n        var lineWidth = optsAtIndex.lineWidth;\n        var lineColor = optsAtIndex.color;\n        var borderDash = grid.borderDash || [];\n        var borderDashOffset = optsAtIndex.borderDashOffset;\n        var tickWidth = optsAtIndex.tickWidth;\n        var tickColor = optsAtIndex.tickColor;\n        var tickBorderDash = optsAtIndex.tickBorderDash || [];\n        var tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n        lineValue = getPixelForGridLine(me, i, offset);\n\n        if (lineValue === undefined) {\n          continue;\n        }\n\n        alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n        if (isHorizontal) {\n          tx1 = tx2 = x1 = x2 = alignedLineValue;\n        } else {\n          ty1 = ty2 = y1 = y2 = alignedLineValue;\n        }\n\n        items.push({\n          tx1: tx1,\n          ty1: ty1,\n          tx2: tx2,\n          ty2: ty2,\n          x1: x1,\n          y1: y1,\n          x2: x2,\n          y2: y2,\n          width: lineWidth,\n          color: lineColor,\n          borderDash: borderDash,\n          borderDashOffset: borderDashOffset,\n          tickWidth: tickWidth,\n          tickColor: tickColor,\n          tickBorderDash: tickBorderDash,\n          tickBorderDashOffset: tickBorderDashOffset\n        });\n      }\n\n      me._ticksLength = ticksLength;\n      me._borderValue = borderValue;\n      return items;\n    }\n  }, {\n    key: \"_computeLabelItems\",\n    value: function _computeLabelItems(chartArea) {\n      var me = this;\n      var axis = me.axis;\n      var options = me.options;\n      var position = options.position,\n          optionTicks = options.ticks;\n      var isHorizontal = me.isHorizontal();\n      var ticks = me.ticks;\n      var align = optionTicks.align,\n          crossAlign = optionTicks.crossAlign,\n          padding = optionTicks.padding,\n          mirror = optionTicks.mirror;\n      var tl = getTickMarkLength(options.grid);\n      var tickAndPadding = tl + padding;\n      var hTickAndPadding = mirror ? -padding : tickAndPadding;\n      var rotation = -toRadians(me.labelRotation);\n      var items = [];\n      var i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n      var textBaseline = 'middle';\n\n      if (position === 'top') {\n        y = me.bottom - hTickAndPadding;\n        textAlign = me._getXAxisLabelAlignment();\n      } else if (position === 'bottom') {\n        y = me.top + hTickAndPadding;\n        textAlign = me._getXAxisLabelAlignment();\n      } else if (position === 'left') {\n        var ret = me._getYAxisLabelAlignment(tl);\n\n        textAlign = ret.textAlign;\n        x = ret.x;\n      } else if (position === 'right') {\n        var _ret = me._getYAxisLabelAlignment(tl);\n\n        textAlign = _ret.textAlign;\n        x = _ret.x;\n      } else if (axis === 'x') {\n        if (position === 'center') {\n          y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n        } else if (isObject(position)) {\n          var positionAxisID = Object.keys(position)[0];\n          var value = position[positionAxisID];\n          y = me.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n        }\n\n        textAlign = me._getXAxisLabelAlignment();\n      } else if (axis === 'y') {\n        if (position === 'center') {\n          x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n        } else if (isObject(position)) {\n          var _positionAxisID2 = Object.keys(position)[0];\n          var _value2 = position[_positionAxisID2];\n          x = me.chart.scales[_positionAxisID2].getPixelForValue(_value2);\n        }\n\n        textAlign = me._getYAxisLabelAlignment(tl).textAlign;\n      }\n\n      if (axis === 'y') {\n        if (align === 'start') {\n          textBaseline = 'top';\n        } else if (align === 'end') {\n          textBaseline = 'bottom';\n        }\n      }\n\n      var labelSizes = me._getLabelSizes();\n\n      for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n        tick = ticks[i];\n        label = tick.label;\n        var optsAtIndex = optionTicks.setContext(me.getContext(i));\n        pixel = me.getPixelForTick(i) + optionTicks.labelOffset;\n        font = me._resolveTickFontOptions(i);\n        lineHeight = font.lineHeight;\n        lineCount = isArray(label) ? label.length : 1;\n        var halfCount = lineCount / 2;\n        var color = optsAtIndex.color;\n        var strokeColor = optsAtIndex.textStrokeColor;\n        var strokeWidth = optsAtIndex.textStrokeWidth;\n\n        if (isHorizontal) {\n          x = pixel;\n\n          if (position === 'top') {\n            if (crossAlign === 'near' || rotation !== 0) {\n              textOffset = -lineCount * lineHeight + lineHeight / 2;\n            } else if (crossAlign === 'center') {\n              textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n            } else {\n              textOffset = -labelSizes.highest.height + lineHeight / 2;\n            }\n          } else {\n            if (crossAlign === 'near' || rotation !== 0) {\n              textOffset = lineHeight / 2;\n            } else if (crossAlign === 'center') {\n              textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n            } else {\n              textOffset = labelSizes.highest.height - lineCount * lineHeight;\n            }\n          }\n\n          if (mirror) {\n            textOffset *= -1;\n          }\n        } else {\n          y = pixel;\n          textOffset = (1 - lineCount) * lineHeight / 2;\n        }\n\n        var backdrop = void 0;\n\n        if (optsAtIndex.showLabelBackdrop) {\n          var labelPadding = toPadding(optsAtIndex.backdropPadding);\n          var height = labelSizes.heights[i];\n          var width = labelSizes.widths[i];\n          var top = y + textOffset - labelPadding.top;\n          var left = x - labelPadding.left;\n\n          switch (textBaseline) {\n            case 'middle':\n              top -= height / 2;\n              break;\n\n            case 'bottom':\n              top -= height;\n              break;\n          }\n\n          switch (textAlign) {\n            case 'center':\n              left -= width / 2;\n              break;\n\n            case 'right':\n              left -= width;\n              break;\n          }\n\n          backdrop = {\n            left: left,\n            top: top,\n            width: width + labelPadding.width,\n            height: height + labelPadding.height,\n            color: optsAtIndex.backdropColor\n          };\n        }\n\n        items.push({\n          rotation: rotation,\n          label: label,\n          font: font,\n          color: color,\n          strokeColor: strokeColor,\n          strokeWidth: strokeWidth,\n          textOffset: textOffset,\n          textAlign: textAlign,\n          textBaseline: textBaseline,\n          translation: [x, y],\n          backdrop: backdrop\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: \"_getXAxisLabelAlignment\",\n    value: function _getXAxisLabelAlignment() {\n      var me = this;\n      var _me$options4 = me.options,\n          position = _me$options4.position,\n          ticks = _me$options4.ticks;\n      var rotation = -toRadians(me.labelRotation);\n\n      if (rotation) {\n        return position === 'top' ? 'left' : 'right';\n      }\n\n      var align = 'center';\n\n      if (ticks.align === 'start') {\n        align = 'left';\n      } else if (ticks.align === 'end') {\n        align = 'right';\n      }\n\n      return align;\n    }\n  }, {\n    key: \"_getYAxisLabelAlignment\",\n    value: function _getYAxisLabelAlignment(tl) {\n      var me = this;\n      var _me$options5 = me.options,\n          position = _me$options5.position,\n          _me$options5$ticks = _me$options5.ticks,\n          crossAlign = _me$options5$ticks.crossAlign,\n          mirror = _me$options5$ticks.mirror,\n          padding = _me$options5$ticks.padding;\n\n      var labelSizes = me._getLabelSizes();\n\n      var tickAndPadding = tl + padding;\n      var widest = labelSizes.widest.width;\n      var textAlign;\n      var x;\n\n      if (position === 'left') {\n        if (mirror) {\n          textAlign = 'left';\n          x = me.right + padding;\n        } else {\n          x = me.right - tickAndPadding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'right';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x -= widest / 2;\n          } else {\n            textAlign = 'left';\n            x = me.left;\n          }\n        }\n      } else if (position === 'right') {\n        if (mirror) {\n          textAlign = 'right';\n          x = me.left + padding;\n        } else {\n          x = me.left + tickAndPadding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'left';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x += widest / 2;\n          } else {\n            textAlign = 'right';\n            x = me.right;\n          }\n        }\n      } else {\n        textAlign = 'right';\n      }\n\n      return {\n        textAlign: textAlign,\n        x: x\n      };\n    }\n  }, {\n    key: \"_computeLabelArea\",\n    value: function _computeLabelArea() {\n      var me = this;\n\n      if (me.options.ticks.mirror) {\n        return;\n      }\n\n      var chart = me.chart;\n      var position = me.options.position;\n\n      if (position === 'left' || position === 'right') {\n        return {\n          top: 0,\n          left: me.left,\n          bottom: chart.height,\n          right: me.right\n        };\n      }\n\n      if (position === 'top' || position === 'bottom') {\n        return {\n          top: me.top,\n          left: 0,\n          bottom: me.bottom,\n          right: chart.width\n        };\n      }\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground() {\n      var ctx = this.ctx,\n          backgroundColor = this.options.backgroundColor,\n          left = this.left,\n          top = this.top,\n          width = this.width,\n          height = this.height;\n\n      if (backgroundColor) {\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        ctx.fillRect(left, top, width, height);\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"getLineWidthForValue\",\n    value: function getLineWidthForValue(value) {\n      var me = this;\n      var grid = me.options.grid;\n\n      if (!me._isVisible() || !grid.display) {\n        return 0;\n      }\n\n      var ticks = me.ticks;\n      var index = ticks.findIndex(function (t) {\n        return t.value === value;\n      });\n\n      if (index >= 0) {\n        var opts = grid.setContext(me.getContext(index));\n        return opts.lineWidth;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"drawGrid\",\n    value: function drawGrid(chartArea) {\n      var me = this;\n      var grid = me.options.grid;\n      var ctx = me.ctx;\n\n      var items = me._gridLineItems || (me._gridLineItems = me._computeGridLineItems(chartArea));\n\n      var i, ilen;\n\n      var drawLine = function drawLine(p1, p2, style) {\n        if (!style.width || !style.color) {\n          return;\n        }\n\n        ctx.save();\n        ctx.lineWidth = style.width;\n        ctx.strokeStyle = style.color;\n        ctx.setLineDash(style.borderDash || []);\n        ctx.lineDashOffset = style.borderDashOffset;\n        ctx.beginPath();\n        ctx.moveTo(p1.x, p1.y);\n        ctx.lineTo(p2.x, p2.y);\n        ctx.stroke();\n        ctx.restore();\n      };\n\n      if (grid.display) {\n        for (i = 0, ilen = items.length; i < ilen; ++i) {\n          var item = items[i];\n\n          if (grid.drawOnChartArea) {\n            drawLine({\n              x: item.x1,\n              y: item.y1\n            }, {\n              x: item.x2,\n              y: item.y2\n            }, item);\n          }\n\n          if (grid.drawTicks) {\n            drawLine({\n              x: item.tx1,\n              y: item.ty1\n            }, {\n              x: item.tx2,\n              y: item.ty2\n            }, {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"drawBorder\",\n    value: function drawBorder() {\n      var me = this;\n      var chart = me.chart,\n          ctx = me.ctx,\n          grid = me.options.grid;\n      var borderOpts = grid.setContext(me.getContext());\n      var axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n\n      if (!axisWidth) {\n        return;\n      }\n\n      var lastLineWidth = grid.setContext(me.getContext(0)).lineWidth;\n      var borderValue = me._borderValue;\n      var x1, x2, y1, y2;\n\n      if (me.isHorizontal()) {\n        x1 = _alignPixel(chart, me.left, axisWidth) - axisWidth / 2;\n        x2 = _alignPixel(chart, me.right, lastLineWidth) + lastLineWidth / 2;\n        y1 = y2 = borderValue;\n      } else {\n        y1 = _alignPixel(chart, me.top, axisWidth) - axisWidth / 2;\n        y2 = _alignPixel(chart, me.bottom, lastLineWidth) + lastLineWidth / 2;\n        x1 = x2 = borderValue;\n      }\n\n      ctx.save();\n      ctx.lineWidth = borderOpts.borderWidth;\n      ctx.strokeStyle = borderOpts.borderColor;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y2);\n      ctx.stroke();\n      ctx.restore();\n    }\n  }, {\n    key: \"drawLabels\",\n    value: function drawLabels(chartArea) {\n      var me = this;\n      var optionTicks = me.options.ticks;\n\n      if (!optionTicks.display) {\n        return;\n      }\n\n      var ctx = me.ctx;\n\n      var area = me._computeLabelArea();\n\n      if (area) {\n        clipArea(ctx, area);\n      }\n\n      var items = me._labelItems || (me._labelItems = me._computeLabelItems(chartArea));\n\n      var i, ilen;\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        var item = items[i];\n        var tickFont = item.font;\n        var label = item.label;\n\n        if (item.backdrop) {\n          ctx.fillStyle = item.backdrop.color;\n          ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n        }\n\n        var y = item.textOffset;\n        renderText(ctx, label, 0, y, tickFont, item);\n      }\n\n      if (area) {\n        unclipArea(ctx);\n      }\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {\n      var ctx = this.ctx,\n          _this$options2 = this.options,\n          position = _this$options2.position,\n          title = _this$options2.title,\n          reverse = _this$options2.reverse;\n\n      if (!title.display) {\n        return;\n      }\n\n      var font = toFont(title.font);\n      var padding = toPadding(title.padding);\n      var align = title.align;\n      var offset = font.lineHeight / 2;\n\n      if (position === 'bottom') {\n        offset += padding.bottom;\n\n        if (isArray(title.text)) {\n          offset += font.lineHeight * (title.text.length - 1);\n        }\n      } else {\n        offset += padding.top;\n      }\n\n      var _titleArgs = titleArgs(this, offset, position, align),\n          titleX = _titleArgs.titleX,\n          titleY = _titleArgs.titleY,\n          maxWidth = _titleArgs.maxWidth,\n          rotation = _titleArgs.rotation;\n\n      renderText(ctx, title.text, 0, 0, font, {\n        color: title.color,\n        maxWidth: maxWidth,\n        rotation: rotation,\n        textAlign: titleAlign(align, position, reverse),\n        textBaseline: 'middle',\n        translation: [titleX, titleY]\n      });\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(chartArea) {\n      var me = this;\n\n      if (!me._isVisible()) {\n        return;\n      }\n\n      me.drawBackground();\n      me.drawGrid(chartArea);\n      me.drawBorder();\n      me.drawTitle();\n      me.drawLabels(chartArea);\n    }\n  }, {\n    key: \"_layers\",\n    value: function _layers() {\n      var me = this;\n      var opts = me.options;\n      var tz = opts.ticks && opts.ticks.z || 0;\n      var gz = opts.grid && opts.grid.z || 0;\n\n      if (!me._isVisible() || me.draw !== Scale.prototype.draw) {\n        return [{\n          z: tz,\n          draw: function draw(chartArea) {\n            me.draw(chartArea);\n          }\n        }];\n      }\n\n      return [{\n        z: gz,\n        draw: function draw(chartArea) {\n          me.drawBackground();\n          me.drawGrid(chartArea);\n          me.drawTitle();\n        }\n      }, {\n        z: gz + 1,\n        draw: function draw() {\n          me.drawBorder();\n        }\n      }, {\n        z: tz,\n        draw: function draw(chartArea) {\n          me.drawLabels(chartArea);\n        }\n      }];\n    }\n  }, {\n    key: \"getMatchingVisibleMetas\",\n    value: function getMatchingVisibleMetas(type) {\n      var me = this;\n      var metas = me.chart.getSortedVisibleDatasetMetas();\n      var axisID = me.axis + 'AxisID';\n      var result = [];\n      var i, ilen;\n\n      for (i = 0, ilen = metas.length; i < ilen; ++i) {\n        var meta = metas[i];\n\n        if (meta[axisID] === me.id && (!type || meta.type === type)) {\n          result.push(meta);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_resolveTickFontOptions\",\n    value: function _resolveTickFontOptions(index) {\n      var opts = this.options.ticks.setContext(this.getContext(index));\n      return toFont(opts.font);\n    }\n  }, {\n    key: \"_maxDigits\",\n    value: function _maxDigits() {\n      var me = this;\n\n      var fontSize = me._resolveTickFontOptions(0).lineHeight;\n\n      return me.isHorizontal() ? me.width / fontSize / 0.7 : me.height / fontSize;\n    }\n  }]);\n\n  return Scale;\n}(Element);\n\nvar TypedRegistry = /*#__PURE__*/function () {\n  function TypedRegistry(type, scope, override) {\n    _classCallCheck(this, TypedRegistry);\n\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  _createClass(TypedRegistry, [{\n    key: \"isForType\",\n    value: function isForType(type) {\n      return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n  }, {\n    key: \"register\",\n    value: function register(item) {\n      var me = this;\n      var proto = Object.getPrototypeOf(item);\n      var parentScope;\n\n      if (isIChartComponent(proto)) {\n        parentScope = me.register(proto);\n      }\n\n      var items = me.items;\n      var id = item.id;\n      var scope = me.scope + '.' + id;\n\n      if (!id) {\n        throw new Error('class does not have id: ' + item);\n      }\n\n      if (id in items) {\n        return scope;\n      }\n\n      items[id] = item;\n      registerDefaults(item, scope, parentScope);\n\n      if (me.override) {\n        defaults.override(item.id, item.overrides);\n      }\n\n      return scope;\n    }\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      return this.items[id];\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(item) {\n      var items = this.items;\n      var id = item.id;\n      var scope = this.scope;\n\n      if (id in items) {\n        delete items[id];\n      }\n\n      if (scope && id in defaults[scope]) {\n        delete defaults[scope][id];\n\n        if (this.override) {\n          delete overrides[id];\n        }\n      }\n    }\n  }]);\n\n  return TypedRegistry;\n}();\n\nfunction registerDefaults(item, scope, parentScope) {\n  var itemDefaults = merge(Object.create(null), [parentScope ? defaults.get(parentScope) : {}, defaults.get(scope), item.defaults]);\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(function (property) {\n    var propertyParts = property.split('.');\n    var sourceName = propertyParts.pop();\n    var sourceScope = [scope].concat(propertyParts).join('.');\n    var parts = routes[property].split('.');\n    var targetName = parts.pop();\n    var targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nvar Registry = /*#__PURE__*/function () {\n  function Registry() {\n    _classCallCheck(this, Registry);\n\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  _createClass(Registry, [{\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this._each('register', args);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this._each('unregister', args);\n    }\n  }, {\n    key: \"addControllers\",\n    value: function addControllers() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this._each('register', args, this.controllers);\n    }\n  }, {\n    key: \"addElements\",\n    value: function addElements() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this._each('register', args, this.elements);\n    }\n  }, {\n    key: \"addPlugins\",\n    value: function addPlugins() {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this._each('register', args, this.plugins);\n    }\n  }, {\n    key: \"addScales\",\n    value: function addScales() {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      this._each('register', args, this.scales);\n    }\n  }, {\n    key: \"getController\",\n    value: function getController(id) {\n      return this._get(id, this.controllers, 'controller');\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(id) {\n      return this._get(id, this.elements, 'element');\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(id) {\n      return this._get(id, this.plugins, 'plugin');\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale(id) {\n      return this._get(id, this.scales, 'scale');\n    }\n  }, {\n    key: \"removeControllers\",\n    value: function removeControllers() {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      this._each('unregister', args, this.controllers);\n    }\n  }, {\n    key: \"removeElements\",\n    value: function removeElements() {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      this._each('unregister', args, this.elements);\n    }\n  }, {\n    key: \"removePlugins\",\n    value: function removePlugins() {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n\n      this._each('unregister', args, this.plugins);\n    }\n  }, {\n    key: \"removeScales\",\n    value: function removeScales() {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n\n      this._each('unregister', args, this.scales);\n    }\n  }, {\n    key: \"_each\",\n    value: function _each(method, args, typedRegistry) {\n      var me = this;\n\n      _toConsumableArray(args).forEach(function (arg) {\n        var reg = typedRegistry || me._getRegistryForType(arg);\n\n        if (typedRegistry || reg.isForType(arg) || reg === me.plugins && arg.id) {\n          me._exec(method, reg, arg);\n        } else {\n          each(arg, function (item) {\n            var itemReg = typedRegistry || me._getRegistryForType(item);\n\n            me._exec(method, itemReg, item);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_exec\",\n    value: function _exec(method, registry, component) {\n      var camelMethod = _capitalize(method);\n\n      callback(component['before' + camelMethod], [], component);\n      registry[method](component);\n      callback(component['after' + camelMethod], [], component);\n    }\n  }, {\n    key: \"_getRegistryForType\",\n    value: function _getRegistryForType(type) {\n      for (var i = 0; i < this._typedRegistries.length; i++) {\n        var reg = this._typedRegistries[i];\n\n        if (reg.isForType(type)) {\n          return reg;\n        }\n      }\n\n      return this.plugins;\n    }\n  }, {\n    key: \"_get\",\n    value: function _get(id, typedRegistry, type) {\n      var item = typedRegistry.get(id);\n\n      if (item === undefined) {\n        throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n      }\n\n      return item;\n    }\n  }]);\n\n  return Registry;\n}();\n\nvar registry = new Registry();\n\nvar PluginService = /*#__PURE__*/function () {\n  function PluginService() {\n    _classCallCheck(this, PluginService);\n\n    this._init = [];\n  }\n\n  _createClass(PluginService, [{\n    key: \"notify\",\n    value: function notify(chart, hook, args, filter) {\n      var me = this;\n\n      if (hook === 'beforeInit') {\n        me._init = me._createDescriptors(chart, true);\n\n        me._notify(me._init, chart, 'install');\n      }\n\n      var descriptors = filter ? me._descriptors(chart).filter(filter) : me._descriptors(chart);\n\n      var result = me._notify(descriptors, chart, hook, args);\n\n      if (hook === 'destroy') {\n        me._notify(descriptors, chart, 'stop');\n\n        me._notify(me._init, chart, 'uninstall');\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify(descriptors, chart, hook, args) {\n      args = args || {};\n\n      var _iterator4 = _createForOfIteratorHelper(descriptors),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var descriptor = _step4.value;\n          var plugin = descriptor.plugin;\n          var method = plugin[hook];\n          var params = [chart, args, descriptor.options];\n\n          if (callback(method, params, plugin) === false && args.cancelable) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate() {\n      if (!isNullOrUndef(this._cache)) {\n        this._oldCache = this._cache;\n        this._cache = undefined;\n      }\n    }\n  }, {\n    key: \"_descriptors\",\n    value: function _descriptors(chart) {\n      if (this._cache) {\n        return this._cache;\n      }\n\n      var descriptors = this._cache = this._createDescriptors(chart);\n\n      this._notifyStateChanges(chart);\n\n      return descriptors;\n    }\n  }, {\n    key: \"_createDescriptors\",\n    value: function _createDescriptors(chart, all) {\n      var config = chart && chart.config;\n      var options = valueOrDefault(config.options && config.options.plugins, {});\n      var plugins = allPlugins(config);\n      return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n  }, {\n    key: \"_notifyStateChanges\",\n    value: function _notifyStateChanges(chart) {\n      var previousDescriptors = this._oldCache || [];\n      var descriptors = this._cache;\n\n      var diff = function diff(a, b) {\n        return a.filter(function (x) {\n          return !b.some(function (y) {\n            return x.plugin.id === y.plugin.id;\n          });\n        });\n      };\n\n      this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n\n      this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n  }]);\n\n  return PluginService;\n}();\n\nfunction allPlugins(config) {\n  var plugins = [];\n  var keys = Object.keys(registry.plugins.items);\n\n  for (var i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  var local = config.plugins || [];\n\n  for (var _i = 0; _i < local.length; _i++) {\n    var plugin = local[_i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n\n  return plugins;\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n\n  if (options === true) {\n    return {};\n  }\n\n  return options;\n}\n\nfunction createDescriptors(chart, plugins, options, all) {\n  var result = [];\n  var context = chart.getContext();\n\n  for (var i = 0; i < plugins.length; i++) {\n    var plugin = plugins[i];\n    var id = plugin.id;\n    var opts = getOpts(options[id], all);\n\n    if (opts === null) {\n      continue;\n    }\n\n    result.push({\n      plugin: plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, plugin, opts, context) {\n  var keys = config.pluginScopeKeys(plugin);\n  var scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n\nfunction getIndexAxis(type, options) {\n  var datasetDefaults = defaults.datasets[type] || {};\n  var datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  var axis = id;\n\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\n\nfunction mergeScaleConfig(config, options) {\n  var chartDefaults = overrides[config.type] || {\n    scales: {}\n  };\n  var configScales = options.scales || {};\n  var chartIndexAxis = getIndexAxis(config.type, options);\n  var firstIDs = Object.create(null);\n  var scales = Object.create(null);\n  Object.keys(configScales).forEach(function (id) {\n    var scaleConf = configScales[id];\n    var axis = determineAxis(id, scaleConf);\n    var defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    var defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{\n      axis: axis\n    }, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(function (dataset) {\n    var type = dataset.type || config.type;\n    var indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    var datasetDefaults = overrides[type] || {};\n    var defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(function (defaultID) {\n      var axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      var id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{\n        axis: axis\n      }, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(function (key) {\n    var scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\n\nfunction initOptions(config) {\n  var options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\n\nvar keyCache = new Map();\nvar keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  var keys = keyCache.get(cacheKey);\n\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n\n  return keys;\n}\n\nvar addIfFound = function addIfFound(set, obj, key) {\n  var opts = resolveObjectKey(obj, key);\n\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nvar Config = /*#__PURE__*/function () {\n  function Config(config) {\n    _classCallCheck(this, Config);\n\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  _createClass(Config, [{\n    key: \"type\",\n    get: function get() {\n      return this._config.type;\n    },\n    set: function set(type) {\n      this._config.type = type;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this._config.data;\n    },\n    set: function set(data) {\n      this._config.data = initData(data);\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._config.options;\n    },\n    set: function set(options) {\n      this._config.options = options;\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return this._config.plugins;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var config = this._config;\n      this.clearCache();\n      initOptions(config);\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      this._scopeCache.clear();\n\n      this._resolverCache.clear();\n    }\n  }, {\n    key: \"datasetScopeKeys\",\n    value: function datasetScopeKeys(datasetType) {\n      return cachedKeys(datasetType, function () {\n        return [[\"datasets.\".concat(datasetType), '']];\n      });\n    }\n  }, {\n    key: \"datasetAnimationScopeKeys\",\n    value: function datasetAnimationScopeKeys(datasetType, transition) {\n      return cachedKeys(\"\".concat(datasetType, \".transition.\").concat(transition), function () {\n        return [[\"datasets.\".concat(datasetType, \".transitions.\").concat(transition), \"transitions.\".concat(transition)], [\"datasets.\".concat(datasetType), '']];\n      });\n    }\n  }, {\n    key: \"datasetElementScopeKeys\",\n    value: function datasetElementScopeKeys(datasetType, elementType) {\n      return cachedKeys(\"\".concat(datasetType, \"-\").concat(elementType), function () {\n        return [[\"datasets.\".concat(datasetType, \".elements.\").concat(elementType), \"datasets.\".concat(datasetType), \"elements.\".concat(elementType), '']];\n      });\n    }\n  }, {\n    key: \"pluginScopeKeys\",\n    value: function pluginScopeKeys(plugin) {\n      var id = plugin.id;\n      var type = this.type;\n      return cachedKeys(\"\".concat(type, \"-plugin-\").concat(id), function () {\n        return [[\"plugins.\".concat(id)].concat(_toConsumableArray(plugin.additionalOptionScopes || []))];\n      });\n    }\n  }, {\n    key: \"_cachedScopes\",\n    value: function _cachedScopes(mainScope, resetCache) {\n      var _scopeCache = this._scopeCache;\n\n      var cache = _scopeCache.get(mainScope);\n\n      if (!cache || resetCache) {\n        cache = new Map();\n\n        _scopeCache.set(mainScope, cache);\n      }\n\n      return cache;\n    }\n  }, {\n    key: \"getOptionScopes\",\n    value: function getOptionScopes(mainScope, keyLists, resetCache) {\n      var options = this.options,\n          type = this.type;\n\n      var cache = this._cachedScopes(mainScope, resetCache);\n\n      var cached = cache.get(keyLists);\n\n      if (cached) {\n        return cached;\n      }\n\n      var scopes = new Set();\n      keyLists.forEach(function (keys) {\n        if (mainScope) {\n          scopes.add(mainScope);\n          keys.forEach(function (key) {\n            return addIfFound(scopes, mainScope, key);\n          });\n        }\n\n        keys.forEach(function (key) {\n          return addIfFound(scopes, options, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, overrides[type] || {}, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, defaults, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, descriptors, key);\n        });\n      });\n\n      var array = _toConsumableArray(scopes);\n\n      if (keysCached.has(keyLists)) {\n        cache.set(keyLists, array);\n      }\n\n      return array;\n    }\n  }, {\n    key: \"chartOptionScopes\",\n    value: function chartOptionScopes() {\n      var options = this.options,\n          type = this.type;\n      return [options, overrides[type] || {}, defaults.datasets[type] || {}, {\n        type: type\n      }, defaults, descriptors];\n    }\n  }, {\n    key: \"resolveNamedOptions\",\n    value: function resolveNamedOptions(scopes, names, context) {\n      var prefixes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [''];\n      var result = {\n        $shared: true\n      };\n\n      var _getResolver = getResolver(this._resolverCache, scopes, prefixes),\n          resolver = _getResolver.resolver,\n          subPrefixes = _getResolver.subPrefixes;\n\n      var options = resolver;\n\n      if (needContext(resolver, names)) {\n        result.$shared = false;\n        context = isFunction(context) ? context() : context;\n        var subResolver = this.createResolver(scopes, context, subPrefixes);\n        options = _attachContext(resolver, context, subResolver);\n      }\n\n      var _iterator5 = _createForOfIteratorHelper(names),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var prop = _step5.value;\n          result[prop] = options[prop];\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      return result;\n    }\n  }, {\n    key: \"createResolver\",\n    value: function createResolver(scopes, context) {\n      var prefixes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [''];\n      var descriptorDefaults = arguments.length > 3 ? arguments[3] : undefined;\n\n      var _getResolver2 = getResolver(this._resolverCache, scopes, prefixes),\n          resolver = _getResolver2.resolver;\n\n      return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n  }]);\n\n  return Config;\n}();\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  var cache = resolverCache.get(scopes);\n\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n\n  var cacheKey = prefixes.join();\n  var cached = cache.get(cacheKey);\n\n  if (!cached) {\n    var resolver = _createResolver(scopes, prefixes);\n\n    cached = {\n      resolver: resolver,\n      subPrefixes: prefixes.filter(function (p) {\n        return !p.toLowerCase().includes('hover');\n      })\n    };\n    cache.set(cacheKey, cached);\n  }\n\n  return cached;\n}\n\nfunction needContext(proxy, names) {\n  var _descriptors2 = _descriptors(proxy),\n      isScriptable = _descriptors2.isScriptable,\n      isIndexable = _descriptors2.isIndexable;\n\n  var _iterator6 = _createForOfIteratorHelper(names),\n      _step6;\n\n  try {\n    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n      var prop = _step6.value;\n\n      if (isScriptable(prop) && isFunction(proxy[prop]) || isIndexable(prop) && isArray(proxy[prop])) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator6.e(err);\n  } finally {\n    _iterator6.f();\n  }\n\n  return false;\n}\n\nvar version = \"3.2.1\";\nvar KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\n\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\n\nfunction compare2Level(l1, l2) {\n  return function (a, b) {\n    return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  var chart = context.chart;\n  var animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  var chart = context.chart;\n  var animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\nfunction isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\nfunction getCanvas(item) {\n  if (isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n\n  return item;\n}\n\nvar instances = {};\n\nvar getChart = function getChart(key) {\n  var canvas = getCanvas(key);\n  return Object.values(instances).filter(function (c) {\n    return c.canvas === canvas;\n  }).pop();\n};\n\nvar Chart = /*#__PURE__*/function () {\n  function Chart(item, config) {\n    var _this5 = this;\n\n    _classCallCheck(this, Chart);\n\n    var me = this;\n    this.config = config = new Config(config);\n    var initialCanvas = getCanvas(item);\n    var existingChart = getChart(initialCanvas);\n\n    if (existingChart) {\n      throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas can be reused.');\n    }\n\n    var options = config.createResolver(config.chartOptionScopes(), me.getContext());\n    this.platform = me._initializePlatform(initialCanvas, config);\n    var context = me.platform.acquireContext(initialCanvas, options.aspectRatio);\n    var canvas = context && context.canvas;\n    var height = canvas && canvas.height;\n    var width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._sortedMetasets = [];\n    this.scales = {};\n    this.scale = undefined;\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(function () {\n      return _this5.update('resize');\n    }, options.resizeDelay || 0);\n    instances[me.id] = me;\n\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(me, 'complete', onAnimationsComplete);\n    animator.listen(me, 'progress', onAnimationProgress);\n\n    me._initialize();\n\n    if (me.attached) {\n      me.update();\n    }\n  }\n\n  _createClass(Chart, [{\n    key: \"aspectRatio\",\n    get: function get() {\n      var _this$options3 = this.options,\n          aspectRatio = _this$options3.aspectRatio,\n          maintainAspectRatio = _this$options3.maintainAspectRatio,\n          width = this.width,\n          height = this.height,\n          _aspectRatio = this._aspectRatio;\n\n      if (!isNullOrUndef(aspectRatio)) {\n        return aspectRatio;\n      }\n\n      if (maintainAspectRatio && _aspectRatio) {\n        return _aspectRatio;\n      }\n\n      return height ? width / height : null;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this.config.data;\n    },\n    set: function set(data) {\n      this.config.data = data;\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._options;\n    },\n    set: function set(options) {\n      this.config.options = options;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      var me = this;\n      me.notifyPlugins('beforeInit');\n\n      if (me.options.responsive) {\n        me.resize();\n      } else {\n        retinaScale(me, me.options.devicePixelRatio);\n      }\n\n      me.bindEvents();\n      me.notifyPlugins('afterInit');\n      return me;\n    }\n  }, {\n    key: \"_initializePlatform\",\n    value: function _initializePlatform(canvas, config) {\n      if (config.platform) {\n        return new config.platform();\n      } else if (!isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return new BasicPlatform();\n      }\n\n      return new DomPlatform();\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      clearCanvas(this.canvas, this.ctx);\n      return this;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      animator.stop(this);\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(width, height) {\n      if (!animator.running(this)) {\n        this._resize(width, height);\n      } else {\n        this._resizeBeforeDraw = {\n          width: width,\n          height: height\n        };\n      }\n    }\n  }, {\n    key: \"_resize\",\n    value: function _resize(width, height) {\n      var me = this;\n      var options = me.options;\n      var canvas = me.canvas;\n      var aspectRatio = options.maintainAspectRatio && me.aspectRatio;\n      var newSize = me.platform.getMaximumSize(canvas, width, height, aspectRatio);\n      var oldRatio = me.currentDevicePixelRatio;\n      var newRatio = options.devicePixelRatio || me.platform.getDevicePixelRatio();\n\n      if (me.width === newSize.width && me.height === newSize.height && oldRatio === newRatio) {\n        return;\n      }\n\n      me.width = newSize.width;\n      me.height = newSize.height;\n      me._aspectRatio = me.aspectRatio;\n      retinaScale(me, newRatio, true);\n      me.notifyPlugins('resize', {\n        size: newSize\n      });\n      callback(options.onResize, [me, newSize], me);\n\n      if (me.attached) {\n        if (me._doResize()) {\n          me.render();\n        }\n      }\n    }\n  }, {\n    key: \"ensureScalesHaveIDs\",\n    value: function ensureScalesHaveIDs() {\n      var options = this.options;\n      var scalesOptions = options.scales || {};\n      each(scalesOptions, function (axisOptions, axisID) {\n        axisOptions.id = axisID;\n      });\n    }\n  }, {\n    key: \"buildOrUpdateScales\",\n    value: function buildOrUpdateScales() {\n      var me = this;\n      var options = me.options;\n      var scaleOpts = options.scales;\n      var scales = me.scales;\n      var updated = Object.keys(scales).reduce(function (obj, id) {\n        obj[id] = false;\n        return obj;\n      }, {});\n      var items = [];\n\n      if (scaleOpts) {\n        items = items.concat(Object.keys(scaleOpts).map(function (id) {\n          var scaleOptions = scaleOpts[id];\n          var axis = determineAxis(id, scaleOptions);\n          var isRadial = axis === 'r';\n          var isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        }));\n      }\n\n      each(items, function (item) {\n        var scaleOptions = item.options;\n        var id = scaleOptions.id;\n        var axis = determineAxis(id, scaleOptions);\n        var scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n        if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n          scaleOptions.position = item.dposition;\n        }\n\n        updated[id] = true;\n        var scale = null;\n\n        if (id in scales && scales[id].type === scaleType) {\n          scale = scales[id];\n        } else {\n          var scaleClass = registry.getScale(scaleType);\n          scale = new scaleClass({\n            id: id,\n            type: scaleType,\n            ctx: me.ctx,\n            chart: me\n          });\n          scales[scale.id] = scale;\n        }\n\n        scale.init(scaleOptions, options);\n      });\n      each(updated, function (hasUpdated, id) {\n        if (!hasUpdated) {\n          delete scales[id];\n        }\n      });\n      each(scales, function (scale) {\n        layouts.configure(me, scale, scale.options);\n        layouts.addBox(me, scale);\n      });\n    }\n  }, {\n    key: \"_updateMetasetIndex\",\n    value: function _updateMetasetIndex(meta, index) {\n      var metasets = this._metasets;\n      var oldIndex = meta.index;\n\n      if (oldIndex !== index) {\n        metasets[oldIndex] = metasets[index];\n        metasets[index] = meta;\n        meta.index = index;\n      }\n    }\n  }, {\n    key: \"_updateMetasets\",\n    value: function _updateMetasets() {\n      var me = this;\n      var metasets = me._metasets;\n      var numData = me.data.datasets.length;\n      var numMeta = metasets.length;\n\n      if (numMeta > numData) {\n        for (var i = numData; i < numMeta; ++i) {\n          me._destroyDatasetMeta(i);\n        }\n\n        metasets.splice(numData, numMeta - numData);\n      }\n\n      me._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n  }, {\n    key: \"_removeUnreferencedMetasets\",\n    value: function _removeUnreferencedMetasets() {\n      var me = this;\n      var metasets = me._metasets,\n          datasets = me.data.datasets;\n\n      if (metasets.length > datasets.length) {\n        delete me._stacks;\n      }\n\n      metasets.forEach(function (meta, index) {\n        if (datasets.filter(function (x) {\n          return x === meta._dataset;\n        }).length === 0) {\n          me._destroyDatasetMeta(index);\n        }\n      });\n    }\n  }, {\n    key: \"buildOrUpdateControllers\",\n    value: function buildOrUpdateControllers() {\n      var me = this;\n      var newControllers = [];\n      var datasets = me.data.datasets;\n      var i, ilen;\n\n      me._removeUnreferencedMetasets();\n\n      for (i = 0, ilen = datasets.length; i < ilen; i++) {\n        var dataset = datasets[i];\n        var meta = me.getDatasetMeta(i);\n        var type = dataset.type || me.config.type;\n\n        if (meta.type && meta.type !== type) {\n          me._destroyDatasetMeta(i);\n\n          meta = me.getDatasetMeta(i);\n        }\n\n        meta.type = type;\n        meta.indexAxis = dataset.indexAxis || getIndexAxis(type, me.options);\n        meta.order = dataset.order || 0;\n\n        me._updateMetasetIndex(meta, i);\n\n        meta.label = '' + dataset.label;\n        meta.visible = me.isDatasetVisible(i);\n\n        if (meta.controller) {\n          meta.controller.updateIndex(i);\n          meta.controller.linkScales();\n        } else {\n          var ControllerClass = registry.getController(type);\n          var _defaults$datasets$ty = defaults.datasets[type],\n              datasetElementType = _defaults$datasets$ty.datasetElementType,\n              dataElementType = _defaults$datasets$ty.dataElementType;\n          Object.assign(ControllerClass.prototype, {\n            dataElementType: registry.getElement(dataElementType),\n            datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n          });\n          meta.controller = new ControllerClass(me, i);\n          newControllers.push(meta.controller);\n        }\n      }\n\n      me._updateMetasets();\n\n      return newControllers;\n    }\n  }, {\n    key: \"_resetElements\",\n    value: function _resetElements() {\n      var me = this;\n      each(me.data.datasets, function (dataset, datasetIndex) {\n        me.getDatasetMeta(datasetIndex).controller.reset();\n      }, me);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._resetElements();\n\n      this.notifyPlugins('reset');\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var me = this;\n      var config = me.config;\n      config.update();\n      me._options = config.createResolver(config.chartOptionScopes(), me.getContext());\n      each(me.scales, function (scale) {\n        layouts.removeBox(me, scale);\n      });\n      var animsDisabled = me._animationsDisabled = !me.options.animation;\n      me.ensureScalesHaveIDs();\n      me.buildOrUpdateScales();\n      var existingEvents = new Set(Object.keys(me._listeners));\n      var newEvents = new Set(me.options.events);\n\n      if (!setsEqual(existingEvents, newEvents)) {\n        me.unbindEvents();\n        me.bindEvents();\n      }\n\n      me._plugins.invalidate();\n\n      if (me.notifyPlugins('beforeUpdate', {\n        mode: mode,\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var newControllers = me.buildOrUpdateControllers();\n      me.notifyPlugins('beforeElementsUpdate');\n      var minPadding = 0;\n\n      for (var i = 0, ilen = me.data.datasets.length; i < ilen; i++) {\n        var _me$getDatasetMeta = me.getDatasetMeta(i),\n            controller = _me$getDatasetMeta.controller;\n\n        var reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n        controller.buildOrUpdateElements(reset);\n        minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n      }\n\n      me._minPadding = minPadding;\n\n      me._updateLayout(minPadding);\n\n      if (!animsDisabled) {\n        each(newControllers, function (controller) {\n          controller.reset();\n        });\n      }\n\n      me._updateDatasets(mode);\n\n      me.notifyPlugins('afterUpdate', {\n        mode: mode\n      });\n\n      me._layers.sort(compare2Level('z', '_idx'));\n\n      if (me._lastEvent) {\n        me._eventHandler(me._lastEvent, true);\n      }\n\n      me.render();\n    }\n  }, {\n    key: \"_updateLayout\",\n    value: function _updateLayout(minPadding) {\n      var me = this;\n\n      if (me.notifyPlugins('beforeLayout', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      layouts.update(me, me.width, me.height, minPadding);\n      var area = me.chartArea;\n      var noArea = area.width <= 0 || area.height <= 0;\n      me._layers = [];\n      each(me.boxes, function (box) {\n        var _me$_layers;\n\n        if (noArea && box.position === 'chartArea') {\n          return;\n        }\n\n        if (box.configure) {\n          box.configure();\n        }\n\n        (_me$_layers = me._layers).push.apply(_me$_layers, _toConsumableArray(box._layers()));\n      }, me);\n\n      me._layers.forEach(function (item, index) {\n        item._idx = index;\n      });\n\n      me.notifyPlugins('afterLayout');\n    }\n  }, {\n    key: \"_updateDatasets\",\n    value: function _updateDatasets(mode) {\n      var me = this;\n      var isFunction = typeof mode === 'function';\n\n      if (me.notifyPlugins('beforeDatasetsUpdate', {\n        mode: mode,\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      for (var i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n        me._updateDataset(i, isFunction ? mode({\n          datasetIndex: i\n        }) : mode);\n      }\n\n      me.notifyPlugins('afterDatasetsUpdate', {\n        mode: mode\n      });\n    }\n  }, {\n    key: \"_updateDataset\",\n    value: function _updateDataset(index, mode) {\n      var me = this;\n      var meta = me.getDatasetMeta(index);\n      var args = {\n        meta: meta,\n        index: index,\n        mode: mode,\n        cancelable: true\n      };\n\n      if (me.notifyPlugins('beforeDatasetUpdate', args) === false) {\n        return;\n      }\n\n      meta.controller._update(mode);\n\n      args.cancelable = false;\n      me.notifyPlugins('afterDatasetUpdate', args);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var me = this;\n\n      if (me.notifyPlugins('beforeRender', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      if (animator.has(me)) {\n        if (me.attached && !animator.running(me)) {\n          animator.start(me);\n        }\n      } else {\n        me.draw();\n        onAnimationsComplete({\n          chart: me\n        });\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n      var i;\n\n      if (me._resizeBeforeDraw) {\n        var _me$_resizeBeforeDraw = me._resizeBeforeDraw,\n            width = _me$_resizeBeforeDraw.width,\n            height = _me$_resizeBeforeDraw.height;\n\n        me._resize(width, height);\n\n        me._resizeBeforeDraw = null;\n      }\n\n      me.clear();\n\n      if (me.width <= 0 || me.height <= 0) {\n        return;\n      }\n\n      if (me.notifyPlugins('beforeDraw', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var layers = me._layers;\n\n      for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n        layers[i].draw(me.chartArea);\n      }\n\n      me._drawDatasets();\n\n      for (; i < layers.length; ++i) {\n        layers[i].draw(me.chartArea);\n      }\n\n      me.notifyPlugins('afterDraw');\n    }\n  }, {\n    key: \"_getSortedDatasetMetas\",\n    value: function _getSortedDatasetMetas(filterVisible) {\n      var me = this;\n      var metasets = me._sortedMetasets;\n      var result = [];\n      var i, ilen;\n\n      for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n        var meta = metasets[i];\n\n        if (!filterVisible || meta.visible) {\n          result.push(meta);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getSortedVisibleDatasetMetas\",\n    value: function getSortedVisibleDatasetMetas() {\n      return this._getSortedDatasetMetas(true);\n    }\n  }, {\n    key: \"_drawDatasets\",\n    value: function _drawDatasets() {\n      var me = this;\n\n      if (me.notifyPlugins('beforeDatasetsDraw', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var metasets = me.getSortedVisibleDatasetMetas();\n\n      for (var i = metasets.length - 1; i >= 0; --i) {\n        me._drawDataset(metasets[i]);\n      }\n\n      me.notifyPlugins('afterDatasetsDraw');\n    }\n  }, {\n    key: \"_drawDataset\",\n    value: function _drawDataset(meta) {\n      var me = this;\n      var ctx = me.ctx;\n      var clip = meta._clip;\n      var area = me.chartArea;\n      var args = {\n        meta: meta,\n        index: meta.index,\n        cancelable: true\n      };\n\n      if (me.notifyPlugins('beforeDatasetDraw', args) === false) {\n        return;\n      }\n\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? me.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? me.height : area.bottom + clip.bottom\n      });\n      meta.controller.draw();\n      unclipArea(ctx);\n      args.cancelable = false;\n      me.notifyPlugins('afterDatasetDraw', args);\n    }\n  }, {\n    key: \"getElementsAtEventForMode\",\n    value: function getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n      var method = Interaction.modes[mode];\n\n      if (typeof method === 'function') {\n        return method(this, e, options, useFinalPosition);\n      }\n\n      return [];\n    }\n  }, {\n    key: \"getDatasetMeta\",\n    value: function getDatasetMeta(datasetIndex) {\n      var me = this;\n      var dataset = me.data.datasets[datasetIndex];\n      var metasets = me._metasets;\n      var meta = metasets.filter(function (x) {\n        return x && x._dataset === dataset;\n      }).pop();\n\n      if (!meta) {\n        meta = metasets[datasetIndex] = {\n          type: null,\n          data: [],\n          dataset: null,\n          controller: null,\n          hidden: null,\n          xAxisID: null,\n          yAxisID: null,\n          order: dataset && dataset.order || 0,\n          index: datasetIndex,\n          _dataset: dataset,\n          _parsed: [],\n          _sorted: false\n        };\n      }\n\n      return meta;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      return this.$context || (this.$context = {\n        chart: this,\n        type: 'chart'\n      });\n    }\n  }, {\n    key: \"getVisibleDatasetCount\",\n    value: function getVisibleDatasetCount() {\n      return this.getSortedVisibleDatasetMetas().length;\n    }\n  }, {\n    key: \"isDatasetVisible\",\n    value: function isDatasetVisible(datasetIndex) {\n      var dataset = this.data.datasets[datasetIndex];\n\n      if (!dataset) {\n        return false;\n      }\n\n      var meta = this.getDatasetMeta(datasetIndex);\n      return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n  }, {\n    key: \"setDatasetVisibility\",\n    value: function setDatasetVisibility(datasetIndex, visible) {\n      var meta = this.getDatasetMeta(datasetIndex);\n      meta.hidden = !visible;\n    }\n  }, {\n    key: \"toggleDataVisibility\",\n    value: function toggleDataVisibility(index) {\n      this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n  }, {\n    key: \"getDataVisibility\",\n    value: function getDataVisibility(index) {\n      return !this._hiddenIndices[index];\n    }\n  }, {\n    key: \"_updateDatasetVisibility\",\n    value: function _updateDatasetVisibility(datasetIndex, visible) {\n      var me = this;\n      var mode = visible ? 'show' : 'hide';\n      var meta = me.getDatasetMeta(datasetIndex);\n\n      var anims = meta.controller._resolveAnimations(undefined, mode);\n\n      me.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {\n        visible: visible\n      });\n      me.update(function (ctx) {\n        return ctx.datasetIndex === datasetIndex ? mode : undefined;\n      });\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(datasetIndex) {\n      this._updateDatasetVisibility(datasetIndex, false);\n    }\n  }, {\n    key: \"show\",\n    value: function show(datasetIndex) {\n      this._updateDatasetVisibility(datasetIndex, true);\n    }\n  }, {\n    key: \"_destroyDatasetMeta\",\n    value: function _destroyDatasetMeta(datasetIndex) {\n      var me = this;\n      var meta = me._metasets && me._metasets[datasetIndex];\n\n      if (meta && meta.controller) {\n        meta.controller._destroy();\n\n        delete me._metasets[datasetIndex];\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var me = this;\n      var canvas = me.canvas,\n          ctx = me.ctx;\n      var i, ilen;\n      me.stop();\n      animator.remove(me);\n\n      for (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n        me._destroyDatasetMeta(i);\n      }\n\n      me.config.clearCache();\n\n      if (canvas) {\n        me.unbindEvents();\n        clearCanvas(canvas, ctx);\n        me.platform.releaseContext(ctx);\n        me.canvas = null;\n        me.ctx = null;\n      }\n\n      me.notifyPlugins('destroy');\n      delete instances[me.id];\n    }\n  }, {\n    key: \"toBase64Image\",\n    value: function toBase64Image() {\n      var _this$canvas;\n\n      return (_this$canvas = this.canvas).toDataURL.apply(_this$canvas, arguments);\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var me = this;\n      var listeners = me._listeners;\n      var platform = me.platform;\n\n      var _add = function _add(type, listener) {\n        platform.addEventListener(me, type, listener);\n        listeners[type] = listener;\n      };\n\n      var _remove = function _remove(type, listener) {\n        if (listeners[type]) {\n          platform.removeEventListener(me, type, listener);\n          delete listeners[type];\n        }\n      };\n\n      var listener = function listener(e, x, y) {\n        e.offsetX = x;\n        e.offsetY = y;\n\n        me._eventHandler(e);\n      };\n\n      each(me.options.events, function (type) {\n        return _add(type, listener);\n      });\n\n      if (me.options.responsive) {\n        listener = function listener(width, height) {\n          if (me.canvas) {\n            me.resize(width, height);\n          }\n        };\n\n        var detached;\n\n        var attached = function attached() {\n          _remove('attach', attached);\n\n          me.attached = true;\n          me.resize();\n\n          _add('resize', listener);\n\n          _add('detach', detached);\n        };\n\n        detached = function detached() {\n          me.attached = false;\n\n          _remove('resize', listener);\n\n          _add('attach', attached);\n        };\n\n        if (platform.isAttached(me.canvas)) {\n          attached();\n        } else {\n          detached();\n        }\n      } else {\n        me.attached = true;\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      var me = this;\n      var listeners = me._listeners;\n\n      if (!listeners) {\n        return;\n      }\n\n      me._listeners = {};\n      each(listeners, function (listener, type) {\n        me.platform.removeEventListener(me, type, listener);\n      });\n    }\n  }, {\n    key: \"updateHoverStyle\",\n    value: function updateHoverStyle(items, mode, enabled) {\n      var prefix = enabled ? 'set' : 'remove';\n      var meta, item, i, ilen;\n\n      if (mode === 'dataset') {\n        meta = this.getDatasetMeta(items[0].datasetIndex);\n        meta.controller['_' + prefix + 'DatasetHoverStyle']();\n      }\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        item = items[i];\n        var controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n\n        if (controller) {\n          controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n        }\n      }\n    }\n  }, {\n    key: \"getActiveElements\",\n    value: function getActiveElements() {\n      return this._active || [];\n    }\n  }, {\n    key: \"setActiveElements\",\n    value: function setActiveElements(activeElements) {\n      var me = this;\n      var lastActive = me._active || [];\n      var active = activeElements.map(function (_ref) {\n        var datasetIndex = _ref.datasetIndex,\n            index = _ref.index;\n        var meta = me.getDatasetMeta(datasetIndex);\n\n        if (!meta) {\n          throw new Error('No dataset found at index ' + datasetIndex);\n        }\n\n        return {\n          datasetIndex: datasetIndex,\n          element: meta.data[index],\n          index: index\n        };\n      });\n      var changed = !_elementsEqual(active, lastActive);\n\n      if (changed) {\n        me._active = active;\n\n        me._updateHoverStyles(active, lastActive);\n      }\n    }\n  }, {\n    key: \"notifyPlugins\",\n    value: function notifyPlugins(hook, args, filter) {\n      return this._plugins.notify(this, hook, args, filter);\n    }\n  }, {\n    key: \"_updateHoverStyles\",\n    value: function _updateHoverStyles(active, lastActive, replay) {\n      var me = this;\n      var hoverOptions = me.options.hover;\n\n      var diff = function diff(a, b) {\n        return a.filter(function (x) {\n          return !b.some(function (y) {\n            return x.datasetIndex === y.datasetIndex && x.index === y.index;\n          });\n        });\n      };\n\n      var deactivated = diff(lastActive, active);\n      var activated = replay ? active : diff(active, lastActive);\n\n      if (deactivated.length) {\n        me.updateHoverStyle(deactivated, hoverOptions.mode, false);\n      }\n\n      if (activated.length && hoverOptions.mode) {\n        me.updateHoverStyle(activated, hoverOptions.mode, true);\n      }\n    }\n  }, {\n    key: \"_eventHandler\",\n    value: function _eventHandler(e, replay) {\n      var _this6 = this;\n\n      var me = this;\n      var args = {\n        event: e,\n        replay: replay,\n        cancelable: true\n      };\n\n      var eventFilter = function eventFilter(plugin) {\n        return (plugin.options.events || _this6.options.events).includes(e.type);\n      };\n\n      if (me.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n        return;\n      }\n\n      var changed = me._handleEvent(e, replay);\n\n      args.cancelable = false;\n      me.notifyPlugins('afterEvent', args, eventFilter);\n\n      if (changed || args.changed) {\n        me.render();\n      }\n\n      return me;\n    }\n  }, {\n    key: \"_handleEvent\",\n    value: function _handleEvent(e, replay) {\n      var me = this;\n      var _me$_active = me._active,\n          lastActive = _me$_active === void 0 ? [] : _me$_active,\n          options = me.options;\n      var hoverOptions = options.hover;\n      var useFinalPosition = replay;\n      var active = [];\n      var changed = false;\n      var lastEvent = null;\n\n      if (e.type !== 'mouseout') {\n        active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n        lastEvent = e.type === 'click' ? me._lastEvent : e;\n      }\n\n      me._lastEvent = null;\n\n      if (_isPointInArea(e, me.chartArea, me._minPadding)) {\n        callback(options.onHover, [e, active, me], me);\n\n        if (e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu') {\n          callback(options.onClick, [e, active, me], me);\n        }\n      }\n\n      changed = !_elementsEqual(active, lastActive);\n\n      if (changed || replay) {\n        me._active = active;\n\n        me._updateHoverStyles(active, lastActive, replay);\n      }\n\n      me._lastEvent = lastEvent;\n      return changed;\n    }\n  }]);\n\n  return Chart;\n}();\n\nvar invalidatePlugins = function invalidatePlugins() {\n  return each(Chart.instances, function (chart) {\n    return chart._plugins.invalidate();\n  });\n};\n\nvar enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable: enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable: enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable: enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable: enumerable,\n    value: registry\n  },\n  version: {\n    enumerable: enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable: enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable: enumerable,\n    value: function value() {\n      registry.add.apply(registry, arguments);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable: enumerable,\n    value: function value() {\n      registry.remove.apply(registry, arguments);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element) {\n  var startAngle = element.startAngle,\n      endAngle = element.endAngle,\n      pixelMargin = element.pixelMargin,\n      x = element.x,\n      y = element.y,\n      outerRadius = element.outerRadius,\n      innerRadius = element.innerRadius;\n  var angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  var o = toRadiusCorners(arc.options.borderRadius);\n  var halfThickness = (outerRadius - innerRadius) / 2;\n  var innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  var computeOuterLimit = function computeOuterLimit(val) {\n    var outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n  };\n}\n\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta)\n  };\n}\n\nfunction pathArc(ctx, element) {\n  var x = element.x,\n      y = element.y,\n      startAngle = element.startAngle,\n      endAngle = element.endAngle,\n      pixelMargin = element.pixelMargin;\n  var outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  var innerRadius = element.innerRadius + pixelMargin;\n\n  var _parseBorderRadius$ = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle),\n      outerStart = _parseBorderRadius$.outerStart,\n      outerEnd = _parseBorderRadius$.outerEnd,\n      innerStart = _parseBorderRadius$.innerStart,\n      innerEnd = _parseBorderRadius$.innerEnd;\n\n  var outerStartAdjustedRadius = outerRadius - outerStart;\n  var outerEndAdjustedRadius = outerRadius - outerEnd;\n  var outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  var outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  var innerStartAdjustedRadius = innerRadius + innerStart;\n  var innerEndAdjustedRadius = innerRadius + innerEnd;\n  var innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  var innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n\n  if (outerEnd > 0) {\n    var pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n\n  var p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n\n  if (innerEnd > 0) {\n    var _pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter.x, _pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n\n  ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, startAngle + innerStart / innerRadius, true);\n\n  if (innerStart > 0) {\n    var _pCenter2 = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter2.x, _pCenter2.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n\n  var p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n\n  if (outerStart > 0) {\n    var _pCenter3 = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter3.x, _pCenter3.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(ctx, element) {\n  if (element.fullCircles) {\n    element.endAngle = element.startAngle + TAU;\n    pathArc(ctx, element);\n\n    for (var i = 0; i < element.fullCircles; ++i) {\n      ctx.fill();\n    }\n  }\n\n  if (!isNaN(element.circumference)) {\n    element.endAngle = element.startAngle + element.circumference % TAU;\n  }\n\n  pathArc(ctx, element);\n  ctx.fill();\n}\n\nfunction drawFullCircleBorders(ctx, element, inner) {\n  var x = element.x,\n      y = element.y,\n      startAngle = element.startAngle,\n      endAngle = element.endAngle,\n      pixelMargin = element.pixelMargin;\n  var outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  var innerRadius = element.innerRadius + pixelMargin;\n  var i;\n\n  if (inner) {\n    element.endAngle = element.startAngle + TAU;\n    clipArc(ctx, element);\n    element.endAngle = endAngle;\n\n    if (element.endAngle === element.startAngle) {\n      element.endAngle += TAU;\n      element.fullCircles--;\n    }\n  }\n\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n\n  for (i = 0; i < element.fullCircles; ++i) {\n    ctx.stroke();\n  }\n\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n\n  for (i = 0; i < element.fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\n\nfunction drawBorder(ctx, element) {\n  var options = element.options;\n  var inner = options.borderAlign === 'inner';\n\n  if (!options.borderWidth) {\n    return;\n  }\n\n  if (inner) {\n    ctx.lineWidth = options.borderWidth * 2;\n    ctx.lineJoin = 'round';\n  } else {\n    ctx.lineWidth = options.borderWidth;\n    ctx.lineJoin = 'bevel';\n  }\n\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n\n  if (inner) {\n    clipArc(ctx, element);\n  }\n\n  pathArc(ctx, element);\n  ctx.stroke();\n}\n\nvar ArcElement = /*#__PURE__*/function (_Element2) {\n  _inherits(ArcElement, _Element2);\n\n  var _super12 = _createSuper(ArcElement);\n\n  function ArcElement(cfg) {\n    var _this7;\n\n    _classCallCheck(this, ArcElement);\n\n    _this7 = _super12.call(this);\n    _this7.options = undefined;\n    _this7.circumference = undefined;\n    _this7.startAngle = undefined;\n    _this7.endAngle = undefined;\n    _this7.innerRadius = undefined;\n    _this7.outerRadius = undefined;\n    _this7.pixelMargin = 0;\n    _this7.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this7), cfg);\n    }\n\n    return _this7;\n  }\n\n  _createClass(ArcElement, [{\n    key: \"inRange\",\n    value: function inRange(chartX, chartY, useFinalPosition) {\n      var point = this.getProps(['x', 'y'], useFinalPosition);\n\n      var _getAngleFromPoint = getAngleFromPoint(point, {\n        x: chartX,\n        y: chartY\n      }),\n          angle = _getAngleFromPoint.angle,\n          distance = _getAngleFromPoint.distance;\n\n      var _this$getProps2 = this.getProps(['startAngle', 'endAngle', 'innerRadius', 'outerRadius', 'circumference'], useFinalPosition),\n          startAngle = _this$getProps2.startAngle,\n          endAngle = _this$getProps2.endAngle,\n          innerRadius = _this$getProps2.innerRadius,\n          outerRadius = _this$getProps2.outerRadius,\n          circumference = _this$getProps2.circumference;\n\n      var betweenAngles = circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n\n      var withinRadius = distance >= innerRadius && distance <= outerRadius;\n      return betweenAngles && withinRadius;\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps3 = this.getProps(['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius'], useFinalPosition),\n          x = _this$getProps3.x,\n          y = _this$getProps3.y,\n          startAngle = _this$getProps3.startAngle,\n          endAngle = _this$getProps3.endAngle,\n          innerRadius = _this$getProps3.innerRadius,\n          outerRadius = _this$getProps3.outerRadius;\n\n      var halfAngle = (startAngle + endAngle) / 2;\n      var halfRadius = (innerRadius + outerRadius) / 2;\n      return {\n        x: x + Math.cos(halfAngle) * halfRadius,\n        y: y + Math.sin(halfAngle) * halfRadius\n      };\n    }\n  }, {\n    key: \"tooltipPosition\",\n    value: function tooltipPosition(useFinalPosition) {\n      return this.getCenterPoint(useFinalPosition);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var me = this;\n      var options = me.options;\n      var offset = options.offset || 0;\n      me.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n      me.fullCircles = Math.floor(me.circumference / TAU);\n\n      if (me.circumference === 0 || me.innerRadius < 0 || me.outerRadius < 0) {\n        return;\n      }\n\n      ctx.save();\n\n      if (offset && me.circumference < TAU) {\n        var halfAngle = (me.startAngle + me.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n      }\n\n      ctx.fillStyle = options.backgroundColor;\n      ctx.strokeStyle = options.borderColor;\n      drawArc(ctx, me);\n      drawBorder(ctx, me);\n      ctx.restore();\n    }\n  }]);\n\n  return ArcElement;\n}(Element);\n\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  angle: undefined\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options) {\n  var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : options;\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment) {\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var count = points.length;\n  var _params$start = params.start,\n      paramsStart = _params$start === void 0 ? 0 : _params$start,\n      _params$end = params.end,\n      paramsEnd = _params$end === void 0 ? count - 1 : _params$end;\n  var segmentStart = segment.start,\n      segmentEnd = segment.end;\n  var start = Math.max(paramsStart, segmentStart);\n  var end = Math.min(paramsEnd, segmentEnd);\n  var outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count: count,\n    start: start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\nfunction pathSegment(ctx, line, segment, params) {\n  var points = line.points,\n      options = line.options;\n\n  var _pathVars = pathVars(points, segment, params),\n      count = _pathVars.count,\n      start = _pathVars.start,\n      loop = _pathVars.loop,\n      ilen = _pathVars.ilen;\n\n  var lineMethod = getLineMethod(options);\n\n  var _ref2 = params || {},\n      _ref2$move = _ref2.move,\n      move = _ref2$move === void 0 ? true : _ref2$move,\n      reverse = _ref2.reverse;\n\n  var i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\nfunction fastPathSegment(ctx, line, segment, params) {\n  var points = line.points;\n\n  var _pathVars2 = pathVars(points, segment, params),\n      count = _pathVars2.count,\n      start = _pathVars2.start,\n      ilen = _pathVars2.ilen;\n\n  var _ref3 = params || {},\n      _ref3$move = _ref3.move,\n      move = _ref3$move === void 0 ? true : _ref3$move,\n      reverse = _ref3.reverse;\n\n  var avgX = 0;\n  var countX = 0;\n  var i, point, prevX, minY, maxY, lastY;\n\n  var pointIndex = function pointIndex(index) {\n    return (start + (reverse ? ilen - index : index)) % count;\n  };\n\n  var drawX = function drawX() {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      continue;\n    }\n\n    var x = point.x;\n    var y = point.y;\n    var truncX = x | 0;\n\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n\n    lastY = y;\n  }\n\n  drawX();\n}\n\nfunction _getSegmentMethod(line) {\n  var opts = line.options;\n  var borderDash = opts.borderDash && opts.borderDash.length;\n  var useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  var path = line._path;\n\n  if (!path) {\n    path = line._path = new Path2D();\n\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  var segments = line.segments,\n      options = line.options;\n\n  var segmentMethod = _getSegmentMethod(line);\n\n  var _iterator7 = _createForOfIteratorHelper(segments),\n      _step7;\n\n  try {\n    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n      var segment = _step7.value;\n      setStyle(ctx, options, segment.style);\n      ctx.beginPath();\n\n      if (segmentMethod(ctx, line, segment, {\n        start: start,\n        end: start + count - 1\n      })) {\n        ctx.closePath();\n      }\n\n      ctx.stroke();\n    }\n  } catch (err) {\n    _iterator7.e(err);\n  } finally {\n    _iterator7.f();\n  }\n}\n\nvar usePath2D = typeof Path2D === 'function';\n\nfunction _draw(ctx, line, start, count) {\n  if (usePath2D && line.segments.length === 1) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nvar LineElement = /*#__PURE__*/function (_Element3) {\n  _inherits(LineElement, _Element3);\n\n  var _super13 = _createSuper(LineElement);\n\n  function LineElement(cfg) {\n    var _this8;\n\n    _classCallCheck(this, LineElement);\n\n    _this8 = _super13.call(this);\n    _this8.animated = true;\n    _this8.options = undefined;\n    _this8._loop = undefined;\n    _this8._fullLoop = undefined;\n    _this8._path = undefined;\n    _this8._points = undefined;\n    _this8._segments = undefined;\n    _this8._decimated = false;\n    _this8._pointsUpdated = false;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this8), cfg);\n    }\n\n    return _this8;\n  }\n\n  _createClass(LineElement, [{\n    key: \"updateControlPoints\",\n    value: function updateControlPoints(chartArea) {\n      var me = this;\n      var options = me.options;\n\n      if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !me._pointsUpdated) {\n        var loop = options.spanGaps ? me._loop : me._fullLoop;\n\n        _updateBezierControlPoints(me._points, options, chartArea, loop);\n\n        me._pointsUpdated = true;\n      }\n    }\n  }, {\n    key: \"points\",\n    get: function get() {\n      return this._points;\n    },\n    set: function set(points) {\n      var me = this;\n      me._points = points;\n      delete me._segments;\n      delete me._path;\n      me._pointsUpdated = false;\n    }\n  }, {\n    key: \"segments\",\n    get: function get() {\n      return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      var segments = this.segments;\n      var points = this.points;\n      return segments.length && points[segments[0].start];\n    }\n  }, {\n    key: \"last\",\n    value: function last() {\n      var segments = this.segments;\n      var points = this.points;\n      var count = segments.length;\n      return count && points[segments[count - 1].end];\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(point, property) {\n      var me = this;\n      var options = me.options;\n      var value = point[property];\n      var points = me.points;\n\n      var segments = _boundSegments(me, {\n        property: property,\n        start: value,\n        end: value\n      });\n\n      if (!segments.length) {\n        return;\n      }\n\n      var result = [];\n\n      var _interpolate = _getInterpolationMethod(options);\n\n      var i, ilen;\n\n      for (i = 0, ilen = segments.length; i < ilen; ++i) {\n        var _segments$i = segments[i],\n            start = _segments$i.start,\n            end = _segments$i.end;\n        var p1 = points[start];\n        var p2 = points[end];\n\n        if (p1 === p2) {\n          result.push(p1);\n          continue;\n        }\n\n        var t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n\n        var interpolated = _interpolate(p1, p2, t, options.stepped);\n\n        interpolated[property] = point[property];\n        result.push(interpolated);\n      }\n\n      return result.length === 1 ? result[0] : result;\n    }\n  }, {\n    key: \"pathSegment\",\n    value: function pathSegment(ctx, segment, params) {\n      var segmentMethod = _getSegmentMethod(this);\n\n      return segmentMethod(ctx, this, segment, params);\n    }\n  }, {\n    key: \"path\",\n    value: function path(ctx, start, count) {\n      var me = this;\n      var segments = me.segments;\n\n      var segmentMethod = _getSegmentMethod(me);\n\n      var loop = me._loop;\n      start = start || 0;\n      count = count || me.points.length - start;\n\n      var _iterator8 = _createForOfIteratorHelper(segments),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var segment = _step8.value;\n          loop &= segmentMethod(ctx, me, segment, {\n            start: start,\n            end: start + count - 1\n          });\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n\n      return !!loop;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx, chartArea, start, count) {\n      var me = this;\n      var options = me.options || {};\n      var points = me.points || [];\n\n      if (!points.length || !options.borderWidth) {\n        return;\n      }\n\n      ctx.save();\n\n      _draw(ctx, me, start, count);\n\n      ctx.restore();\n\n      if (me.animated) {\n        me._pointsUpdated = false;\n        me._path = undefined;\n      }\n    }\n  }]);\n\n  return LineElement;\n}(Element);\n\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: function _indexable(name) {\n    return name !== 'borderDash' && name !== 'fill';\n  }\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  var options = el.options;\n\n  var _el$getProps = el.getProps([axis], useFinalPosition),\n      value = _el$getProps[axis];\n\n  return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\n\nvar PointElement = /*#__PURE__*/function (_Element4) {\n  _inherits(PointElement, _Element4);\n\n  var _super14 = _createSuper(PointElement);\n\n  function PointElement(cfg) {\n    var _this9;\n\n    _classCallCheck(this, PointElement);\n\n    _this9 = _super14.call(this);\n    _this9.options = undefined;\n    _this9.parsed = undefined;\n    _this9.skip = undefined;\n    _this9.stop = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this9), cfg);\n    }\n\n    return _this9;\n  }\n\n  _createClass(PointElement, [{\n    key: \"inRange\",\n    value: function inRange(mouseX, mouseY, useFinalPosition) {\n      var options = this.options;\n\n      var _this$getProps4 = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps4.x,\n          y = _this$getProps4.y;\n\n      return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n  }, {\n    key: \"inXRange\",\n    value: function inXRange(mouseX, useFinalPosition) {\n      return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n  }, {\n    key: \"inYRange\",\n    value: function inYRange(mouseY, useFinalPosition) {\n      return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps5 = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps5.x,\n          y = _this$getProps5.y;\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"size\",\n    value: function size(options) {\n      options = options || this.options || {};\n      var radius = options.radius || 0;\n      radius = Math.max(radius, radius && options.hoverRadius || 0);\n      var borderWidth = radius && options.borderWidth || 0;\n      return (radius + borderWidth) * 2;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var me = this;\n      var options = me.options;\n\n      if (me.skip || options.radius < 0.1) {\n        return;\n      }\n\n      ctx.strokeStyle = options.borderColor;\n      ctx.lineWidth = options.borderWidth;\n      ctx.fillStyle = options.backgroundColor;\n      drawPoint(ctx, options, me.x, me.y);\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange() {\n      var options = this.options || {};\n      return options.radius + options.hitRadius;\n    }\n  }]);\n\n  return PointElement;\n}(Element);\n\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  var _bar$getProps = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition),\n      x = _bar$getProps.x,\n      y = _bar$getProps.y,\n      base = _bar$getProps.base,\n      width = _bar$getProps.width,\n      height = _bar$getProps.height;\n\n  var left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n}\n\nfunction parseBorderSkipped(bar) {\n  var edge = bar.options.borderSkipped;\n  var res = {};\n\n  if (!edge) {\n    return res;\n  }\n\n  edge = bar.horizontal ? parseEdge(edge, 'left', 'right', bar.base > bar.x) : parseEdge(edge, 'bottom', 'top', bar.base < bar.y);\n  res[edge] = true;\n  return res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : Math.max(Math.min(value, max), min);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  var value = bar.options.borderWidth;\n  var skip = parseBorderSkipped(bar);\n  var o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  var _bar$getProps2 = bar.getProps(['enableBorderRadius']),\n      enableBorderRadius = _bar$getProps2.enableBorderRadius;\n\n  var value = bar.options.borderRadius;\n  var o = toTRBLCorners(value);\n  var maxR = Math.min(maxW, maxH);\n  var skip = parseBorderSkipped(bar);\n  var enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  var bounds = getBarBounds(bar);\n  var width = bounds.right - bounds.left;\n  var height = bounds.bottom - bounds.top;\n  var border = parseBorderWidth(bar, width / 2, height / 2);\n  var radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius: radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n      }\n    }\n  };\n}\n\nfunction _inRange(bar, x, y, useFinalPosition) {\n  var skipX = x === null;\n  var skipY = y === null;\n  var skipBoth = skipX && skipY;\n  var bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds && (skipX || x >= bounds.left && x <= bounds.right) && (skipY || y >= bounds.top && y <= bounds.bottom);\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nvar BarElement = /*#__PURE__*/function (_Element5) {\n  _inherits(BarElement, _Element5);\n\n  var _super15 = _createSuper(BarElement);\n\n  function BarElement(cfg) {\n    var _this10;\n\n    _classCallCheck(this, BarElement);\n\n    _this10 = _super15.call(this);\n    _this10.options = undefined;\n    _this10.horizontal = undefined;\n    _this10.base = undefined;\n    _this10.width = undefined;\n    _this10.height = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this10), cfg);\n    }\n\n    return _this10;\n  }\n\n  _createClass(BarElement, [{\n    key: \"draw\",\n    value: function draw(ctx) {\n      var options = this.options;\n\n      var _boundingRects = boundingRects(this),\n          inner = _boundingRects.inner,\n          outer = _boundingRects.outer;\n\n      var addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n      ctx.save();\n\n      if (outer.w !== inner.w || outer.h !== inner.h) {\n        ctx.beginPath();\n        addRectPath(ctx, outer);\n        ctx.clip();\n        addRectPath(ctx, inner);\n        ctx.fillStyle = options.borderColor;\n        ctx.fill('evenodd');\n      }\n\n      ctx.beginPath();\n      addRectPath(ctx, inner);\n      ctx.fillStyle = options.backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }, {\n    key: \"inRange\",\n    value: function inRange(mouseX, mouseY, useFinalPosition) {\n      return _inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n  }, {\n    key: \"inXRange\",\n    value: function inXRange(mouseX, useFinalPosition) {\n      return _inRange(this, mouseX, null, useFinalPosition);\n    }\n  }, {\n    key: \"inYRange\",\n    value: function inYRange(mouseY, useFinalPosition) {\n      return _inRange(this, null, mouseY, useFinalPosition);\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps6 = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition),\n          x = _this$getProps6.x,\n          y = _this$getProps6.y,\n          base = _this$getProps6.base,\n          horizontal = _this$getProps6.horizontal;\n\n      return {\n        x: horizontal ? (x + base) / 2 : x,\n        y: horizontal ? y : (y + base) / 2\n      };\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange(axis) {\n      return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n  }]);\n\n  return BarElement;\n}(Element);\n\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  enableBorderRadius: true,\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nvar elements = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ArcElement: ArcElement,\n  LineElement: LineElement,\n  PointElement: PointElement,\n  BarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  var samples = options.samples || availableWidth;\n\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n\n  var decimated = [];\n  var bucketWidth = (count - 2) / (samples - 2);\n  var sampledIndex = 0;\n  var endIndex = start + count - 1;\n  var a = start;\n  var i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n\n  for (i = 0; i < samples - 2; i++) {\n    var avgX = 0;\n    var avgY = 0;\n    var j = void 0;\n    var avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    var avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    var avgRangeLength = avgRangeEnd - avgRangeStart;\n\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    var rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    var rangeTo = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    var _data$a = data[a],\n        pointAx = _data$a.x,\n        pointAy = _data$a.y;\n    maxArea = area = -1;\n\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\n\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  var avgX = 0;\n  var countX = 0;\n  var i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  var decimated = [];\n  var endIndex = start + count - 1;\n  var xMin = data[start].x;\n  var xMax = data[endIndex].x;\n  var dx = xMax - xMin;\n\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    var truncX = x | 0;\n\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      var lastIndex = i - 1;\n\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        var intermediateIndex1 = Math.min(minIndex, maxIndex);\n        var intermediateIndex2 = Math.max(minIndex, maxIndex);\n\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push(_objectSpread(_objectSpread({}, data[intermediateIndex1]), {}, {\n            x: avgX\n          }));\n        }\n\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push(_objectSpread(_objectSpread({}, data[intermediateIndex2]), {}, {\n            x: avgX\n          }));\n        }\n      }\n\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n\n  return decimated;\n}\n\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    var data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {\n      value: data\n    });\n  }\n}\n\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach(function (dataset) {\n    cleanDecimatedDataset(dataset);\n  });\n}\n\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  var pointCount = points.length;\n  var start = 0;\n  var count;\n  var iScale = meta.iScale;\n\n  var _iScale$getUserBounds2 = iScale.getUserBounds(),\n      min = _iScale$getUserBounds2.min,\n      max = _iScale$getUserBounds2.max,\n      minDefined = _iScale$getUserBounds2.minDefined,\n      maxDefined = _iScale$getUserBounds2.maxDefined;\n\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n\n  return {\n    start: start,\n    count: count\n  };\n}\n\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false\n  },\n  beforeElementsUpdate: function beforeElementsUpdate(chart, args, options) {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n\n    var availableWidth = chart.width;\n    chart.data.datasets.forEach(function (dataset, datasetIndex) {\n      var _data = dataset._data,\n          indexAxis = dataset.indexAxis;\n      var meta = chart.getDatasetMeta(datasetIndex);\n      var data = _data || dataset.data;\n\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n\n      if (meta.type !== 'line') {\n        return;\n      }\n\n      var xAxis = chart.scales[meta.xAxisID];\n\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n\n      if (chart.options.parsing) {\n        return;\n      }\n\n      var _getStartAndCountOfVi2 = getStartAndCountOfVisiblePointsSimplified(meta, data),\n          start = _getStartAndCountOfVi2.start,\n          count = _getStartAndCountOfVi2.count;\n\n      if (count <= 4 * availableWidth) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            return this._decimated;\n          },\n          set: function set(d) {\n            this._data = d;\n          }\n        });\n      }\n\n      var decimated;\n\n      switch (options.algorithm) {\n        case 'lttb':\n          decimated = lttbDecimation(data, start, count, availableWidth, options);\n          break;\n\n        case 'min-max':\n          decimated = minMaxDecimation(data, start, count, availableWidth);\n          break;\n\n        default:\n          throw new Error(\"Unsupported decimation algorithm '\".concat(options.algorithm, \"'\"));\n      }\n\n      dataset._decimated = decimated;\n    });\n  },\n  destroy: function destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  var meta = chart.getDatasetMeta(index);\n  var visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction parseFillOption(line) {\n  var options = line.options;\n  var fillOption = options.fill;\n  var fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n\n  return fill;\n}\n\nfunction decodeFill(line, index, count) {\n  var fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  var target = parseFloat(fill);\n\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n\n    return target;\n  }\n\n  return ['origin', 'start', 'end', 'stack'].indexOf(fill) >= 0 && fill;\n}\n\nfunction computeLinearBoundary(source) {\n  var _source$scale = source.scale,\n      scale = _source$scale === void 0 ? {} : _source$scale,\n      fill = source.fill;\n  var target = null;\n  var horizontal;\n\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n\n  return null;\n}\n\nvar simpleArc = /*#__PURE__*/function () {\n  function simpleArc(opts) {\n    _classCallCheck(this, simpleArc);\n\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  _createClass(simpleArc, [{\n    key: \"pathSegment\",\n    value: function pathSegment(ctx, bounds, opts) {\n      var x = this.x,\n          y = this.y,\n          radius = this.radius;\n      bounds = bounds || {\n        start: 0,\n        end: TAU\n      };\n      ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n      return !opts.bounds;\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(point) {\n      var x = this.x,\n          y = this.y,\n          radius = this.radius;\n      var angle = point.angle;\n      return {\n        x: x + Math.cos(angle) * radius,\n        y: y + Math.sin(angle) * radius,\n        angle: angle\n      };\n    }\n  }]);\n\n  return simpleArc;\n}();\n\nfunction computeCircularBoundary(source) {\n  var scale = source.scale,\n      fill = source.fill;\n  var options = scale.options;\n  var length = scale.getLabels().length;\n  var target = [];\n  var start = options.reverse ? scale.max : scale.min;\n  var end = options.reverse ? scale.min : scale.max;\n  var i, center, value;\n\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n\n  return target;\n}\n\nfunction computeBoundary(source) {\n  var scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n\n  return computeLinearBoundary(source);\n}\n\nfunction pointsFromSegments(boundary, line) {\n  var _ref4 = boundary || {},\n      _ref4$x = _ref4.x,\n      x = _ref4$x === void 0 ? null : _ref4$x,\n      _ref4$y = _ref4.y,\n      y = _ref4$y === void 0 ? null : _ref4$y;\n\n  var linePoints = line.points;\n  var points = [];\n  line.segments.forEach(function (segment) {\n    var first = linePoints[segment.start];\n    var last = linePoints[segment.end];\n\n    if (y !== null) {\n      points.push({\n        x: first.x,\n        y: y\n      });\n      points.push({\n        x: last.x,\n        y: y\n      });\n    } else if (x !== null) {\n      points.push({\n        x: x,\n        y: first.y\n      });\n      points.push({\n        x: x,\n        y: last.y\n      });\n    }\n  });\n  return points;\n}\n\nfunction buildStackLine(source) {\n  var chart = source.chart,\n      scale = source.scale,\n      index = source.index,\n      line = source.line;\n  var points = [];\n  var segments = line.segments;\n  var sourcePoints = line.points;\n  var linesBelow = getLinesBelow(chart, index);\n  linesBelow.push(createBoundaryLine({\n    x: null,\n    y: scale.bottom\n  }, line));\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n\n    for (var j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n\n  return new LineElement({\n    points: points,\n    options: {}\n  });\n}\n\nvar isLineAndNotInHideAnimation = function isLineAndNotInHideAnimation(meta) {\n  return meta.type === 'line' && !meta.hidden;\n};\n\nfunction getLinesBelow(chart, index) {\n  var below = [];\n  var metas = chart.getSortedVisibleDatasetMetas();\n\n  for (var i = 0; i < metas.length; i++) {\n    var meta = metas[i];\n\n    if (meta.index === index) {\n      break;\n    }\n\n    if (isLineAndNotInHideAnimation(meta)) {\n      below.unshift(meta.dataset);\n    }\n  }\n\n  return below;\n}\n\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  var postponed = [];\n\n  for (var j = 0; j < linesBelow.length; j++) {\n    var line = linesBelow[j];\n\n    var _findPoint = findPoint(line, sourcePoint, 'x'),\n        first = _findPoint.first,\n        last = _findPoint.last,\n        point = _findPoint.point;\n\n    if (!point || first && last) {\n      continue;\n    }\n\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n\n      if (!last) {\n        break;\n      }\n    }\n  }\n\n  points.push.apply(points, postponed);\n}\n\nfunction findPoint(line, sourcePoint, property) {\n  var point = line.interpolate(sourcePoint, property);\n\n  if (!point) {\n    return {};\n  }\n\n  var pointValue = point[property];\n  var segments = line.segments;\n  var linePoints = line.points;\n  var first = false;\n  var last = false;\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    var firstValue = linePoints[segment.start][property];\n    var lastValue = linePoints[segment.end][property];\n\n    if (pointValue >= firstValue && pointValue <= lastValue) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n\n  return {\n    first: first,\n    last: last,\n    point: point\n  };\n}\n\nfunction getTarget(source) {\n  var chart = source.chart,\n      fill = source.fill,\n      line = source.line;\n\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n\n  var boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return createBoundaryLine(boundary, line);\n}\n\nfunction createBoundaryLine(boundary, line) {\n  var points = [];\n  var _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points: points,\n    options: {\n      tension: 0\n    },\n    _loop: _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nfunction resolveTarget(sources, index, propagate) {\n  var source = sources[index];\n  var fill = source.fill;\n  var visited = [index];\n  var target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\nfunction _clip(ctx, target, clipY) {\n  ctx.beginPath();\n  target.path(ctx);\n  ctx.lineTo(target.last().x, clipY);\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n\n  var start = first[property];\n  var end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n\n  return {\n    property: property,\n    start: start,\n    end: end\n  };\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _segments(line, target, property) {\n  var segments = line.segments;\n  var points = line.points;\n  var tpoints = target.points;\n  var parts = [];\n\n  var _iterator9 = _createForOfIteratorHelper(segments),\n      _step9;\n\n  try {\n    for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n      var segment = _step9.value;\n      var bounds = getBounds(property, points[segment.start], points[segment.end], segment.loop);\n\n      if (!target.segments) {\n        parts.push({\n          source: segment,\n          target: bounds,\n          start: points[segment.start],\n          end: points[segment.end]\n        });\n        continue;\n      }\n\n      var targetSegments = _boundSegments(target, bounds);\n\n      var _iterator10 = _createForOfIteratorHelper(targetSegments),\n          _step10;\n\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var tgt = _step10.value;\n          var subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n\n          var fillSources = _boundSegment(segment, points, subBounds);\n\n          var _iterator11 = _createForOfIteratorHelper(fillSources),\n              _step11;\n\n          try {\n            for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n              var fillSource = _step11.value;\n              parts.push({\n                source: fillSource,\n                target: tgt,\n                start: _defineProperty({}, property, _getEdge(bounds, subBounds, 'start', Math.max)),\n                end: _defineProperty({}, property, _getEdge(bounds, subBounds, 'end', Math.min))\n              });\n            }\n          } catch (err) {\n            _iterator11.e(err);\n          } finally {\n            _iterator11.f();\n          }\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n    }\n  } catch (err) {\n    _iterator9.e(err);\n  } finally {\n    _iterator9.f();\n  }\n\n  return parts;\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  var _scale$chart$chartAre = scale.chart.chartArea,\n      top = _scale$chart$chartAre.top,\n      bottom = _scale$chart$chartAre.bottom;\n\n  var _ref5 = bounds || {},\n      property = _ref5.property,\n      start = _ref5.start,\n      end = _ref5.end;\n\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  var interpolatedPoint = target.interpolate(point, property);\n\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\nfunction _fill(ctx, cfg) {\n  var line = cfg.line,\n      target = cfg.target,\n      property = cfg.property,\n      color = cfg.color,\n      scale = cfg.scale;\n\n  var segments = _segments(line, target, property);\n\n  var _iterator12 = _createForOfIteratorHelper(segments),\n      _step12;\n\n  try {\n    for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n      var _step12$value = _step12.value,\n          src = _step12$value.source,\n          tgt = _step12$value.target,\n          start = _step12$value.start,\n          end = _step12$value.end;\n      var _src$style = src.style;\n      _src$style = _src$style === void 0 ? {} : _src$style;\n      var _src$style$background = _src$style.backgroundColor,\n          backgroundColor = _src$style$background === void 0 ? color : _src$style$background;\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      clipBounds(ctx, scale, getBounds(property, start, end));\n      ctx.beginPath();\n      var lineLoop = !!line.pathSegment(ctx, src);\n\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n\n      var targetLoop = !!target.pathSegment(ctx, tgt, {\n        move: lineLoop,\n        reverse: true\n      });\n      var loop = lineLoop && targetLoop;\n\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n\n      ctx.closePath();\n      ctx.fill(loop ? 'evenodd' : 'nonzero');\n      ctx.restore();\n    }\n  } catch (err) {\n    _iterator12.e(err);\n  } finally {\n    _iterator12.f();\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  var line = cfg.line,\n      target = cfg.target,\n      above = cfg.above,\n      below = cfg.below,\n      area = cfg.area,\n      scale = cfg.scale;\n  var property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n\n    _fill(ctx, {\n      line: line,\n      target: target,\n      color: above,\n      scale: scale,\n      property: property\n    });\n\n    ctx.restore();\n    ctx.save();\n\n    _clip(ctx, target, area.bottom);\n  }\n\n  _fill(ctx, {\n    line: line,\n    target: target,\n    color: below,\n    scale: scale,\n    property: property\n  });\n\n  ctx.restore();\n}\n\nfunction drawfill(ctx, source, area) {\n  var target = getTarget(source);\n  var line = source.line,\n      scale = source.scale,\n      axis = source.axis;\n  var lineOpts = line.options;\n  var fillOption = lineOpts.fill;\n  var color = lineOpts.backgroundColor;\n\n  var _ref6 = fillOption || {},\n      _ref6$above = _ref6.above,\n      above = _ref6$above === void 0 ? color : _ref6$above,\n      _ref6$below = _ref6.below,\n      below = _ref6$below === void 0 ? color : _ref6$below;\n\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {\n      line: line,\n      target: target,\n      above: above,\n      below: below,\n      area: area,\n      scale: scale,\n      axis: axis\n    });\n    unclipArea(ctx);\n  }\n}\n\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate: function afterDatasetsUpdate(chart, _args, options) {\n    var count = (chart.data.datasets || []).length;\n    var sources = [];\n    var meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart: chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line: line\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw: function beforeDraw(chart, _args, options) {\n    var draw = options.drawTime === 'beforeDraw';\n    var metasets = chart.getSortedVisibleDatasetMetas();\n    var area = chart.chartArea;\n\n    for (var i = metasets.length - 1; i >= 0; --i) {\n      var source = metasets[i].$filler;\n\n      if (!source) {\n        continue;\n      }\n\n      source.line.updateControlPoints(area);\n\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw: function beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n\n    var metasets = chart.getSortedVisibleDatasetMetas();\n\n    for (var i = metasets.length - 1; i >= 0; --i) {\n      var source = metasets[i].$filler;\n\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw: function beforeDatasetDraw(chart, args, options) {\n    var source = args.meta.$filler;\n\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nvar getBoxSize = function getBoxSize(labelOpts, fontSize) {\n  var _labelOpts$boxHeight = labelOpts.boxHeight,\n      boxHeight = _labelOpts$boxHeight === void 0 ? fontSize : _labelOpts$boxHeight,\n      _labelOpts$boxWidth = labelOpts.boxWidth,\n      boxWidth = _labelOpts$boxWidth === void 0 ? fontSize : _labelOpts$boxWidth;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth: boxWidth,\n    boxHeight: boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nvar itemsEqual = function itemsEqual(a, b) {\n  return a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n};\n\nvar Legend = /*#__PURE__*/function (_Element6) {\n  _inherits(Legend, _Element6);\n\n  var _super16 = _createSuper(Legend);\n\n  function Legend(config) {\n    var _this11;\n\n    _classCallCheck(this, Legend);\n\n    _this11 = _super16.call(this);\n    _this11._added = false;\n    _this11.legendHitBoxes = [];\n    _this11._hoveredItem = null;\n    _this11.doughnutMode = false;\n    _this11.chart = config.chart;\n    _this11.options = config.options;\n    _this11.ctx = config.ctx;\n    _this11.legendItems = undefined;\n    _this11.columnSizes = undefined;\n    _this11.lineWidths = undefined;\n    _this11.maxHeight = undefined;\n    _this11.maxWidth = undefined;\n    _this11.top = undefined;\n    _this11.bottom = undefined;\n    _this11.left = undefined;\n    _this11.right = undefined;\n    _this11.height = undefined;\n    _this11.width = undefined;\n    _this11._margins = undefined;\n    _this11.position = undefined;\n    _this11.weight = undefined;\n    _this11.fullSize = undefined;\n    return _this11;\n  }\n\n  _createClass(Legend, [{\n    key: \"update\",\n    value: function update(maxWidth, maxHeight, margins) {\n      var me = this;\n      me.maxWidth = maxWidth;\n      me.maxHeight = maxHeight;\n      me._margins = margins;\n      me.setDimensions();\n      me.buildLabels();\n      me.fit();\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      var me = this;\n\n      if (me.isHorizontal()) {\n        me.width = me.maxWidth;\n        me.left = 0;\n        me.right = me.width;\n      } else {\n        me.height = me.maxHeight;\n        me.top = 0;\n        me.bottom = me.height;\n      }\n    }\n  }, {\n    key: \"buildLabels\",\n    value: function buildLabels() {\n      var me = this;\n      var labelOpts = me.options.labels || {};\n      var legendItems = callback(labelOpts.generateLabels, [me.chart], me) || [];\n\n      if (labelOpts.filter) {\n        legendItems = legendItems.filter(function (item) {\n          return labelOpts.filter(item, me.chart.data);\n        });\n      }\n\n      if (labelOpts.sort) {\n        legendItems = legendItems.sort(function (a, b) {\n          return labelOpts.sort(a, b, me.chart.data);\n        });\n      }\n\n      if (me.options.reverse) {\n        legendItems.reverse();\n      }\n\n      me.legendItems = legendItems;\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var me = this;\n      var options = me.options,\n          ctx = me.ctx;\n\n      if (!options.display) {\n        me.width = me.height = 0;\n        return;\n      }\n\n      var labelOpts = options.labels;\n      var labelFont = toFont(labelOpts.font);\n      var fontSize = labelFont.size;\n\n      var titleHeight = me._computeTitleHeight();\n\n      var _getBoxSize = getBoxSize(labelOpts, fontSize),\n          boxWidth = _getBoxSize.boxWidth,\n          itemHeight = _getBoxSize.itemHeight;\n\n      var width, height;\n      ctx.font = labelFont.string;\n\n      if (me.isHorizontal()) {\n        width = me.maxWidth;\n        height = me._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n      } else {\n        height = me.maxHeight;\n        width = me._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n      }\n\n      me.width = Math.min(width, options.maxWidth || me.maxWidth);\n      me.height = Math.min(height, options.maxHeight || me.maxHeight);\n    }\n  }, {\n    key: \"_fitRows\",\n    value: function _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n      var me = this;\n      var ctx = me.ctx,\n          maxWidth = me.maxWidth,\n          padding = me.options.labels.padding;\n      var hitboxes = me.legendHitBoxes = [];\n      var lineWidths = me.lineWidths = [0];\n      var lineHeight = itemHeight + padding;\n      var totalHeight = titleHeight;\n      ctx.textAlign = 'left';\n      ctx.textBaseline = 'middle';\n      var row = -1;\n      var top = -lineHeight;\n      me.legendItems.forEach(function (legendItem, i) {\n        var itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n\n        if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n          totalHeight += lineHeight;\n          lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n          top += lineHeight;\n          row++;\n        }\n\n        hitboxes[i] = {\n          left: 0,\n          top: top,\n          row: row,\n          width: itemWidth,\n          height: itemHeight\n        };\n        lineWidths[lineWidths.length - 1] += itemWidth + padding;\n      });\n      return totalHeight;\n    }\n  }, {\n    key: \"_fitCols\",\n    value: function _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n      var me = this;\n      var ctx = me.ctx,\n          maxHeight = me.maxHeight,\n          padding = me.options.labels.padding;\n      var hitboxes = me.legendHitBoxes = [];\n      var columnSizes = me.columnSizes = [];\n      var heightLimit = maxHeight - titleHeight;\n      var totalWidth = padding;\n      var currentColWidth = 0;\n      var currentColHeight = 0;\n      var left = 0;\n      var top = 0;\n      var col = 0;\n      me.legendItems.forEach(function (legendItem, i) {\n        var itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n\n        if (i > 0 && currentColHeight + fontSize + 2 * padding > heightLimit) {\n          totalWidth += currentColWidth + padding;\n          columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n          });\n          left += currentColWidth + padding;\n          col++;\n          top = 0;\n          currentColWidth = currentColHeight = 0;\n        }\n\n        currentColWidth = Math.max(currentColWidth, itemWidth);\n        currentColHeight += fontSize + padding;\n        hitboxes[i] = {\n          left: left,\n          top: top,\n          col: col,\n          width: itemWidth,\n          height: itemHeight\n        };\n        top += itemHeight + padding;\n      });\n      totalWidth += currentColWidth;\n      columnSizes.push({\n        width: currentColWidth,\n        height: currentColHeight\n      });\n      return totalWidth;\n    }\n  }, {\n    key: \"adjustHitBoxes\",\n    value: function adjustHitBoxes() {\n      var me = this;\n\n      if (!me.options.display) {\n        return;\n      }\n\n      var titleHeight = me._computeTitleHeight();\n\n      var hitboxes = me.legendHitBoxes,\n          _me$options6 = me.options,\n          align = _me$options6.align,\n          padding = _me$options6.labels.padding;\n\n      if (this.isHorizontal()) {\n        var row = 0;\n\n        var left = _alignStartEnd(align, me.left + padding, me.right - me.lineWidths[row]);\n\n        var _iterator13 = _createForOfIteratorHelper(hitboxes),\n            _step13;\n\n        try {\n          for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n            var hitbox = _step13.value;\n\n            if (row !== hitbox.row) {\n              row = hitbox.row;\n              left = _alignStartEnd(align, me.left + padding, me.right - me.lineWidths[row]);\n            }\n\n            hitbox.top += me.top + titleHeight + padding;\n            hitbox.left = left;\n            left += hitbox.width + padding;\n          }\n        } catch (err) {\n          _iterator13.e(err);\n        } finally {\n          _iterator13.f();\n        }\n      } else {\n        var col = 0;\n\n        var top = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - me.columnSizes[col].height);\n\n        var _iterator14 = _createForOfIteratorHelper(hitboxes),\n            _step14;\n\n        try {\n          for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n            var _hitbox = _step14.value;\n\n            if (_hitbox.col !== col) {\n              col = _hitbox.col;\n              top = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - me.columnSizes[col].height);\n            }\n\n            _hitbox.top = top;\n            _hitbox.left += me.left + padding;\n            top += _hitbox.height + padding;\n          }\n        } catch (err) {\n          _iterator14.e(err);\n        } finally {\n          _iterator14.f();\n        }\n      }\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n\n      if (me.options.display) {\n        var ctx = me.ctx;\n        clipArea(ctx, me);\n\n        me._draw();\n\n        unclipArea(ctx);\n      }\n    }\n  }, {\n    key: \"_draw\",\n    value: function _draw() {\n      var me = this;\n      var opts = me.options,\n          columnSizes = me.columnSizes,\n          lineWidths = me.lineWidths,\n          ctx = me.ctx;\n      var align = opts.align,\n          labelOpts = opts.labels;\n      var defaultColor = defaults.color;\n      var rtlHelper = getRtlAdapter(opts.rtl, me.left, me.width);\n      var labelFont = toFont(labelOpts.font);\n      var fontColor = labelOpts.color,\n          padding = labelOpts.padding;\n      var fontSize = labelFont.size;\n      var halfFontSize = fontSize / 2;\n      var cursor;\n      me.drawTitle();\n      ctx.textAlign = rtlHelper.textAlign('left');\n      ctx.textBaseline = 'middle';\n      ctx.lineWidth = 0.5;\n      ctx.font = labelFont.string;\n\n      var _getBoxSize2 = getBoxSize(labelOpts, fontSize),\n          boxWidth = _getBoxSize2.boxWidth,\n          boxHeight = _getBoxSize2.boxHeight,\n          itemHeight = _getBoxSize2.itemHeight;\n\n      var drawLegendBox = function drawLegendBox(x, y, legendItem) {\n        if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n          return;\n        }\n\n        ctx.save();\n        var lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n        ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n        if (labelOpts.usePointStyle) {\n          var drawOptions = {\n            radius: boxWidth * Math.SQRT2 / 2,\n            pointStyle: legendItem.pointStyle,\n            rotation: legendItem.rotation,\n            borderWidth: lineWidth\n          };\n          var centerX = rtlHelper.xPlus(x, boxWidth / 2);\n          var centerY = y + halfFontSize;\n          drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n          var yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n          var xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n          var borderRadius = toTRBLCorners(legendItem.borderRadius);\n          ctx.beginPath();\n\n          if (Object.values(borderRadius).some(function (v) {\n            return v !== 0;\n          })) {\n            addRoundedRectPath(ctx, {\n              x: xBoxLeft,\n              y: yBoxTop,\n              w: boxWidth,\n              h: boxHeight,\n              radius: borderRadius\n            });\n          } else {\n            ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n          }\n\n          ctx.fill();\n\n          if (lineWidth !== 0) {\n            ctx.stroke();\n          }\n        }\n\n        ctx.restore();\n      };\n\n      var fillText = function fillText(x, y, legendItem) {\n        renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n          strikethrough: legendItem.hidden,\n          textAlign: legendItem.textAlign\n        });\n      };\n\n      var isHorizontal = me.isHorizontal();\n\n      var titleHeight = this._computeTitleHeight();\n\n      if (isHorizontal) {\n        cursor = {\n          x: _alignStartEnd(align, me.left + padding, me.right - lineWidths[0]),\n          y: me.top + padding + titleHeight,\n          line: 0\n        };\n      } else {\n        cursor = {\n          x: me.left + padding,\n          y: _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - columnSizes[0].height),\n          line: 0\n        };\n      }\n\n      overrideTextDirection(me.ctx, opts.textDirection);\n      var lineHeight = itemHeight + padding;\n      me.legendItems.forEach(function (legendItem, i) {\n        ctx.strokeStyle = legendItem.fontColor || fontColor;\n        ctx.fillStyle = legendItem.fontColor || fontColor;\n        var textWidth = ctx.measureText(legendItem.text).width;\n        var textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n        var width = boxWidth + fontSize / 2 + textWidth;\n        var x = cursor.x;\n        var y = cursor.y;\n        rtlHelper.setWidth(me.width);\n\n        if (isHorizontal) {\n          if (i > 0 && x + width + padding > me.right) {\n            y = cursor.y += lineHeight;\n            cursor.line++;\n            x = cursor.x = _alignStartEnd(align, me.left + padding, me.right - lineWidths[cursor.line]);\n          }\n        } else if (i > 0 && y + lineHeight > me.bottom) {\n          x = cursor.x = x + columnSizes[cursor.line].width + padding;\n          cursor.line++;\n          y = cursor.y = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - columnSizes[cursor.line].height);\n        }\n\n        var realX = rtlHelper.x(x);\n        drawLegendBox(realX, y, legendItem);\n        x = _textX(textAlign, x + boxWidth + halfFontSize, me.right);\n        fillText(rtlHelper.x(x), y, legendItem);\n\n        if (isHorizontal) {\n          cursor.x += width + padding;\n        } else {\n          cursor.y += lineHeight;\n        }\n      });\n      restoreTextDirection(me.ctx, opts.textDirection);\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {\n      var me = this;\n      var opts = me.options;\n      var titleOpts = opts.title;\n      var titleFont = toFont(titleOpts.font);\n      var titlePadding = toPadding(titleOpts.padding);\n\n      if (!titleOpts.display) {\n        return;\n      }\n\n      var rtlHelper = getRtlAdapter(opts.rtl, me.left, me.width);\n      var ctx = me.ctx;\n      var position = titleOpts.position;\n      var halfFontSize = titleFont.size / 2;\n      var topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n      var y;\n      var left = me.left;\n      var maxWidth = me.width;\n\n      if (this.isHorizontal()) {\n        maxWidth = Math.max.apply(Math, _toConsumableArray(me.lineWidths));\n        y = me.top + topPaddingPlusHalfFontSize;\n        left = _alignStartEnd(opts.align, left, me.right - maxWidth);\n      } else {\n        var maxHeight = me.columnSizes.reduce(function (acc, size) {\n          return Math.max(acc, size.height);\n        }, 0);\n        y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, me.top, me.bottom - maxHeight - opts.labels.padding - me._computeTitleHeight());\n      }\n\n      var x = _alignStartEnd(position, left, left + maxWidth);\n\n      ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n      ctx.textBaseline = 'middle';\n      ctx.strokeStyle = titleOpts.color;\n      ctx.fillStyle = titleOpts.color;\n      ctx.font = titleFont.string;\n      renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n  }, {\n    key: \"_computeTitleHeight\",\n    value: function _computeTitleHeight() {\n      var titleOpts = this.options.title;\n      var titleFont = toFont(titleOpts.font);\n      var titlePadding = toPadding(titleOpts.padding);\n      return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n  }, {\n    key: \"_getLegendItemAt\",\n    value: function _getLegendItemAt(x, y) {\n      var me = this;\n      var i, hitBox, lh;\n\n      if (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\n        lh = me.legendHitBoxes;\n\n        for (i = 0; i < lh.length; ++i) {\n          hitBox = lh[i];\n\n          if (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n            return me.legendItems[i];\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e) {\n      var me = this;\n      var opts = me.options;\n\n      if (!isListened(e.type, opts)) {\n        return;\n      }\n\n      var hoveredItem = me._getLegendItemAt(e.x, e.y);\n\n      if (e.type === 'mousemove') {\n        var previous = me._hoveredItem;\n        var sameItem = itemsEqual(previous, hoveredItem);\n\n        if (previous && !sameItem) {\n          callback(opts.onLeave, [e, previous, me], me);\n        }\n\n        me._hoveredItem = hoveredItem;\n\n        if (hoveredItem && !sameItem) {\n          callback(opts.onHover, [e, hoveredItem, me], me);\n        }\n      } else if (hoveredItem) {\n        callback(opts.onClick, [e, hoveredItem, me], me);\n      }\n    }\n  }]);\n\n  return Legend;\n}(Element);\n\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n\n  return false;\n}\n\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start: function start(chart, _args, options) {\n    var legend = chart.legend = new Legend({\n      ctx: chart.ctx,\n      options: options,\n      chart: chart\n    });\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop: function stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate: function afterUpdate(chart) {\n    var legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent: function afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick: function onClick(e, legendItem, legend) {\n      var index = legendItem.datasetIndex;\n      var ci = legend.chart;\n\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: function color(ctx) {\n        return ctx.chart.options.color;\n      },\n      boxWidth: 40,\n      padding: 10,\n      generateLabels: function generateLabels(chart) {\n        var datasets = chart.data.datasets;\n        var _chart$legend$options = chart.legend.options.labels,\n            usePointStyle = _chart$legend$options.usePointStyle,\n            pointStyle = _chart$legend$options.pointStyle,\n            textAlign = _chart$legend$options.textAlign,\n            color = _chart$legend$options.color;\n        return chart._getSortedDatasetMetas().map(function (meta) {\n          var style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          var borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: function color(ctx) {\n        return ctx.chart.options.color;\n      },\n      display: false,\n      position: 'center',\n      text: ''\n    }\n  },\n  descriptors: {\n    _scriptable: function _scriptable(name) {\n      return !name.startsWith('on');\n    },\n    labels: {\n      _scriptable: function _scriptable(name) {\n        return !['generateLabels', 'filter', 'sort'].includes(name);\n      }\n    }\n  }\n};\n\nvar Title = /*#__PURE__*/function (_Element7) {\n  _inherits(Title, _Element7);\n\n  var _super17 = _createSuper(Title);\n\n  function Title(config) {\n    var _this12;\n\n    _classCallCheck(this, Title);\n\n    _this12 = _super17.call(this);\n    _this12.chart = config.chart;\n    _this12.options = config.options;\n    _this12.ctx = config.ctx;\n    _this12._padding = undefined;\n    _this12.top = undefined;\n    _this12.bottom = undefined;\n    _this12.left = undefined;\n    _this12.right = undefined;\n    _this12.width = undefined;\n    _this12.height = undefined;\n    _this12.position = undefined;\n    _this12.weight = undefined;\n    _this12.fullSize = undefined;\n    return _this12;\n  }\n\n  _createClass(Title, [{\n    key: \"update\",\n    value: function update(maxWidth, maxHeight) {\n      var me = this;\n      var opts = me.options;\n      me.left = 0;\n      me.top = 0;\n\n      if (!opts.display) {\n        me.width = me.height = me.right = me.bottom = 0;\n        return;\n      }\n\n      me.width = me.right = maxWidth;\n      me.height = me.bottom = maxHeight;\n      var lineCount = isArray(opts.text) ? opts.text.length : 1;\n      me._padding = toPadding(opts.padding);\n\n      var textSize = lineCount * toFont(opts.font).lineHeight + me._padding.height;\n\n      if (me.isHorizontal()) {\n        me.height = textSize;\n      } else {\n        me.width = textSize;\n      }\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      var pos = this.options.position;\n      return pos === 'top' || pos === 'bottom';\n    }\n  }, {\n    key: \"_drawArgs\",\n    value: function _drawArgs(offset) {\n      var top = this.top,\n          left = this.left,\n          bottom = this.bottom,\n          right = this.right,\n          options = this.options;\n      var align = options.align;\n      var rotation = 0;\n      var maxWidth, titleX, titleY;\n\n      if (this.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        titleY = top + offset;\n        maxWidth = right - left;\n      } else {\n        if (options.position === 'left') {\n          titleX = left + offset;\n          titleY = _alignStartEnd(align, bottom, top);\n          rotation = PI * -0.5;\n        } else {\n          titleX = right - offset;\n          titleY = _alignStartEnd(align, top, bottom);\n          rotation = PI * 0.5;\n        }\n\n        maxWidth = bottom - top;\n      }\n\n      return {\n        titleX: titleX,\n        titleY: titleY,\n        maxWidth: maxWidth,\n        rotation: rotation\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var me = this;\n      var ctx = me.ctx;\n      var opts = me.options;\n\n      if (!opts.display) {\n        return;\n      }\n\n      var fontOpts = toFont(opts.font);\n      var lineHeight = fontOpts.lineHeight;\n      var offset = lineHeight / 2 + me._padding.top;\n\n      var _me$_drawArgs = me._drawArgs(offset),\n          titleX = _me$_drawArgs.titleX,\n          titleY = _me$_drawArgs.titleY,\n          maxWidth = _me$_drawArgs.maxWidth,\n          rotation = _me$_drawArgs.rotation;\n\n      renderText(ctx, opts.text, 0, 0, fontOpts, {\n        color: opts.color,\n        maxWidth: maxWidth,\n        rotation: rotation,\n        textAlign: _toLeftRightCenter(opts.align),\n        textBaseline: 'middle',\n        translation: [titleX, titleY]\n      });\n    }\n  }]);\n\n  return Title;\n}(Element);\n\nfunction createTitle(chart, titleOpts) {\n  var title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart: chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start: function start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop: function stop(chart) {\n    var titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold'\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false\n  }\n};\nvar positioners = {\n  average: function average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    var i, len;\n    var x = 0;\n    var y = 0;\n    var count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      var el = items[i].element;\n\n      if (el && el.hasValue()) {\n        var pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest: function nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    var x = eventPosition.x;\n    var y = eventPosition.y;\n    var minDistance = Number.POSITIVE_INFINITY;\n    var i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      var el = items[i].element;\n\n      if (el && el.hasValue()) {\n        var center = el.getCenterPoint();\n        var d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      var tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n};\n\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n\n  return str;\n}\n\nfunction createTooltipItem(chart, item) {\n  var element = item.element,\n      datasetIndex = item.datasetIndex,\n      index = item.index;\n  var controller = chart.getDatasetMeta(datasetIndex).controller;\n\n  var _controller$getLabelA = controller.getLabelAndValue(index),\n      label = _controller$getLabelA.label,\n      value = _controller$getLabelA.value;\n\n  return {\n    chart: chart,\n    label: label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex: datasetIndex,\n    element: element\n  };\n}\n\nfunction getTooltipSize(tooltip, options) {\n  var ctx = tooltip._chart.ctx;\n  var body = tooltip.body,\n      footer = tooltip.footer,\n      title = tooltip.title;\n  var boxWidth = options.boxWidth,\n      boxHeight = options.boxHeight;\n  var bodyFont = toFont(options.bodyFont);\n  var titleFont = toFont(options.titleFont);\n  var footerFont = toFont(options.footerFont);\n  var titleLineCount = title.length;\n  var footerLineCount = footer.length;\n  var bodyLineItemCount = body.length;\n  var padding = toPadding(options.padding);\n  var height = padding.height;\n  var width = 0;\n  var combinedBodyLength = body.reduce(function (count, bodyItem) {\n    return count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\n  }, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n  }\n\n  if (combinedBodyLength) {\n    var bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n  }\n\n  if (footerLineCount) {\n    height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  var widthPadding = 0;\n\n  var maxLineWidth = function maxLineWidth(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? boxWidth + 2 : 0;\n  each(body, function (bodyItem) {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {\n    width: width,\n    height: height\n  };\n}\n\nfunction determineYAlign(chart, size) {\n  var y = size.y,\n      height = size.height;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > chart.height - height / 2) {\n    return 'bottom';\n  }\n\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  var x = size.x,\n      width = size.width;\n  var caret = options.caretSize + options.caretPadding;\n\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  var x = size.x,\n      width = size.width;\n  var chartWidth = chart.width,\n      _chart$chartArea = chart.chartArea,\n      left = _chart$chartArea.left,\n      right = _chart$chartArea.right;\n  var xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\nfunction determineAlignment(chart, options, size) {\n  var yAlign = options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign: yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  var x = size.x,\n      width = size.width;\n\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  var y = size.y,\n      height = size.height;\n\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= height / 2;\n  }\n\n  return y;\n}\n\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  var caretSize = options.caretSize,\n      caretPadding = options.caretPadding,\n      cornerRadius = options.cornerRadius;\n  var xAlign = alignment.xAlign,\n      yAlign = alignment.yAlign;\n  var paddingAndSize = caretSize + caretPadding;\n  var radiusAndPadding = cornerRadius + caretPadding;\n  var x = alignX(size, xAlign);\n  var y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= radiusAndPadding;\n  } else if (xAlign === 'right') {\n    x += radiusAndPadding;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  var padding = toPadding(options.padding);\n  return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return Object.assign(Object.create(parent), {\n    tooltip: tooltip,\n    tooltipItems: tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  var override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nvar Tooltip = /*#__PURE__*/function (_Element8) {\n  _inherits(Tooltip, _Element8);\n\n  var _super18 = _createSuper(Tooltip);\n\n  function Tooltip(config) {\n    var _this13;\n\n    _classCallCheck(this, Tooltip);\n\n    _this13 = _super18.call(this);\n    _this13.opacity = 0;\n    _this13._active = [];\n    _this13._chart = config._chart;\n    _this13._eventPosition = undefined;\n    _this13._size = undefined;\n    _this13._cachedAnimations = undefined;\n    _this13._tooltipItems = [];\n    _this13.$animations = undefined;\n    _this13.$context = undefined;\n    _this13.options = config.options;\n    _this13.dataPoints = undefined;\n    _this13.title = undefined;\n    _this13.beforeBody = undefined;\n    _this13.body = undefined;\n    _this13.afterBody = undefined;\n    _this13.footer = undefined;\n    _this13.xAlign = undefined;\n    _this13.yAlign = undefined;\n    _this13.x = undefined;\n    _this13.y = undefined;\n    _this13.height = undefined;\n    _this13.width = undefined;\n    _this13.caretX = undefined;\n    _this13.caretY = undefined;\n    _this13.labelColors = undefined;\n    _this13.labelPointStyles = undefined;\n    _this13.labelTextColors = undefined;\n    return _this13;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"initialize\",\n    value: function initialize(options) {\n      this.options = options;\n      this._cachedAnimations = undefined;\n      this.$context = undefined;\n    }\n  }, {\n    key: \"_resolveAnimations\",\n    value: function _resolveAnimations() {\n      var me = this;\n      var cached = me._cachedAnimations;\n\n      if (cached) {\n        return cached;\n      }\n\n      var chart = me._chart;\n      var options = me.options.setContext(me.getContext());\n      var opts = options.enabled && chart.options.animation && options.animations;\n      var animations = new Animations(me._chart, opts);\n\n      if (opts._cacheable) {\n        me._cachedAnimations = Object.freeze(animations);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      var me = this;\n      return me.$context || (me.$context = createTooltipContext(me._chart.getContext(), me, me._tooltipItems));\n    }\n  }, {\n    key: \"getTitle\",\n    value: function getTitle(context, options) {\n      var me = this;\n      var callbacks = options.callbacks;\n      var beforeTitle = callbacks.beforeTitle.apply(me, [context]);\n      var title = callbacks.title.apply(me, [context]);\n      var afterTitle = callbacks.afterTitle.apply(me, [context]);\n      var lines = [];\n      lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n      lines = pushOrConcat(lines, splitNewlines(title));\n      lines = pushOrConcat(lines, splitNewlines(afterTitle));\n      return lines;\n    }\n  }, {\n    key: \"getBeforeBody\",\n    value: function getBeforeBody(tooltipItems, options) {\n      return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody(tooltipItems, options) {\n      var me = this;\n      var callbacks = options.callbacks;\n      var bodyItems = [];\n      each(tooltipItems, function (context) {\n        var bodyItem = {\n          before: [],\n          lines: [],\n          after: []\n        };\n        var scoped = overrideCallbacks(callbacks, context);\n        pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(me, context)));\n        pushOrConcat(bodyItem.lines, scoped.label.call(me, context));\n        pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(me, context)));\n        bodyItems.push(bodyItem);\n      });\n      return bodyItems;\n    }\n  }, {\n    key: \"getAfterBody\",\n    value: function getAfterBody(tooltipItems, options) {\n      return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n    }\n  }, {\n    key: \"getFooter\",\n    value: function getFooter(tooltipItems, options) {\n      var me = this;\n      var callbacks = options.callbacks;\n      var beforeFooter = callbacks.beforeFooter.apply(me, [tooltipItems]);\n      var footer = callbacks.footer.apply(me, [tooltipItems]);\n      var afterFooter = callbacks.afterFooter.apply(me, [tooltipItems]);\n      var lines = [];\n      lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n      lines = pushOrConcat(lines, splitNewlines(footer));\n      lines = pushOrConcat(lines, splitNewlines(afterFooter));\n      return lines;\n    }\n  }, {\n    key: \"_createItems\",\n    value: function _createItems(options) {\n      var me = this;\n      var active = me._active;\n      var data = me._chart.data;\n      var labelColors = [];\n      var labelPointStyles = [];\n      var labelTextColors = [];\n      var tooltipItems = [];\n      var i, len;\n\n      for (i = 0, len = active.length; i < len; ++i) {\n        tooltipItems.push(createTooltipItem(me._chart, active[i]));\n      }\n\n      if (options.filter) {\n        tooltipItems = tooltipItems.filter(function (element, index, array) {\n          return options.filter(element, index, array, data);\n        });\n      }\n\n      if (options.itemSort) {\n        tooltipItems = tooltipItems.sort(function (a, b) {\n          return options.itemSort(a, b, data);\n        });\n      }\n\n      each(tooltipItems, function (context) {\n        var scoped = overrideCallbacks(options.callbacks, context);\n        labelColors.push(scoped.labelColor.call(me, context));\n        labelPointStyles.push(scoped.labelPointStyle.call(me, context));\n        labelTextColors.push(scoped.labelTextColor.call(me, context));\n      });\n      me.labelColors = labelColors;\n      me.labelPointStyles = labelPointStyles;\n      me.labelTextColors = labelTextColors;\n      me.dataPoints = tooltipItems;\n      return tooltipItems;\n    }\n  }, {\n    key: \"update\",\n    value: function update(changed, replay) {\n      var me = this;\n      var options = me.options.setContext(me.getContext());\n      var active = me._active;\n      var properties;\n      var tooltipItems = [];\n\n      if (!active.length) {\n        if (me.opacity !== 0) {\n          properties = {\n            opacity: 0\n          };\n        }\n      } else {\n        var position = positioners[options.position].call(me, active, me._eventPosition);\n        tooltipItems = me._createItems(options);\n        me.title = me.getTitle(tooltipItems, options);\n        me.beforeBody = me.getBeforeBody(tooltipItems, options);\n        me.body = me.getBody(tooltipItems, options);\n        me.afterBody = me.getAfterBody(tooltipItems, options);\n        me.footer = me.getFooter(tooltipItems, options);\n        var size = me._size = getTooltipSize(me, options);\n        var positionAndSize = Object.assign({}, position, size);\n        var alignment = determineAlignment(me._chart, options, positionAndSize);\n        var backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, me._chart);\n        me.xAlign = alignment.xAlign;\n        me.yAlign = alignment.yAlign;\n        properties = {\n          opacity: 1,\n          x: backgroundPoint.x,\n          y: backgroundPoint.y,\n          width: size.width,\n          height: size.height,\n          caretX: position.x,\n          caretY: position.y\n        };\n      }\n\n      me._tooltipItems = tooltipItems;\n      me.$context = undefined;\n\n      if (properties) {\n        me._resolveAnimations().update(me, properties);\n      }\n\n      if (changed && options.external) {\n        options.external.call(me, {\n          chart: me._chart,\n          tooltip: me,\n          replay: replay\n        });\n      }\n    }\n  }, {\n    key: \"drawCaret\",\n    value: function drawCaret(tooltipPoint, ctx, size, options) {\n      var caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n      ctx.lineTo(caretPosition.x1, caretPosition.y1);\n      ctx.lineTo(caretPosition.x2, caretPosition.y2);\n      ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n  }, {\n    key: \"getCaretPosition\",\n    value: function getCaretPosition(tooltipPoint, size, options) {\n      var xAlign = this.xAlign,\n          yAlign = this.yAlign;\n      var cornerRadius = options.cornerRadius,\n          caretSize = options.caretSize;\n      var ptX = tooltipPoint.x,\n          ptY = tooltipPoint.y;\n      var width = size.width,\n          height = size.height;\n      var x1, x2, x3, y1, y2, y3;\n\n      if (yAlign === 'center') {\n        y2 = ptY + height / 2;\n\n        if (xAlign === 'left') {\n          x1 = ptX;\n          x2 = x1 - caretSize;\n          y1 = y2 + caretSize;\n          y3 = y2 - caretSize;\n        } else {\n          x1 = ptX + width;\n          x2 = x1 + caretSize;\n          y1 = y2 - caretSize;\n          y3 = y2 + caretSize;\n        }\n\n        x3 = x1;\n      } else {\n        if (xAlign === 'left') {\n          x2 = ptX + cornerRadius + caretSize;\n        } else if (xAlign === 'right') {\n          x2 = ptX + width - cornerRadius - caretSize;\n        } else {\n          x2 = this.caretX;\n        }\n\n        if (yAlign === 'top') {\n          y1 = ptY;\n          y2 = y1 - caretSize;\n          x1 = x2 - caretSize;\n          x3 = x2 + caretSize;\n        } else {\n          y1 = ptY + height;\n          y2 = y1 + caretSize;\n          x1 = x2 + caretSize;\n          x3 = x2 - caretSize;\n        }\n\n        y3 = y1;\n      }\n\n      return {\n        x1: x1,\n        x2: x2,\n        x3: x3,\n        y1: y1,\n        y2: y2,\n        y3: y3\n      };\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle(pt, ctx, options) {\n      var me = this;\n      var title = me.title;\n      var length = title.length;\n      var titleFont, titleSpacing, i;\n\n      if (length) {\n        var rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n        pt.x = getAlignedX(me, options.titleAlign, options);\n        ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n        ctx.textBaseline = 'middle';\n        titleFont = toFont(options.titleFont);\n        titleSpacing = options.titleSpacing;\n        ctx.fillStyle = options.titleColor;\n        ctx.font = titleFont.string;\n\n        for (i = 0; i < length; ++i) {\n          ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n          pt.y += titleFont.lineHeight + titleSpacing;\n\n          if (i + 1 === length) {\n            pt.y += options.titleMarginBottom - titleSpacing;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_drawColorBox\",\n    value: function _drawColorBox(ctx, pt, i, rtlHelper, options) {\n      var me = this;\n      var labelColors = me.labelColors[i];\n      var labelPointStyle = me.labelPointStyles[i];\n      var boxHeight = options.boxHeight,\n          boxWidth = options.boxWidth;\n      var bodyFont = toFont(options.bodyFont);\n      var colorX = getAlignedX(me, 'left', options);\n      var rtlColorX = rtlHelper.x(colorX);\n      var yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n      var colorY = pt.y + yOffSet;\n\n      if (options.usePointStyle) {\n        var drawOptions = {\n          radius: Math.min(boxWidth, boxHeight) / 2,\n          pointStyle: labelPointStyle.pointStyle,\n          rotation: labelPointStyle.rotation,\n          borderWidth: 1\n        };\n        var centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n        var centerY = colorY + boxHeight / 2;\n        ctx.strokeStyle = options.multiKeyBackground;\n        ctx.fillStyle = options.multiKeyBackground;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n        ctx.strokeStyle = labelColors.borderColor;\n        ctx.fillStyle = labelColors.backgroundColor;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        ctx.lineWidth = labelColors.borderWidth || 1;\n        ctx.strokeStyle = labelColors.borderColor;\n        ctx.setLineDash(labelColors.borderDash || []);\n        ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n        var outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n        var innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n        var borderRadius = toTRBLCorners(labelColors.borderRadius);\n\n        if (Object.values(borderRadius).some(function (v) {\n          return v !== 0;\n        })) {\n          ctx.beginPath();\n          ctx.fillStyle = options.multiKeyBackground;\n          addRoundedRectPath(ctx, {\n            x: outerX,\n            y: colorY,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius\n          });\n          ctx.fill();\n          ctx.stroke();\n          ctx.fillStyle = labelColors.backgroundColor;\n          ctx.beginPath();\n          addRoundedRectPath(ctx, {\n            x: innerX,\n            y: colorY + 1,\n            w: boxWidth - 2,\n            h: boxHeight - 2,\n            radius: borderRadius\n          });\n          ctx.fill();\n        } else {\n          ctx.fillStyle = options.multiKeyBackground;\n          ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n          ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n          ctx.fillStyle = labelColors.backgroundColor;\n          ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n        }\n      }\n\n      ctx.fillStyle = me.labelTextColors[i];\n    }\n  }, {\n    key: \"drawBody\",\n    value: function drawBody(pt, ctx, options) {\n      var me = this;\n      var body = me.body;\n      var bodySpacing = options.bodySpacing,\n          bodyAlign = options.bodyAlign,\n          displayColors = options.displayColors,\n          boxHeight = options.boxHeight,\n          boxWidth = options.boxWidth;\n      var bodyFont = toFont(options.bodyFont);\n      var bodyLineHeight = bodyFont.lineHeight;\n      var xLinePadding = 0;\n      var rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n\n      var fillLineOfText = function fillLineOfText(line) {\n        ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n        pt.y += bodyLineHeight + bodySpacing;\n      };\n\n      var bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n      var bodyItem, textColor, lines, i, j, ilen, jlen;\n      ctx.textAlign = bodyAlign;\n      ctx.textBaseline = 'middle';\n      ctx.font = bodyFont.string;\n      pt.x = getAlignedX(me, bodyAlignForCalculation, options);\n      ctx.fillStyle = options.bodyColor;\n      each(me.beforeBody, fillLineOfText);\n      xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + 1 : boxWidth + 2 : 0;\n\n      for (i = 0, ilen = body.length; i < ilen; ++i) {\n        bodyItem = body[i];\n        textColor = me.labelTextColors[i];\n        ctx.fillStyle = textColor;\n        each(bodyItem.before, fillLineOfText);\n        lines = bodyItem.lines;\n\n        if (displayColors && lines.length) {\n          me._drawColorBox(ctx, pt, i, rtlHelper, options);\n\n          bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n        }\n\n        for (j = 0, jlen = lines.length; j < jlen; ++j) {\n          fillLineOfText(lines[j]);\n          bodyLineHeight = bodyFont.lineHeight;\n        }\n\n        each(bodyItem.after, fillLineOfText);\n      }\n\n      xLinePadding = 0;\n      bodyLineHeight = bodyFont.lineHeight;\n      each(me.afterBody, fillLineOfText);\n      pt.y -= bodySpacing;\n    }\n  }, {\n    key: \"drawFooter\",\n    value: function drawFooter(pt, ctx, options) {\n      var me = this;\n      var footer = me.footer;\n      var length = footer.length;\n      var footerFont, i;\n\n      if (length) {\n        var rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n        pt.x = getAlignedX(me, options.footerAlign, options);\n        pt.y += options.footerMarginTop;\n        ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n        ctx.textBaseline = 'middle';\n        footerFont = toFont(options.footerFont);\n        ctx.fillStyle = options.footerColor;\n        ctx.font = footerFont.string;\n\n        for (i = 0; i < length; ++i) {\n          ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n          pt.y += footerFont.lineHeight + options.footerSpacing;\n        }\n      }\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground(pt, ctx, tooltipSize, options) {\n      var xAlign = this.xAlign,\n          yAlign = this.yAlign;\n      var x = pt.x,\n          y = pt.y;\n      var width = tooltipSize.width,\n          height = tooltipSize.height;\n      var radius = options.cornerRadius;\n      ctx.fillStyle = options.backgroundColor;\n      ctx.strokeStyle = options.borderColor;\n      ctx.lineWidth = options.borderWidth;\n      ctx.beginPath();\n      ctx.moveTo(x + radius, y);\n\n      if (yAlign === 'top') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + width - radius, y);\n      ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\n      if (yAlign === 'center' && xAlign === 'right') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + width, y + height - radius);\n      ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\n      if (yAlign === 'bottom') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + radius, y + height);\n      ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\n      if (yAlign === 'center' && xAlign === 'left') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x, y + radius);\n      ctx.quadraticCurveTo(x, y, x + radius, y);\n      ctx.closePath();\n      ctx.fill();\n\n      if (options.borderWidth > 0) {\n        ctx.stroke();\n      }\n    }\n  }, {\n    key: \"_updateAnimationTarget\",\n    value: function _updateAnimationTarget(options) {\n      var me = this;\n      var chart = me._chart;\n      var anims = me.$animations;\n      var animX = anims && anims.x;\n      var animY = anims && anims.y;\n\n      if (animX || animY) {\n        var position = positioners[options.position].call(me, me._active, me._eventPosition);\n\n        if (!position) {\n          return;\n        }\n\n        var size = me._size = getTooltipSize(me, options);\n        var positionAndSize = Object.assign({}, position, me._size);\n        var alignment = determineAlignment(chart, options, positionAndSize);\n        var point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n\n        if (animX._to !== point.x || animY._to !== point.y) {\n          me.xAlign = alignment.xAlign;\n          me.yAlign = alignment.yAlign;\n          me.width = size.width;\n          me.height = size.height;\n          me.caretX = position.x;\n          me.caretY = position.y;\n\n          me._resolveAnimations().update(me, point);\n        }\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var me = this;\n      var options = me.options.setContext(me.getContext());\n      var opacity = me.opacity;\n\n      if (!opacity) {\n        return;\n      }\n\n      me._updateAnimationTarget(options);\n\n      var tooltipSize = {\n        width: me.width,\n        height: me.height\n      };\n      var pt = {\n        x: me.x,\n        y: me.y\n      };\n      opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n      var padding = toPadding(options.padding);\n      var hasTooltipContent = me.title.length || me.beforeBody.length || me.body.length || me.afterBody.length || me.footer.length;\n\n      if (options.enabled && hasTooltipContent) {\n        ctx.save();\n        ctx.globalAlpha = opacity;\n        me.drawBackground(pt, ctx, tooltipSize, options);\n        overrideTextDirection(ctx, options.textDirection);\n        pt.y += padding.top;\n        me.drawTitle(pt, ctx, options);\n        me.drawBody(pt, ctx, options);\n        me.drawFooter(pt, ctx, options);\n        restoreTextDirection(ctx, options.textDirection);\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"getActiveElements\",\n    value: function getActiveElements() {\n      return this._active || [];\n    }\n  }, {\n    key: \"setActiveElements\",\n    value: function setActiveElements(activeElements, eventPosition) {\n      var me = this;\n      var lastActive = me._active;\n      var active = activeElements.map(function (_ref7) {\n        var datasetIndex = _ref7.datasetIndex,\n            index = _ref7.index;\n\n        var meta = me._chart.getDatasetMeta(datasetIndex);\n\n        if (!meta) {\n          throw new Error('Cannot find a dataset at index ' + datasetIndex);\n        }\n\n        return {\n          datasetIndex: datasetIndex,\n          element: meta.data[index],\n          index: index\n        };\n      });\n      var changed = !_elementsEqual(lastActive, active);\n\n      var positionChanged = me._positionChanged(active, eventPosition);\n\n      if (changed || positionChanged) {\n        me._active = active;\n        me._eventPosition = eventPosition;\n        me.update(true);\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e, replay) {\n      var me = this;\n      var options = me.options;\n      var lastActive = me._active || [];\n      var changed = false;\n      var active = [];\n\n      if (e.type !== 'mouseout') {\n        active = me._chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n        if (options.reverse) {\n          active.reverse();\n        }\n      }\n\n      var positionChanged = me._positionChanged(active, e);\n\n      changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n      if (changed) {\n        me._active = active;\n\n        if (options.enabled || options.external) {\n          me._eventPosition = {\n            x: e.x,\n            y: e.y\n          };\n          me.update(true, replay);\n        }\n      }\n\n      return changed;\n    }\n  }, {\n    key: \"_positionChanged\",\n    value: function _positionChanged(active, e) {\n      var caretX = this.caretX,\n          caretY = this.caretY,\n          options = this.options;\n      var position = positioners[options.position].call(this, active, e);\n      return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n  }]);\n\n  return Tooltip;\n}(Element);\n\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners: positioners,\n  afterInit: function afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({\n        _chart: chart,\n        options: options\n      });\n    }\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset: function reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw: function afterDraw(chart) {\n    var tooltip = chart.tooltip;\n    var args = {\n      tooltip: tooltip\n    };\n\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent: function afterEvent(chart, args) {\n    if (chart.tooltip) {\n      var useFinalPosition = args.replay;\n\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold'\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {},\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold'\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: function boxHeight(ctx, opts) {\n      return opts.bodyFont.size;\n    },\n    boxWidth: function boxWidth(ctx, opts) {\n      return opts.bodyFont.size;\n    },\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart'\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY']\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title: function title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          var item = tooltipItems[0];\n          var labels = item.chart.data.labels;\n          var labelCount = labels ? labels.length : 0;\n\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label: function label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n\n        var label = tooltipItem.dataset.label || '';\n\n        if (label) {\n          label += ': ';\n        }\n\n        var value = tooltipItem.formattedValue;\n\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n\n        return label;\n      },\n      labelColor: function labelColor(tooltipItem) {\n        var meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        var options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0\n        };\n      },\n      labelTextColor: function labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle: function labelPointStyle(tooltipItem) {\n        var meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        var options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: function _scriptable(name) {\n      return name !== 'filter' && name !== 'itemSort' && name !== 'external';\n    },\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\nvar plugins = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Decimation: plugin_decimation,\n  Filler: plugin_filler,\n  Legend: plugin_legend,\n  Title: plugin_title,\n  Tooltip: plugin_tooltip\n});\n\nvar addIfString = function addIfString(labels, raw, index) {\n  return typeof raw === 'string' ? labels.push(raw) - 1 : isNaN(raw) ? null : index;\n};\n\nfunction findOrAddLabel(labels, raw, index) {\n  var first = labels.indexOf(raw);\n\n  if (first === -1) {\n    return addIfString(labels, raw, index);\n  }\n\n  var last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nvar validIndex = function validIndex(index, max) {\n  return index === null ? null : _limitValue(Math.round(index), 0, max);\n};\n\nvar CategoryScale = /*#__PURE__*/function (_Scale) {\n  _inherits(CategoryScale, _Scale);\n\n  var _super19 = _createSuper(CategoryScale);\n\n  function CategoryScale(cfg) {\n    var _this14;\n\n    _classCallCheck(this, CategoryScale);\n\n    _this14 = _super19.call(this, cfg);\n    _this14._startValue = undefined;\n    _this14._valueRange = 0;\n    return _this14;\n  }\n\n  _createClass(CategoryScale, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (isNullOrUndef(raw)) {\n        return null;\n      }\n\n      var labels = this.getLabels();\n      index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw));\n      return validIndex(index, labels.length - 1);\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n\n      var _me$getUserBounds2 = me.getUserBounds(),\n          minDefined = _me$getUserBounds2.minDefined,\n          maxDefined = _me$getUserBounds2.maxDefined;\n\n      var _me$getMinMax = me.getMinMax(true),\n          min = _me$getMinMax.min,\n          max = _me$getMinMax.max;\n\n      if (me.options.bounds === 'ticks') {\n        if (!minDefined) {\n          min = 0;\n        }\n\n        if (!maxDefined) {\n          max = me.getLabels().length - 1;\n        }\n      }\n\n      me.min = min;\n      me.max = max;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var me = this;\n      var min = me.min;\n      var max = me.max;\n      var offset = me.options.offset;\n      var ticks = [];\n      var labels = me.getLabels();\n      labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n      me._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n      me._startValue = me.min - (offset ? 0.5 : 0);\n\n      for (var value = min; value <= max; value++) {\n        ticks.push({\n          value: value\n        });\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      var me = this;\n      var labels = me.getLabels();\n\n      if (value >= 0 && value < labels.length) {\n        return labels[value];\n      }\n\n      return value;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n\n      _get(_getPrototypeOf(CategoryScale.prototype), \"configure\", this).call(this);\n\n      if (!me.isHorizontal()) {\n        me._reversePixels = !me._reversePixels;\n      }\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      var me = this;\n\n      if (typeof value !== 'number') {\n        value = me.parse(value);\n      }\n\n      return value === null ? NaN : me.getPixelForDecimal((value - me._startValue) / me._valueRange);\n    }\n  }, {\n    key: \"getPixelForTick\",\n    value: function getPixelForTick(index) {\n      var me = this;\n      var ticks = me.ticks;\n\n      if (index < 0 || index > ticks.length - 1) {\n        return null;\n      }\n\n      return me.getPixelForValue(ticks[index].value);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var me = this;\n      return Math.round(me._startValue + me.getDecimalForPixel(pixel) * me._valueRange);\n    }\n  }, {\n    key: \"getBasePixel\",\n    value: function getBasePixel() {\n      return this.bottom;\n    }\n  }]);\n\n  return CategoryScale;\n}(Scale);\n\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  var ticks = [];\n  var MIN_SPACING = 1e-14;\n  var step = generationOptions.step,\n      min = generationOptions.min,\n      max = generationOptions.max,\n      precision = generationOptions.precision,\n      count = generationOptions.count,\n      maxTicks = generationOptions.maxTicks,\n      maxDigits = generationOptions.maxDigits,\n      horizontal = generationOptions.horizontal;\n  var unit = step || 1;\n  var maxSpaces = maxTicks - 1;\n  var rmin = dataRange.min,\n      rmax = dataRange.max;\n  var minDefined = !isNullOrUndef(min);\n  var maxDefined = !isNullOrUndef(max);\n  var countDefined = !isNullOrUndef(count);\n  var minSpacing = (rmax - rmin) / maxDigits;\n  var spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  var factor, niceMin, niceMax, numSpaces;\n\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{\n      value: rmin\n    }, {\n      value: rmax\n    }];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  niceMin = Math.floor(rmin / spacing) * spacing;\n  niceMax = Math.ceil(rmax / spacing) * spacing;\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.min((max - min) / spacing, maxTicks);\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  factor = Math.pow(10, isNullOrUndef(precision) ? _decimalPlaces(spacing) : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  var j = 0;\n\n  if (minDefined) {\n    ticks.push({\n      value: min\n    });\n\n    if (niceMin <= min) {\n      j++;\n    }\n\n    if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, minSpacing * (horizontal ? ('' + min).length : 1))) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    ticks.push({\n      value: Math.round((niceMin + j * spacing) * factor) / factor\n    });\n  }\n\n  if (maxDefined) {\n    if (almostEquals(ticks[ticks.length - 1].value, max, minSpacing * (horizontal ? ('' + max).length : 1))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({\n        value: max\n      });\n    }\n  } else {\n    ticks.push({\n      value: niceMax\n    });\n  }\n\n  return ticks;\n}\n\nvar LinearScaleBase = /*#__PURE__*/function (_Scale2) {\n  _inherits(LinearScaleBase, _Scale2);\n\n  var _super20 = _createSuper(LinearScaleBase);\n\n  function LinearScaleBase(cfg) {\n    var _this15;\n\n    _classCallCheck(this, LinearScaleBase);\n\n    _this15 = _super20.call(this, cfg);\n    _this15.start = undefined;\n    _this15.end = undefined;\n    _this15._startValue = undefined;\n    _this15._endValue = undefined;\n    _this15._valueRange = 0;\n    return _this15;\n  }\n\n  _createClass(LinearScaleBase, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (isNullOrUndef(raw)) {\n        return null;\n      }\n\n      if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n        return null;\n      }\n\n      return +raw;\n    }\n  }, {\n    key: \"handleTickRangeOptions\",\n    value: function handleTickRangeOptions() {\n      var me = this;\n      var _me$options7 = me.options,\n          beginAtZero = _me$options7.beginAtZero,\n          stacked = _me$options7.stacked;\n\n      var _me$getUserBounds3 = me.getUserBounds(),\n          minDefined = _me$getUserBounds3.minDefined,\n          maxDefined = _me$getUserBounds3.maxDefined;\n\n      var min = me.min,\n          max = me.max;\n\n      var setMin = function setMin(v) {\n        return min = minDefined ? min : v;\n      };\n\n      var setMax = function setMax(v) {\n        return max = maxDefined ? max : v;\n      };\n\n      if (beginAtZero || stacked) {\n        var minSign = sign(min);\n        var maxSign = sign(max);\n\n        if (minSign < 0 && maxSign < 0) {\n          setMax(0);\n        } else if (minSign > 0 && maxSign > 0) {\n          setMin(0);\n        }\n      }\n\n      if (min === max) {\n        setMax(max + 1);\n\n        if (!beginAtZero) {\n          setMin(min - 1);\n        }\n      }\n\n      me.min = min;\n      me.max = max;\n    }\n  }, {\n    key: \"getTickLimit\",\n    value: function getTickLimit() {\n      var me = this;\n      var tickOpts = me.options.ticks;\n      var maxTicksLimit = tickOpts.maxTicksLimit,\n          stepSize = tickOpts.stepSize;\n      var maxTicks;\n\n      if (stepSize) {\n        maxTicks = Math.ceil(me.max / stepSize) - Math.floor(me.min / stepSize) + 1;\n      } else {\n        maxTicks = me.computeTickLimit();\n        maxTicksLimit = maxTicksLimit || 11;\n      }\n\n      if (maxTicksLimit) {\n        maxTicks = Math.min(maxTicksLimit, maxTicks);\n      }\n\n      return maxTicks;\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      return Number.POSITIVE_INFINITY;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var me = this;\n      var opts = me.options;\n      var tickOpts = opts.ticks;\n      var maxTicks = me.getTickLimit();\n      maxTicks = Math.max(2, maxTicks);\n      var numericGeneratorOptions = {\n        maxTicks: maxTicks,\n        min: opts.min,\n        max: opts.max,\n        precision: tickOpts.precision,\n        step: tickOpts.stepSize,\n        count: tickOpts.count,\n        maxDigits: me._maxDigits(),\n        horizontal: me.isHorizontal()\n      };\n      var dataRange = me._range || me;\n      var ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n\n      if (opts.bounds === 'ticks') {\n        _setMinAndMaxByKey(ticks, me, 'value');\n      }\n\n      if (opts.reverse) {\n        ticks.reverse();\n        me.start = me.max;\n        me.end = me.min;\n      } else {\n        me.start = me.min;\n        me.end = me.max;\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n      var ticks = me.ticks;\n      var start = me.min;\n      var end = me.max;\n\n      _get(_getPrototypeOf(LinearScaleBase.prototype), \"configure\", this).call(this);\n\n      if (me.options.offset && ticks.length) {\n        var offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n        start -= offset;\n        end += offset;\n      }\n\n      me._startValue = start;\n      me._endValue = end;\n      me._valueRange = end - start;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return formatNumber(value, this.chart.options.locale);\n    }\n  }]);\n\n  return LinearScaleBase;\n}(Scale);\n\nvar LinearScale = /*#__PURE__*/function (_LinearScaleBase) {\n  _inherits(LinearScale, _LinearScaleBase);\n\n  var _super21 = _createSuper(LinearScale);\n\n  function LinearScale() {\n    _classCallCheck(this, LinearScale);\n\n    return _super21.apply(this, arguments);\n  }\n\n  _createClass(LinearScale, [{\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n\n      var _me$getMinMax2 = me.getMinMax(true),\n          min = _me$getMinMax2.min,\n          max = _me$getMinMax2.max;\n\n      me.min = isNumberFinite(min) ? min : 0;\n      me.max = isNumberFinite(max) ? max : 1;\n      me.handleTickRangeOptions();\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      var me = this;\n\n      if (me.isHorizontal()) {\n        return Math.ceil(me.width / 40);\n      }\n\n      var tickFont = me._resolveTickFontOptions(0);\n\n      return Math.ceil(me.height / tickFont.lineHeight);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n  }]);\n\n  return LinearScale;\n}(LinearScaleBase);\n\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  var remain = tickVal / Math.pow(10, Math.floor(log10(tickVal)));\n  return remain === 1;\n}\n\nfunction generateTicks(generationOptions, dataRange) {\n  var endExp = Math.floor(log10(dataRange.max));\n  var endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  var ticks = [];\n  var tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  var exp = Math.floor(log10(tickVal));\n  var significand = Math.floor(tickVal / Math.pow(10, exp));\n  var precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n\n  do {\n    ticks.push({\n      value: tickVal,\n      major: isMajor(tickVal)\n    });\n    ++significand;\n\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || exp === endExp && significand < endSignificand);\n\n  var lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({\n    value: lastTick,\n    major: isMajor(tickVal)\n  });\n  return ticks;\n}\n\nvar LogarithmicScale = /*#__PURE__*/function (_Scale3) {\n  _inherits(LogarithmicScale, _Scale3);\n\n  var _super22 = _createSuper(LogarithmicScale);\n\n  function LogarithmicScale(cfg) {\n    var _this16;\n\n    _classCallCheck(this, LogarithmicScale);\n\n    _this16 = _super22.call(this, cfg);\n    _this16.start = undefined;\n    _this16.end = undefined;\n    _this16._startValue = undefined;\n    _this16._valueRange = 0;\n    return _this16;\n  }\n\n  _createClass(LogarithmicScale, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      var value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n\n      if (value === 0) {\n        this._zero = true;\n        return undefined;\n      }\n\n      return isNumberFinite(value) && value > 0 ? value : null;\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n\n      var _me$getMinMax3 = me.getMinMax(true),\n          min = _me$getMinMax3.min,\n          max = _me$getMinMax3.max;\n\n      me.min = isNumberFinite(min) ? Math.max(0, min) : null;\n      me.max = isNumberFinite(max) ? Math.max(0, max) : null;\n\n      if (me.options.beginAtZero) {\n        me._zero = true;\n      }\n\n      me.handleTickRangeOptions();\n    }\n  }, {\n    key: \"handleTickRangeOptions\",\n    value: function handleTickRangeOptions() {\n      var me = this;\n\n      var _me$getUserBounds4 = me.getUserBounds(),\n          minDefined = _me$getUserBounds4.minDefined,\n          maxDefined = _me$getUserBounds4.maxDefined;\n\n      var min = me.min;\n      var max = me.max;\n\n      var setMin = function setMin(v) {\n        return min = minDefined ? min : v;\n      };\n\n      var setMax = function setMax(v) {\n        return max = maxDefined ? max : v;\n      };\n\n      var exp = function exp(v, m) {\n        return Math.pow(10, Math.floor(log10(v)) + m);\n      };\n\n      if (min === max) {\n        if (min <= 0) {\n          setMin(1);\n          setMax(10);\n        } else {\n          setMin(exp(min, -1));\n          setMax(exp(max, +1));\n        }\n      }\n\n      if (min <= 0) {\n        setMin(exp(max, -1));\n      }\n\n      if (max <= 0) {\n        setMax(exp(min, +1));\n      }\n\n      if (me._zero && me.min !== me._suggestedMin && min === exp(me.min, 0)) {\n        setMin(exp(min, -1));\n      }\n\n      me.min = min;\n      me.max = max;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var me = this;\n      var opts = me.options;\n      var generationOptions = {\n        min: me._userMin,\n        max: me._userMax\n      };\n      var ticks = generateTicks(generationOptions, me);\n\n      if (opts.bounds === 'ticks') {\n        _setMinAndMaxByKey(ticks, me, 'value');\n      }\n\n      if (opts.reverse) {\n        ticks.reverse();\n        me.start = me.max;\n        me.end = me.min;\n      } else {\n        me.start = me.min;\n        me.end = me.max;\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return value === undefined ? '0' : formatNumber(value, this.chart.options.locale);\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var me = this;\n      var start = me.min;\n\n      _get(_getPrototypeOf(LogarithmicScale.prototype), \"configure\", this).call(this);\n\n      me._startValue = log10(start);\n      me._valueRange = log10(me.max) - log10(start);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      var me = this;\n\n      if (value === undefined || value === 0) {\n        value = me.min;\n      }\n\n      if (value === null || isNaN(value)) {\n        return NaN;\n      }\n\n      return me.getPixelForDecimal(value === me.min ? 0 : (log10(value) - me._startValue) / me._valueRange);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var me = this;\n      var decimal = me.getDecimalForPixel(pixel);\n      return Math.pow(10, me._startValue + decimal * me._valueRange);\n    }\n  }]);\n\n  return LogarithmicScale;\n}(Scale);\n\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  var tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    var padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n\n  return 0;\n}\n\nfunction measureLabelSize(ctx, lineHeight, label) {\n  if (isArray(label)) {\n    return {\n      w: _longestText(ctx, ctx.font, label),\n      h: label.length * lineHeight\n    };\n  }\n\n  return {\n    w: ctx.measureText(label).width,\n    h: lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - size / 2,\n      end: pos + size / 2\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\nfunction fitWithPointLabels(scale) {\n  var furthestLimits = {\n    l: 0,\n    r: scale.width,\n    t: 0,\n    b: scale.height - scale.paddingTop\n  };\n  var furthestAngles = {};\n  var i, textSize, pointPosition;\n  var labelSizes = [];\n  var padding = [];\n  var valueCount = scale.getLabels().length;\n\n  for (i = 0; i < valueCount; i++) {\n    var _opts = scale.options.pointLabels.setContext(scale.getContext(i));\n\n    padding[i] = _opts.padding;\n    pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i]);\n    var plFont = toFont(_opts.font);\n    scale.ctx.font = plFont.string;\n    textSize = measureLabelSize(scale.ctx, plFont.lineHeight, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    var angleRadians = scale.getIndexAngle(i);\n    var angle = toDegrees(angleRadians);\n    var hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    var vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n\n    if (hLimits.start < furthestLimits.l) {\n      furthestLimits.l = hLimits.start;\n      furthestAngles.l = angleRadians;\n    }\n\n    if (hLimits.end > furthestLimits.r) {\n      furthestLimits.r = hLimits.end;\n      furthestAngles.r = angleRadians;\n    }\n\n    if (vLimits.start < furthestLimits.t) {\n      furthestLimits.t = vLimits.start;\n      furthestAngles.t = angleRadians;\n    }\n\n    if (vLimits.end > furthestLimits.b) {\n      furthestLimits.b = vLimits.end;\n      furthestAngles.b = angleRadians;\n    }\n  }\n\n  scale._setReductions(scale.drawingArea, furthestLimits, furthestAngles);\n\n  scale._pointLabelItems = [];\n  var opts = scale.options;\n  var tickBackdropHeight = getTickBackdropHeight(opts);\n  var outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\n\n  for (i = 0; i < valueCount; i++) {\n    var extra = i === 0 ? tickBackdropHeight / 2 : 0;\n    var pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i]);\n\n    var _angle = toDegrees(scale.getIndexAngle(i));\n\n    var size = labelSizes[i];\n    adjustPointPositionForLabelHeight(_angle, size, pointLabelPosition);\n    var textAlign = getTextAlignForAngle(_angle);\n    var left = void 0;\n\n    if (textAlign === 'left') {\n      left = pointLabelPosition.x;\n    } else if (textAlign === 'center') {\n      left = pointLabelPosition.x - size.w / 2;\n    } else {\n      left = pointLabelPosition.x - size.w;\n    }\n\n    var right = left + size.w;\n    scale._pointLabelItems[i] = {\n      x: pointLabelPosition.x,\n      y: pointLabelPosition.y,\n      textAlign: textAlign,\n      left: left,\n      top: pointLabelPosition.y,\n      right: right,\n      bottom: pointLabelPosition.y + size.h\n    };\n  }\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\n  if (angle === 90 || angle === 270) {\n    position.y -= textSize.h / 2;\n  } else if (angle > 270 || angle < 90) {\n    position.y -= textSize.h;\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  var ctx = scale.ctx,\n      pointLabels = scale.options.pointLabels;\n\n  for (var i = labelCount - 1; i >= 0; i--) {\n    var optsAtIndex = pointLabels.setContext(scale.getContext(i));\n    var plFont = toFont(optsAtIndex.font);\n    var _scale$_pointLabelIte = scale._pointLabelItems[i],\n        x = _scale$_pointLabelIte.x,\n        y = _scale$_pointLabelIte.y,\n        textAlign = _scale$_pointLabelIte.textAlign,\n        left = _scale$_pointLabelIte.left,\n        top = _scale$_pointLabelIte.top,\n        right = _scale$_pointLabelIte.right,\n        bottom = _scale$_pointLabelIte.bottom;\n    var backdropColor = optsAtIndex.backdropColor;\n\n    if (!isNullOrUndef(backdropColor)) {\n      var padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n\n    renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n      color: optsAtIndex.color,\n      textAlign: textAlign,\n      textBaseline: 'middle'\n    });\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  var ctx = scale.ctx;\n\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    var pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (var i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  var ctx = scale.ctx;\n  var circular = gridLineOpts.circular;\n  var color = gridLineOpts.color,\n      lineWidth = gridLineOpts.lineWidth;\n\n  if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction numberOrZero(param) {\n  return isNumber(param) ? param : 0;\n}\n\nvar RadialLinearScale = /*#__PURE__*/function (_LinearScaleBase2) {\n  _inherits(RadialLinearScale, _LinearScaleBase2);\n\n  var _super23 = _createSuper(RadialLinearScale);\n\n  function RadialLinearScale(cfg) {\n    var _this17;\n\n    _classCallCheck(this, RadialLinearScale);\n\n    _this17 = _super23.call(this, cfg);\n    _this17.xCenter = undefined;\n    _this17.yCenter = undefined;\n    _this17.drawingArea = undefined;\n    _this17._pointLabels = [];\n    _this17._pointLabelItems = [];\n    return _this17;\n  }\n\n  _createClass(RadialLinearScale, [{\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      var me = this;\n      me.width = me.maxWidth;\n      me.height = me.maxHeight;\n      me.paddingTop = getTickBackdropHeight(me.options) / 2;\n      me.xCenter = Math.floor(me.width / 2);\n      me.yCenter = Math.floor((me.height - me.paddingTop) / 2);\n      me.drawingArea = Math.min(me.height - me.paddingTop, me.width) / 2;\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n\n      var _me$getMinMax4 = me.getMinMax(false),\n          min = _me$getMinMax4.min,\n          max = _me$getMinMax4.max;\n\n      me.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n      me.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n      me.handleTickRangeOptions();\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var me = this;\n      LinearScaleBase.prototype.generateTickLabels.call(me, ticks);\n      me._pointLabels = me.getLabels().map(function (value, index) {\n        var label = callback(me.options.pointLabels.callback, [value, index], me);\n        return label || label === 0 ? label : '';\n      });\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var me = this;\n      var opts = me.options;\n\n      if (opts.display && opts.pointLabels.display) {\n        fitWithPointLabels(me);\n      } else {\n        me.setCenterPoint(0, 0, 0, 0);\n      }\n    }\n  }, {\n    key: \"_setReductions\",\n    value: function _setReductions(largestPossibleRadius, furthestLimits, furthestAngles) {\n      var me = this;\n      var radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\n      var radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\n      var radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\n      var radiusReductionBottom = -Math.max(furthestLimits.b - (me.height - me.paddingTop), 0) / Math.cos(furthestAngles.b);\n      radiusReductionLeft = numberOrZero(radiusReductionLeft);\n      radiusReductionRight = numberOrZero(radiusReductionRight);\n      radiusReductionTop = numberOrZero(radiusReductionTop);\n      radiusReductionBottom = numberOrZero(radiusReductionBottom);\n      me.drawingArea = Math.max(largestPossibleRadius / 2, Math.min(Math.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2), Math.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2)));\n      me.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\n    }\n  }, {\n    key: \"setCenterPoint\",\n    value: function setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n      var me = this;\n      var maxRight = me.width - rightMovement - me.drawingArea;\n      var maxLeft = leftMovement + me.drawingArea;\n      var maxTop = topMovement + me.drawingArea;\n      var maxBottom = me.height - me.paddingTop - bottomMovement - me.drawingArea;\n      me.xCenter = Math.floor((maxLeft + maxRight) / 2 + me.left);\n      me.yCenter = Math.floor((maxTop + maxBottom) / 2 + me.top + me.paddingTop);\n    }\n  }, {\n    key: \"getIndexAngle\",\n    value: function getIndexAngle(index) {\n      var angleMultiplier = TAU / this.getLabels().length;\n      var startAngle = this.options.startAngle || 0;\n      return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n  }, {\n    key: \"getDistanceFromCenterForValue\",\n    value: function getDistanceFromCenterForValue(value) {\n      var me = this;\n\n      if (isNullOrUndef(value)) {\n        return NaN;\n      }\n\n      var scalingFactor = me.drawingArea / (me.max - me.min);\n\n      if (me.options.reverse) {\n        return (me.max - value) * scalingFactor;\n      }\n\n      return (value - me.min) * scalingFactor;\n    }\n  }, {\n    key: \"getValueForDistanceFromCenter\",\n    value: function getValueForDistanceFromCenter(distance) {\n      if (isNullOrUndef(distance)) {\n        return NaN;\n      }\n\n      var me = this;\n      var scaledDistance = distance / (me.drawingArea / (me.max - me.min));\n      return me.options.reverse ? me.max - scaledDistance : me.min + scaledDistance;\n    }\n  }, {\n    key: \"getPointPosition\",\n    value: function getPointPosition(index, distanceFromCenter) {\n      var me = this;\n      var angle = me.getIndexAngle(index) - HALF_PI;\n      return {\n        x: Math.cos(angle) * distanceFromCenter + me.xCenter,\n        y: Math.sin(angle) * distanceFromCenter + me.yCenter,\n        angle: angle\n      };\n    }\n  }, {\n    key: \"getPointPositionForValue\",\n    value: function getPointPositionForValue(index, value) {\n      return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n  }, {\n    key: \"getBasePosition\",\n    value: function getBasePosition(index) {\n      return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n  }, {\n    key: \"getPointLabelPosition\",\n    value: function getPointLabelPosition(index) {\n      var _this$_pointLabelItem = this._pointLabelItems[index],\n          left = _this$_pointLabelItem.left,\n          top = _this$_pointLabelItem.top,\n          right = _this$_pointLabelItem.right,\n          bottom = _this$_pointLabelItem.bottom;\n      return {\n        left: left,\n        top: top,\n        right: right,\n        bottom: bottom\n      };\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground() {\n      var me = this;\n      var _me$options8 = me.options,\n          backgroundColor = _me$options8.backgroundColor,\n          circular = _me$options8.grid.circular;\n\n      if (backgroundColor) {\n        var ctx = me.ctx;\n        ctx.save();\n        ctx.beginPath();\n        pathRadiusLine(me, me.getDistanceFromCenterForValue(me._endValue), circular, me.getLabels().length);\n        ctx.closePath();\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"drawGrid\",\n    value: function drawGrid() {\n      var me = this;\n      var ctx = me.ctx;\n      var opts = me.options;\n      var angleLines = opts.angleLines,\n          grid = opts.grid;\n      var labelCount = me.getLabels().length;\n      var i, offset, position;\n\n      if (opts.pointLabels.display) {\n        drawPointLabels(me, labelCount);\n      }\n\n      if (grid.display) {\n        me.ticks.forEach(function (tick, index) {\n          if (index !== 0) {\n            offset = me.getDistanceFromCenterForValue(tick.value);\n            var optsAtIndex = grid.setContext(me.getContext(index - 1));\n            drawRadiusLine(me, optsAtIndex, offset, labelCount);\n          }\n        });\n      }\n\n      if (angleLines.display) {\n        ctx.save();\n\n        for (i = me.getLabels().length - 1; i >= 0; i--) {\n          var optsAtIndex = angleLines.setContext(me.getContext(i));\n          var color = optsAtIndex.color,\n              lineWidth = optsAtIndex.lineWidth;\n\n          if (!lineWidth || !color) {\n            continue;\n          }\n\n          ctx.lineWidth = lineWidth;\n          ctx.strokeStyle = color;\n          ctx.setLineDash(optsAtIndex.borderDash);\n          ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n          offset = me.getDistanceFromCenterForValue(opts.ticks.reverse ? me.min : me.max);\n          position = me.getPointPosition(i, offset);\n          ctx.beginPath();\n          ctx.moveTo(me.xCenter, me.yCenter);\n          ctx.lineTo(position.x, position.y);\n          ctx.stroke();\n        }\n\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"drawBorder\",\n    value: function drawBorder() {}\n  }, {\n    key: \"drawLabels\",\n    value: function drawLabels() {\n      var me = this;\n      var ctx = me.ctx;\n      var opts = me.options;\n      var tickOpts = opts.ticks;\n\n      if (!tickOpts.display) {\n        return;\n      }\n\n      var startAngle = me.getIndexAngle(0);\n      var offset, width;\n      ctx.save();\n      ctx.translate(me.xCenter, me.yCenter);\n      ctx.rotate(startAngle);\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      me.ticks.forEach(function (tick, index) {\n        if (index === 0 && !opts.reverse) {\n          return;\n        }\n\n        var optsAtIndex = tickOpts.setContext(me.getContext(index));\n        var tickFont = toFont(optsAtIndex.font);\n        offset = me.getDistanceFromCenterForValue(me.ticks[index].value);\n\n        if (optsAtIndex.showLabelBackdrop) {\n          width = ctx.measureText(tick.label).width;\n          ctx.fillStyle = optsAtIndex.backdropColor;\n          var padding = toPadding(optsAtIndex.backdropPadding);\n          ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n        }\n\n        renderText(ctx, tick.label, 0, -offset, tickFont, {\n          color: optsAtIndex.color\n        });\n      });\n      ctx.restore();\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {}\n  }]);\n\n  return RadialLinearScale;\n}(LinearScaleBase);\n\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback: function callback(label) {\n      return label;\n    },\n    padding: 5\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\nvar INTERVALS = {\n  millisecond: {\n    common: true,\n    size: 1,\n    steps: 1000\n  },\n  second: {\n    common: true,\n    size: 1000,\n    steps: 60\n  },\n  minute: {\n    common: true,\n    size: 60000,\n    steps: 60\n  },\n  hour: {\n    common: true,\n    size: 3600000,\n    steps: 24\n  },\n  day: {\n    common: true,\n    size: 86400000,\n    steps: 30\n  },\n  week: {\n    common: false,\n    size: 604800000,\n    steps: 4\n  },\n  month: {\n    common: true,\n    size: 2.628e9,\n    steps: 12\n  },\n  quarter: {\n    common: false,\n    size: 7.884e9,\n    steps: 4\n  },\n  year: {\n    common: true,\n    size: 3.154e10\n  }\n};\nvar UNITS = Object.keys(INTERVALS);\n\nfunction sorter(a, b) {\n  return a - b;\n}\n\nfunction _parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  var adapter = scale._adapter;\n  var _scale$_parseOpts = scale._parseOpts,\n      parser = _scale$_parseOpts.parser,\n      round = _scale$_parseOpts.round,\n      isoWeekday = _scale$_parseOpts.isoWeekday;\n  var value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string' ? adapter.parse(value, parser) : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  var ilen = UNITS.length;\n\n  for (var i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    var interval = INTERVALS[UNITS[i]];\n    var factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (var i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    var unit = UNITS[i];\n\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\nfunction determineMajorUnit(unit) {\n  for (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    var _lookup2 = _lookup(timestamps, time),\n        lo = _lookup2.lo,\n        hi = _lookup2.hi;\n\n    var timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  var adapter = scale._adapter;\n  var first = +adapter.startOf(ticks[0].value, majorUnit);\n  var last = ticks[ticks.length - 1].value;\n  var major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n\n  return ticks;\n}\n\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  var ticks = [];\n  var map = {};\n  var ilen = values.length;\n  var i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value: value,\n      major: false\n    });\n  }\n\n  return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nvar TimeScale = /*#__PURE__*/function (_Scale4) {\n  _inherits(TimeScale, _Scale4);\n\n  var _super24 = _createSuper(TimeScale);\n\n  function TimeScale(props) {\n    var _this18;\n\n    _classCallCheck(this, TimeScale);\n\n    _this18 = _super24.call(this, props);\n    _this18._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    _this18._unit = 'day';\n    _this18._majorUnit = undefined;\n    _this18._offsets = {};\n    _this18._normalized = false;\n    _this18._parseOpts = undefined;\n    return _this18;\n  }\n\n  _createClass(TimeScale, [{\n    key: \"init\",\n    value: function init(scaleOpts, opts) {\n      var time = scaleOpts.time || (scaleOpts.time = {});\n      var adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n      mergeIf(time.displayFormats, adapter.formats());\n      this._parseOpts = {\n        parser: time.parser,\n        round: time.round,\n        isoWeekday: time.isoWeekday\n      };\n\n      _get(_getPrototypeOf(TimeScale.prototype), \"init\", this).call(this, scaleOpts);\n\n      this._normalized = opts.normalized;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (raw === undefined) {\n        return null;\n      }\n\n      return _parse(this, raw);\n    }\n  }, {\n    key: \"beforeLayout\",\n    value: function beforeLayout() {\n      _get(_getPrototypeOf(TimeScale.prototype), \"beforeLayout\", this).call(this);\n\n      this._cache = {\n        data: [],\n        labels: [],\n        all: []\n      };\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var me = this;\n      var options = me.options;\n      var adapter = me._adapter;\n      var unit = options.time.unit || 'day';\n\n      var _me$getUserBounds5 = me.getUserBounds(),\n          min = _me$getUserBounds5.min,\n          max = _me$getUserBounds5.max,\n          minDefined = _me$getUserBounds5.minDefined,\n          maxDefined = _me$getUserBounds5.maxDefined;\n\n      function _applyBounds(bounds) {\n        if (!minDefined && !isNaN(bounds.min)) {\n          min = Math.min(min, bounds.min);\n        }\n\n        if (!maxDefined && !isNaN(bounds.max)) {\n          max = Math.max(max, bounds.max);\n        }\n      }\n\n      if (!minDefined || !maxDefined) {\n        _applyBounds(me._getLabelBounds());\n\n        if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n          _applyBounds(me.getMinMax(false));\n        }\n      }\n\n      min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n      max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n      me.min = Math.min(min, max - 1);\n      me.max = Math.max(min + 1, max);\n    }\n  }, {\n    key: \"_getLabelBounds\",\n    value: function _getLabelBounds() {\n      var arr = this.getLabelTimestamps();\n      var min = Number.POSITIVE_INFINITY;\n      var max = Number.NEGATIVE_INFINITY;\n\n      if (arr.length) {\n        min = arr[0];\n        max = arr[arr.length - 1];\n      }\n\n      return {\n        min: min,\n        max: max\n      };\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var me = this;\n      var options = me.options;\n      var timeOpts = options.time;\n      var tickOpts = options.ticks;\n      var timestamps = tickOpts.source === 'labels' ? me.getLabelTimestamps() : me._generate();\n\n      if (options.bounds === 'ticks' && timestamps.length) {\n        me.min = me._userMin || timestamps[0];\n        me.max = me._userMax || timestamps[timestamps.length - 1];\n      }\n\n      var min = me.min;\n      var max = me.max;\n\n      var ticks = _filterBetween(timestamps, min, max);\n\n      me._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, me.min, me.max, me._getLabelCapacity(min)) : determineUnitForFormatting(me, ticks.length, timeOpts.minUnit, me.min, me.max));\n      me._majorUnit = !tickOpts.major.enabled || me._unit === 'year' ? undefined : determineMajorUnit(me._unit);\n      me.initOffsets(timestamps);\n\n      if (options.reverse) {\n        ticks.reverse();\n      }\n\n      return ticksFromTimestamps(me, ticks, me._majorUnit);\n    }\n  }, {\n    key: \"initOffsets\",\n    value: function initOffsets(timestamps) {\n      var me = this;\n      var start = 0;\n      var end = 0;\n      var first, last;\n\n      if (me.options.offset && timestamps.length) {\n        first = me.getDecimalForValue(timestamps[0]);\n\n        if (timestamps.length === 1) {\n          start = 1 - first;\n        } else {\n          start = (me.getDecimalForValue(timestamps[1]) - first) / 2;\n        }\n\n        last = me.getDecimalForValue(timestamps[timestamps.length - 1]);\n\n        if (timestamps.length === 1) {\n          end = last;\n        } else {\n          end = (last - me.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n        }\n      }\n\n      var limit = timestamps.length < 3 ? 0.5 : 0.25;\n      start = _limitValue(start, 0, limit);\n      end = _limitValue(end, 0, limit);\n      me._offsets = {\n        start: start,\n        end: end,\n        factor: 1 / (start + 1 + end)\n      };\n    }\n  }, {\n    key: \"_generate\",\n    value: function _generate() {\n      var me = this;\n      var adapter = me._adapter;\n      var min = me.min;\n      var max = me.max;\n      var options = me.options;\n      var timeOpts = options.time;\n      var minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, me._getLabelCapacity(min));\n      var stepSize = valueOrDefault(timeOpts.stepSize, 1);\n      var weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n      var hasWeekday = isNumber(weekday) || weekday === true;\n      var ticks = {};\n      var first = min;\n      var time, count;\n\n      if (hasWeekday) {\n        first = +adapter.startOf(first, 'isoWeek', weekday);\n      }\n\n      first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n      if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n        throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n      }\n\n      var timestamps = options.ticks.source === 'data' && me.getDataTimestamps();\n\n      for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n        addTick(ticks, time, timestamps);\n      }\n\n      if (time === max || options.bounds === 'ticks' || count === 1) {\n        addTick(ticks, time, timestamps);\n      }\n\n      return Object.keys(ticks).sort(function (a, b) {\n        return a - b;\n      }).map(function (x) {\n        return +x;\n      });\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      var me = this;\n      var adapter = me._adapter;\n      var timeOpts = me.options.time;\n\n      if (timeOpts.tooltipFormat) {\n        return adapter.format(value, timeOpts.tooltipFormat);\n      }\n\n      return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n  }, {\n    key: \"_tickFormatFunction\",\n    value: function _tickFormatFunction(time, index, ticks, format) {\n      var me = this;\n      var options = me.options;\n      var formats = options.time.displayFormats;\n      var unit = me._unit;\n      var majorUnit = me._majorUnit;\n      var minorFormat = unit && formats[unit];\n      var majorFormat = majorUnit && formats[majorUnit];\n      var tick = ticks[index];\n      var major = majorUnit && majorFormat && tick && tick.major;\n\n      var label = me._adapter.format(time, format || (major ? majorFormat : minorFormat));\n\n      var formatter = options.ticks.callback;\n      return formatter ? callback(formatter, [label, index, ticks], me) : label;\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var i, ilen, tick;\n\n      for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n        tick = ticks[i];\n        tick.label = this._tickFormatFunction(tick.value, i, ticks);\n      }\n    }\n  }, {\n    key: \"getDecimalForValue\",\n    value: function getDecimalForValue(value) {\n      var me = this;\n      return value === null ? NaN : (value - me.min) / (me.max - me.min);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      var me = this;\n      var offsets = me._offsets;\n      var pos = me.getDecimalForValue(value);\n      return me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var me = this;\n      var offsets = me._offsets;\n      var pos = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n      return me.min + pos * (me.max - me.min);\n    }\n  }, {\n    key: \"_getLabelSize\",\n    value: function _getLabelSize(label) {\n      var me = this;\n      var ticksOpts = me.options.ticks;\n      var tickLabelWidth = me.ctx.measureText(label).width;\n      var angle = toRadians(me.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n      var cosRotation = Math.cos(angle);\n      var sinRotation = Math.sin(angle);\n\n      var tickFontSize = me._resolveTickFontOptions(0).size;\n\n      return {\n        w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n        h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n      };\n    }\n  }, {\n    key: \"_getLabelCapacity\",\n    value: function _getLabelCapacity(exampleTime) {\n      var me = this;\n      var timeOpts = me.options.time;\n      var displayFormats = timeOpts.displayFormats;\n      var format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n\n      var exampleLabel = me._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(me, [exampleTime], me._majorUnit), format);\n\n      var size = me._getLabelSize(exampleLabel);\n\n      var capacity = Math.floor(me.isHorizontal() ? me.width / size.w : me.height / size.h) - 1;\n      return capacity > 0 ? capacity : 1;\n    }\n  }, {\n    key: \"getDataTimestamps\",\n    value: function getDataTimestamps() {\n      var me = this;\n      var timestamps = me._cache.data || [];\n      var i, ilen;\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var metas = me.getMatchingVisibleMetas();\n\n      if (me._normalized && metas.length) {\n        return me._cache.data = metas[0].controller.getAllParsedValues(me);\n      }\n\n      for (i = 0, ilen = metas.length; i < ilen; ++i) {\n        timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(me));\n      }\n\n      return me._cache.data = me.normalize(timestamps);\n    }\n  }, {\n    key: \"getLabelTimestamps\",\n    value: function getLabelTimestamps() {\n      var me = this;\n      var timestamps = me._cache.labels || [];\n      var i, ilen;\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var labels = me.getLabels();\n\n      for (i = 0, ilen = labels.length; i < ilen; ++i) {\n        timestamps.push(_parse(me, labels[i]));\n      }\n\n      return me._cache.labels = me._normalized ? timestamps : me.normalize(timestamps);\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize(values) {\n      return _arrayUnique(values.sort(sorter));\n    }\n  }]);\n\n  return TimeScale;\n}(Scale);\n\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  var prevSource, nextSource, prevTarget, nextTarget;\n\n  if (reverse) {\n    prevSource = Math.floor(val);\n    nextSource = Math.ceil(val);\n    prevTarget = table[prevSource];\n    nextTarget = table[nextSource];\n  } else {\n    var result = _lookup(table, val);\n\n    prevTarget = result.lo;\n    nextTarget = result.hi;\n    prevSource = table[prevTarget];\n    nextSource = table[nextTarget];\n  }\n\n  var span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nvar TimeSeriesScale = /*#__PURE__*/function (_TimeScale) {\n  _inherits(TimeSeriesScale, _TimeScale);\n\n  var _super25 = _createSuper(TimeSeriesScale);\n\n  function TimeSeriesScale(props) {\n    var _this19;\n\n    _classCallCheck(this, TimeSeriesScale);\n\n    _this19 = _super25.call(this, props);\n    _this19._table = [];\n    _this19._maxIndex = undefined;\n    return _this19;\n  }\n\n  _createClass(TimeSeriesScale, [{\n    key: \"initOffsets\",\n    value: function initOffsets() {\n      var me = this;\n\n      var timestamps = me._getTimestampsForTable();\n\n      me._table = me.buildLookupTable(timestamps);\n      me._maxIndex = me._table.length - 1;\n\n      _get(_getPrototypeOf(TimeSeriesScale.prototype), \"initOffsets\", this).call(this, timestamps);\n    }\n  }, {\n    key: \"buildLookupTable\",\n    value: function buildLookupTable(timestamps) {\n      var me = this;\n      var min = me.min,\n          max = me.max;\n\n      if (!timestamps.length) {\n        return [{\n          time: min,\n          pos: 0\n        }, {\n          time: max,\n          pos: 1\n        }];\n      }\n\n      var items = [min];\n      var i, ilen, curr;\n\n      for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n        curr = timestamps[i];\n\n        if (curr > min && curr < max) {\n          items.push(curr);\n        }\n      }\n\n      items.push(max);\n      return items;\n    }\n  }, {\n    key: \"_getTimestampsForTable\",\n    value: function _getTimestampsForTable() {\n      var me = this;\n      var timestamps = me._cache.all || [];\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var data = me.getDataTimestamps();\n      var label = me.getLabelTimestamps();\n\n      if (data.length && label.length) {\n        timestamps = me.normalize(data.concat(label));\n      } else {\n        timestamps = data.length ? data : label;\n      }\n\n      timestamps = me._cache.all = timestamps;\n      return timestamps;\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value, index) {\n      var me = this;\n      var offsets = me._offsets;\n      var pos = me._normalized && me._maxIndex > 0 && !isNullOrUndef(index) ? index / me._maxIndex : me.getDecimalForValue(value);\n      return me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n  }, {\n    key: \"getDecimalForValue\",\n    value: function getDecimalForValue(value) {\n      return interpolate(this._table, value) / this._maxIndex;\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var me = this;\n      var offsets = me._offsets;\n      var decimal = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n      return interpolate(me._table, decimal * this._maxIndex, true);\n    }\n  }]);\n\n  return TimeSeriesScale;\n}(TimeScale);\n\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\nvar scales = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  CategoryScale: CategoryScale,\n  LinearScale: LinearScale,\n  LogarithmicScale: LogarithmicScale,\n  RadialLinearScale: RadialLinearScale,\n  TimeScale: TimeScale,\n  TimeSeriesScale: TimeSeriesScale\n});\nvar registerables = [controllers, elements, plugins, scales];\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, animator, controllers, elements, layouts, plugins, registerables, registry, scales };"],"sourceRoot":""}